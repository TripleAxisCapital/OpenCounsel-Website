<!-- Sync Successful -->

<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>

  <!-- ───── OpenCounsel.ca (www): SEO + Favicon using logo1.svg ───── -->
<title>OC — The AI Workspace for Outliers</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<meta name="description" content="The uncensored workspace for outliers—private, polished, and powerful.">
<link rel="canonical" href="https://www.opencounsel.ca/">
<meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
<link rel="sitemap" type="application/xml" href="https://www.opencounsel.ca/sitemap.xml">

<!-- Internationalization -->
<link rel="alternate" href="https://www.opencounsel.ca/" hreflang="x-default">
<link rel="alternate" href="https://www.opencounsel.ca/en/" hreflang="en">

<!-- Performance & UX -->
<link rel="preconnect" href="https://cdn.opencounsel.ca" crossorigin>
<link rel="dns-prefetch" href="//cdn.opencounsel.ca">
<link rel="preload" as="font" href="/fonts/InterVariable.woff2" type="font/woff2" crossorigin>
<link rel="preload" as="image" href="/images/og/opencounsel-hero.jpg" fetchpriority="high">
<!-- Preload local mask logo to ensure instant swap -->
<link rel="preload" as="image" href="logo.svg">
<meta http-equiv="x-dns-prefetch-control" content="on">
<meta name="theme-color" content="#0B1B2B">

<!-- Icons (use logo1.svg for favicon) -->
<link rel="icon" type="image/svg+xml" href="https://www.opencounsel.ca/icons/logo1.svg">
<link rel="alternate icon" href="https://www.opencounsel.ca/icons/logo.svg">
<!-- Apple still prefers PNG for touch icons -->
<link rel="apple-touch-icon" sizes="180x180" href="https://www.opencounsel.ca/icons/apple-touch-icon-180.png">
<!-- Optional pinned tab (Safari) -->
<link rel="mask-icon" href="https://www.opencounsel.ca/logo.svg" color="#0B1220">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website">
<meta property="og:site_name" content="OC">
<meta property="og:title" content="OC — The Uncensored Workspace for Outliers">
<meta property="og:description" content="The uncensored workspace for outliers—private, polished, and powerful.">
<meta property="og:url" content="https://www.opencounsel.ca/">
<meta property="og:image" content="https://www.opencounsel.ca/images/og/opencounsel-1200x630.jpg">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">

<!-- Twitter / X -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@OpenCounselAI">
<meta name="twitter:title" content="OC — The Uncensored Workspace for Outliers">
<meta name="twitter:description" content="The uncensored workspace for outliers—private, polished, and powerful.">
<meta name="twitter:image" content="https://www.opencounsel.ca/images/og/opencounsel-1200x630.jpg">

<!-- Structured Data (Organization/WebSite) — point logo to logo1.svg -->
<script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@graph":[
    {
      "@type":"Organization",
      "name":"OC",
      "url":"https://www.opencounsel.ca/",
      "logo":"https://www.opencounsel.ca/icons/logo1.svg",
      "sameAs":[
        "https://x.com/OpenCounselAI",
        "https://www.linkedin.com/company/opencounsel",
        "https://github.com/opencounsel"
      ]
    },
    {
      "@type":"WebSite",
      "url":"https://www.opencounsel.ca/",
      "name":"OC",
      "potentialAction":{
        "@type":"SearchAction",
        "target":"https://www.opencounsel.ca/search?q={query}",
        "query-input":"required name=query"
      }
    }
  ]
}
</script>
<!-- ─────────────────────────────────────────────────────────────── -->

<!-- Pretty URL (client-side mask) -->
<script>
  window.OC = { base:"", slug:"Home", file:"/index.html" }; // ← change per page

  (function(L,C){try{
    var B=C.base||"", S="/"+(C.slug||"home"), F=C.file||"/index.html";
    var p=L.pathname.replace(/\/+$/,"");
    if(B && p.startsWith(B)) p=p.slice(B.length)||"/";
    if(p===F || p==="/") history.replaceState(null,"",B+S+L.search+L.hash);
  }catch(_){}})(location, window.OC);
</script>


<!-- OS detect (used for hero CTA icon) -->
<script>
  (function(){
    try{
      const ua = navigator.userAgent || "";
      const plat = (navigator.userAgentData && navigator.userAgentData.platform)
                   || navigator.platform || ua;
      const isWin = /win/i.test(plat) || /windows/i.test(ua);
      const isMac = /mac/i.test(plat) || /(macintosh|mac os x|macintel)/i.test(ua) || /iPhone|iPad|iPod/i.test(ua);
      window.OC_OS = isWin ? "windows" : (isMac ? "mac" : "other");
    }catch(_){ window.OC_OS = "other"; }
  })();
</script>

  <!-- iOS/Standalone (lets users hide Safari UI when launched from Home Screen) -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="OC">
  <!-- Optional icons/manifest (add these files to fully enable the standalone PWA look) -->
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <link rel="manifest" href="/manifest.webmanifest">
  <meta name="theme-color" content="#0B1B2B">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <!-- Icons + Tailwind -->
  <script src="https://unpkg.com/@phosphor-icons/web"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: { sans: ['Inter','ui-sans-serif','system-ui'] },
          colors: {
            oc: { ink:'#0A0D10', soft:'#F5F7F9', line:'#E7EDF2', accent:'#5B8CFF', lilac:'#E7E7FF' }
          },
          boxShadow: {
            card:'0 6px 30px rgba(16,24,40,0.08)',
            glow:'0 0 0 1px rgba(255,255,255,.06), 0 10px 30px rgba(16,24,40,.18)'
          }
        }
      }
    }
  </script>

  <style>
    /* ================================
       GLOBAL CONTROLS
       ================================ */
    :root {
      --pad-mobile-x: 24px;
      --pad-desktop-x: 32px;
      --hamburger-inset: 13px;

      /* ==== Global Scroll-Blur Controls (content inside cards) ==== */
      --scroll-blur-start: 16px;
      --scroll-blur-end: 0px;
      --scroll-blur-duration: 1100ms; /* smoother */
      --scroll-blur-ease: cubic-bezier(.16,1,.3,1); /* Apple-y ease-out */
      --scroll-blur-opacity-start: .65;
      --scroll-blur-opacity-end: 1;
      --scroll-blur-translate: 8px;

      /* ==== Card backdrop blur controls (the glass card itself) ==== */
      --card-blur-start: 12px;
      --card-blur-end: 0px;
      --card-blur-duration: 900ms;
      --card-blur-ease: cubic-bezier(.16,1,.3,1);

      /* Chat demo palette hooks */
      --line:#E7EDF2;
      --brand-angle:135deg;
      --brand-1:#0B1B2B;
      --brand-2:#0E6F5C;
      --brand-3:#00CFFF;
      --lilac:#E7E7FF;

      /* ===== Demo Stage Dimensions (fixed like a video) ===== */
      --demo-stage-h-sm: 360px;
      --demo-stage-h-lg: 440px;
    }

    /* Kill horizontal scroll without breaking sticky */
    html, body { max-width: 100%; overflow-x: clip !important; }
    @supports not (overflow-x: clip) { html, body { overflow-x: hidden !important; } }
    .section-clip { position: relative; overflow-x: clip; }

    .oc-container { padding-left: var(--pad-mobile-x); padding-right: var(--pad-mobile-x); }
    @media (min-width: 1024px) { .oc-container { padding-left: var(--pad-desktop-x); padding-right: var(--pad-desktop-x); } }
    ::selection{background:#5B8CFF;color:#fff}

    @media (prefers-reduced-motion: no-preference) {
      .reveal { opacity:0; transform: translateY(18px) scale(.98); transition: opacity .6s ease, transform .6s ease; }
      .reveal.in { opacity:1; transform: translateY(0) scale(1); }
      .tilt:hover{ transform: translateY(-2px) scale(1.01); }
      .tilt{ transition: transform .25s ease; }
    }

    @keyframes logoIntro { from { transform: translateY(6px) scale(.92); opacity:0 } to { transform: translateY(0) scale(1); opacity:1 } }
    @keyframes gradientShift { 0%{background-position:0% 50%} 50%{background-position:100% 50%} 100%{background-position:0% 50%} }

    /* ===========================================
       PER-SECTION GRADIENT CONTROLS
       =========================================== */
    #hamburgerBtn .hamburger {
      --from: #00CFFFcc; --via:#0E6F5Ccc; --to:#0B1B2Bcc; --angle:135deg; --speed:16s;
    }

    :root{
      --from:#0B1B2Bcc; --via:#0E6F5Ccc; --to:#00CFFFcc; --speed:16s; --angle:135deg;
      --grad-from:#0B1B2Bcc; --grad-via:#0E6F5Ccc; --grad-to:#00CFFFcc;
      --logo-width:64px; --logo-height:64px;
      /* Global hamburger icon color */
      --hamburger-color: #afafaf;

      /* ===============================
         GLOBAL: Hero Shine Controls
         Tweak these to adjust the shimmer
         =============================== */
      --hero-shine-duration: 5.5s; /* slower, smoother sweep */
      --hero-shine-ease: linear; /* constant, glassy motion */
      --hero-shine-angle: 90deg; /* strictly left ➜ right */
      --hero-shine-base: #e6e6e6; /* light white */
      --hero-shine-peak: #ffffff; /* bright white */
      --hero-shine-softness: 3.5%;  /* narrower band to avoid halo */
      --hero-shine-bg-size-x: 260%; /* slightly longer travel distance */
      --hero-shine-direction: reverse; /* normal = L➜R, reverse = R➜L */
    }

    #home { --from:#0B1B2Bcc; --via:#0E6F5Ccc; --to:#00CFFFcc; --speed:16s; --angle:135deg; --hero-logo-size: clamp(250px, 75vw, 500px); }
    #edge { --from:#0B1B2Bcc; --via:#0E6F5Ccc; --to:#0B1B2Bcc; --speed:16s; --angle:135deg; }
    #features { --from:#0B1B2Bcc; --via:#0E6F5Ccc; --to:#0B1B2Bcc; --speed:16s; --angle:135deg; }

    /* ========= PRIMITIVES ========= */
    .g-grad, .grad-anim{
      background: linear-gradient(var(--angle, 135deg), var(--from, #0a1f44cc), var(--via, #0b3d3dcc), var(--to, #064420cc));
      background-size: 300% 300%; animation: gradientShift var(--speed, 16s) ease-in-out infinite; will-change: background-position;
    }
    .animated-gradient { background-size:300% 300%; animation:gradientShift 16s ease-in-out infinite; will-change:background-position; }

    .logo-anim{
      display:inline-block; width:var(--logo-width); height:var(--logo-height);
      background: linear-gradient(135deg, var(--grad-from), var(--grad-via), var(--grad-to));
      background-size: 300% 300%;
      animation: logoIntro 800ms ease-out forwards, gradientShift 16s ease-in-out infinite;
      -webkit-mask: url('logo.svg') no-repeat center / contain; mask: url('logo.svg') no-repeat center / contain;
    }

    /* Hero title compositor hints for smoother swaps */
    #home .hero-title{ will-change: opacity, transform; -webkit-font-smoothing: antialiased; text-rendering: optimizeLegibility; }

    /* Hero: final white logo swap-in (mask on local logo.svg)
       Control size with --hero-logo-size (default is 2.5x prior). */
    .hero-logo-white{
      display:inline-block;
      width: var(--hero-logo-size, clamp(140px, 45vw, 400px));
      height: var(--hero-logo-size, clamp(140px, 45vw, 400px));
      background: #ffffff;
      /* Robust masking for Safari/Chrome/Firefox */
      -webkit-mask-image: url('logo.svg');
      -webkit-mask-repeat: no-repeat;
      -webkit-mask-position: center;
      -webkit-mask-size: contain;
      mask-image: url('logo.svg');
      mask-repeat: no-repeat;
      mask-position: center;
      mask-size: contain;
      opacity: 0;
      filter: blur(8px);
      transform: translateY(6px) scale(.985);
      animation: heroLogoReveal 900ms cubic-bezier(.16,1,.3,1) forwards;
      will-change: opacity, transform, filter;
      position: relative;
      z-index: 1;
      vertical-align: middle;
    }

    @keyframes heroLogoReveal {
      0%   { opacity: 0; filter: blur(8px); transform: translateY(6px) scale(.985); }
      60%  { opacity: 1; filter: blur(1.5px); transform: translateY(0) scale(1.000); }
      100% { opacity: 1; filter: blur(0); transform: translateY(0) scale(1); }
    }

    @media (prefers-reduced-motion: reduce) {
      .hero-logo-white { animation: none !important; opacity: 1; filter: none; transform: none; }
    }

    /* Hero shimmer sweep — apply to full subtitle */
    #home .hero-line1 .seg-fullshine {
      position: relative;
      /* Two-layer fill: base color + alpha highlight band (prevents residual glow) */
      background-image:
        linear-gradient(var(--hero-shine-angle, 90deg),
          rgba(255,255,255,0) 0%,
          rgba(255,255,255,0) calc(50% - var(--hero-shine-softness, 3.5%)),
          rgba(255,255,255,0.98) 50%,
          rgba(255,255,255,0) calc(50% + var(--hero-shine-softness, 3.5%)),
          rgba(255,255,255,0) 100%
        ),
        linear-gradient(var(--hero-shine-base, #e6e6e6), var(--hero-shine-base, #e6e6e6));
      background-size:
        var(--hero-shine-bg-size-x, 240%) 100%,
        100% 100%;
      background-repeat: no-repeat;
      /* Start highlight offscreen left; base stays fixed */
      background-position: -150% 0, 0 0;
      -webkit-background-clip: text; background-clip: text;
      -webkit-text-fill-color: transparent; color: transparent;
      animation: heroShine var(--hero-shine-duration, 5.5s) var(--hero-shine-ease, linear) infinite;
      animation-direction: var(--hero-shine-direction, normal);
      will-change: background-position;
    }
    @keyframes heroShine {
      0%   { background-position: -150% 0, 0 0; }
      100% { background-position:  150% 0, 0 0; }
    }
    @media (prefers-reduced-motion: reduce) {
      #home .hero-line1 .seg-fullshine { animation: none; -webkit-text-fill-color: #fff; color: #fff; background: none; }
    }

    /* Ensure each hero line stacks when present */
    #home .hero-line1, #home .hero-line2 { display: block; }

    /* Hero logo glow (Apple-like) */
    .hero-logo-wrap { position: relative; display: inline-block; }
    .hero-logo-glow {
      --glow-c1: rgba(0,207,255,.40);
      --glow-c2: rgba(14,111,92,.28);
      --glow-opacity: .55;
      --glow-blur: 30px;
      position: absolute;
      inset: -16%;
      border-radius: 9999px;
      background:
        radial-gradient(60% 60% at 50% 40%, var(--glow-c1), rgba(0,0,0,0) 70%),
        radial-gradient(55% 55% at 40% 60%, var(--glow-c2), rgba(0,0,0,0) 70%);
      filter: blur(var(--glow-blur));
      opacity: 0;
      z-index: 0;
      pointer-events: none;
      animation: heroGlowReveal 900ms cubic-bezier(.16,1,.3,1) forwards;
    }
    .hero-logo-glow.glow-pulse {
      animation:
        heroGlowReveal 900ms cubic-bezier(.16,1,.3,1) forwards,
        heroGlowPulse var(--glow-pulse-dur, 6s) ease-in-out infinite 1.1s;
    }
    @keyframes heroGlowReveal {
      0%   { opacity: 0; filter: blur(40px); }
      60%  { opacity: var(--glow-opacity); filter: blur(16px); }
      100% { opacity: var(--glow-opacity); filter: blur(var(--glow-blur)); }
    }
    @keyframes heroGlowPulse {
      0%, 100% { transform: scale(1); filter: blur(var(--glow-blur)); opacity: var(--glow-opacity); }
      50%      { transform: scale(1.03); filter: blur(calc(var(--glow-blur) + 6px)); opacity: calc(var(--glow-opacity) + .05); }
    }
    @media (prefers-reduced-motion: reduce) {
      .hero-logo-glow { animation: none !important; opacity: var(--glow-opacity); }
      .hero-logo-glow.glow-pulse { animation: none !important; }
    }

    .grad-text{
      background: linear-gradient(var(--angle,135deg), var(--from,#0a1f44cc), var(--via,#0b3d3dcc), var(--to,#064420cc));
      background-size: 300% 300%; animation: gradientShift var(--speed,16s) ease-in-out infinite;
      -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; color: transparent;
    }

    /* NEW: one-way gradient motion helpers (override .grad-text animation) */
    @keyframes gradientShiftRight { 0%{background-position:0% 50%} 100%{background-position: 100% 50%} }
    @keyframes gradientShiftLeft  { 0%{background-position:100% 50%} 100%{background-position: 0% 50%} }
    .grad-move-right { animation: gradientShiftRight var(--speed,16s) linear infinite !important; }
    .grad-move-left  { animation: gradientShiftLeft  var(--speed,16s) linear infinite !important; }

    .mobile-menu { backdrop-filter: blur(8px); }

    .hamburger { width: 32px; height: 28px; display: inline-flex; flex-direction: column; justify-content: center; gap: 6px; }
    .hamburger span {
      height: 3px; width: 100%; border-radius: 9999px;
      background: var(--hamburger-color, #000); /* solid color from global var */
      animation: none; background-size: initial;
      transition: transform .4s ease, opacity .2s ease, background-color .2s ease;
    }
    #hamburgerBtn.is-active .hamburger span:nth-child(1){ transform: translateY(9px) rotate(45deg); }
    #hamburgerBtn.is-active .hamburger span:nth-child(2){ opacity: 0; }
    #hamburgerBtn.is-active .hamburger span:nth-child(3){ transform: translateY(-9px) rotate(-45deg); }

    #hamburgerBtn { display:flex; align-items:center; justify-content:center; height:56px; padding:0; margin-right: var(--hamburger-inset); }
    @media (min-width: 768px) { #hamburgerBtn { display:none!important; } #mobileMenu{ display:none!important; } }

    .rows-equal { grid-auto-rows: 1fr; }
    .grid-stretch > * { height: 100%; }
    .card-glass { display:flex; flex-direction:column; height:100%; }

    @media (min-width: 1280px){ .mission-wrap{ max-width: 980px; } }
    @media (min-width: 1536px){ .mission-wrap{ max-width: 1040px; } }

    /* ===== PAGE START BLUR (unchanged as requested) ===== */
    .page-blur{
      position:fixed; inset:0; backdrop-filter:blur(28px); -webkit-backdrop-filter:blur(28px);
      background: rgba(255,255,255,.28); z-index:9999; pointer-events:none;
      transition: backdrop-filter 2s cubic-bezier(.2,.8,.2,1), background-color 2s cubic-bezier(.2,.8,.2,1), opacity 2s cubic-bezier(.2,.8,.2,1);
    }
    .page-blur.hide{ backdrop-filter:blur(0); -webkit-backdrop-filter:blur(0); background:transparent; opacity:0; }
    @media (prefers-reduced-motion: reduce){ .page-blur{ transition:none; } }

    /* Mobile slide-in menu */
    #mobileMenu { position:fixed; inset:0; z-index:60; display:none; pointer-events:none; }
    #mobileMenu .menu-scrim{
      position:absolute; inset:0; background: rgba(255,255,255,0.92);
      -webkit-backdrop-filter: blur(12px); backdrop-filter: blur(12px);
      opacity:0; transition: opacity 2s ease, backdrop-filter 2s ease, -webkit-backdrop-filter 2s ease;
    }
    #mobileMenu .menu-panel{
      position:absolute; top:0; left:0; height:100%; width:min(88vw, 420px); background:#fff;
      border-right: 1px solid rgba(0,0,0,.06); box-shadow: 0 24px 60px rgba(0,0,0,.12);
      transform: translateX(-100%); opacity:.98; filter: blur(12px);
      transition: transform .5s cubic-bezier(.22,.9,.22,1), filter 1s ease .1s;
      display:flex; flex-direction:column; padding:18px 20px;
    }
    #mobileMenu.active { display:block; pointer-events:auto; }
    #mobileMenu.active .menu-scrim{ opacity:1; -webkit-backdrop-filter:blur(0px); backdrop-filter:blur(0px); }
    #mobileMenu.active .menu-panel{ transform:translateX(0); filter:blur(0); }

    .drawer-head{ display:flex; align-items:center; justify-content:space-between; padding-bottom:6px; }
    .drawer-title{
      font-weight:700; letter-spacing:-.01em;
      background: linear-gradient(135deg, var(--grad-from), var(--grad-via), var(--grad-to));
      background-size:300% 300%; animation:gradientShift 16s ease-in-out infinite;
      -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent; color:transparent; font-size:20px;
    }
    .drawer-close{
      display:inline-flex; align-items:center; justify-content:center; width:40px; height:40px; border-radius:12px;
      border:1px solid rgba(0,0,0,.06); background:rgba(255,255,255,.8); transition: background .2s ease, transform .2s ease;
    }
    .drawer-close:hover{ background:#fff; transform:translateY(-1px); }

    .drawer-nav a:not(.drawer-cta){
      display:block; padding:14px 2px; font-weight:700; font-size:clamp(18px,4.4vw,20px); line-height:1.2;
      background: linear-gradient(135deg, var(--grad-from), var(--grad-via), var(--grad-to));
      background-size:300% 300%; animation:gradientShift 16s ease-in-out infinite;
      -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent; color:transparent;
      transition: transform .18s ease, opacity .18s ease;
    }
    .drawer-nav a:hover{ transform:translateY(-1px); opacity:.95; }
    .drawer-sep{ height:1px; background:linear-gradient(90deg, transparent, rgba(0,0,0,.08), transparent); margin:8px 0 6px; }

    .drawer-cta{
      display:inline-flex!important; align-items:center; justify-content:center; width:100%;
      text-align:center; position:relative; color:#fff!important; -webkit-text-fill-color:#fff!important;
      background-clip:border-box!important; -webkit-background-clip:border-box!important; overflow:hidden;
    }
    .drawer-cta > span{ z-index:0!important; }
    .drawer-cta i, .drawer-cta span, .drawer-cta::before, .drawer-cta::after{ position:relative; }

    /* ======= SCROLL BLUR (content inside cards) ======= */
    .scroll-fade { isolation:isolate; }
    .scroll-fade > * {
      filter: blur(var(--scroll-blur-start));
      opacity: var(--scroll-blur-opacity-start);
      transform: translateY(var(--scroll-blur-translate));
      transition:
        filter var(--scroll-blur-duration) var(--scroll-blur-ease),
        opacity var(--scroll-blur-duration) var(--scroll-blur-ease),
        transform var(--scroll-blur-duration) var(--scroll-blur-ease);
      will-change: filter, opacity, transform; backface-visibility:hidden; transform:translateZ(0);
    }
    .scroll-fade.in-view > * {
      filter: blur(var(--scroll-blur-end));
      opacity: var(--scroll-blur-opacity-end);
      transform: translateY(0);
    }

    /* ======= Card backdrop blur (the glass card itself) — smoother to clear, then stays clear ======= */
    .scroll-fade.card-glass {
      -webkit-backdrop-filter: blur(var(--card-blur-start)) !important;
      backdrop-filter: blur(var(--card-blur-start)) !important;
      transition:
        -webkit-backdrop-filter var(--card-blur-duration) var(--card-blur-ease),
        backdrop-filter var(--card-blur-duration) var(--card-blur-ease);
    }
    .scroll-fade.in-view.card-glass {
      -webkit-backdrop-filter: blur(var(--card-blur-end)) !important;
      backdrop-filter: blur(var(--card-blur-end)) !important;
    }

    .LargeAniLogo{ display:inline-block; width:var(--logo-size,72px); height:var(--logo-size,72px); }

    @supports (font-variation-settings: "wght" 500) {
      .nav-link { font-variation-settings:"wght" 520; transition: font-variation-settings 260ms ease, letter-spacing 260ms ease, transform 260ms ease; }
      .nav-link:hover { font-variation-settings:"wght" 700; letter-spacing:.01em; transform:translateY(-.5px) scale(1.02); }
    }
    @media (prefers-reduced-motion: reduce) { .nav-link { transition:none; } }

    /* ===== Chat Demo visuals (bubbles on background) ===== */
    .brand-gradient{ background-image:linear-gradient(var(--brand-angle),var(--brand-1),var(--brand-2),var(--brand-3)); background-size:200% 200%; }
    @keyframes breathe{0%{background-position:0% 50%;filter:saturate(.95)}50%{background-position:100% 50%;filter:saturate(1.05)}100%{background-position:0% 50%;filter:saturate(.95)}}
    .breathing{animation:breathe 6s ease-in-out infinite}
    .shadow-soft{box-shadow:0 2px 6px rgba(10,13,16,0.04), 0 12px 24px rgba(10,13,16,0.06)}
    .border-hairline{border:1px solid var(--line)}
    .think-stream{
      color:transparent; background-image:linear-gradient(var(--brand-angle),#00CFFF,#0E6F5C,#00CFFF); background-size:200% 200%;
      -webkit-background-clip:text; background-clip:text; animation:breathe 4.5s ease-in-out infinite;
      filter:drop-shadow(0 0 .3rem rgba(0,207,255,.3)); white-space:pre-wrap; line-height:1.6
    }
    @keyframes fadeAway{to{opacity:0;transform:translateY(-4px);filter:blur(2px)}}
    .fade-away{animation:fadeAway .38s ease forwards}
    .chip{font-size:12px;line-height:1;border:1px solid var(--line);background:#fff;border-radius:999px;padding:6px 10px;box-shadow:inset 0 1px 0 rgba(255,255,255,0.6),0 6px 14px rgba(10,13,16,.06);transition:transform .12s ease}
    .chip:hover{transform:translateY(-1px)}

    /* Chat stream layout (ChatGPT-like indent) */
    .chat-wrap { width:min(900px,100%); margin:0 auto; }
    .chat-stream { display:flex; flex-direction:column; gap:10px; }
    .msg-row { display:flex; width:100%; }
    .msg-assistant { justify-content:flex-start; padding-left:56px; }
    .msg-user { justify-content:flex-end; padding-right:56px; }
    .bubble {
      max-width:85%; border-radius:16px; padding:12px 16px;
      font-size:15px; line-height:1.6; box-shadow: 0 2px 6px rgba(10,13,16,0.04), 0 12px 24px rgba(10,13,16,0.06)
    }
    .bubble-user { background:#fff; border:1px solid var(--line); }
    .bubble-bot { background: color-mix(in srgb, var(--lilac) 35%, white); border:1px solid var(--line); overflow: visible; }
    .bubble .ai-final{ color:#0A0D10; white-space:normal; }

    /* ===== Document Preview (kept for parity) ===== */
    .doc-page{
      background:#fff; border:1px solid rgba(10,13,16,.06); box-shadow: 0 10px 28px rgba(10,13,16,.10);
      border-radius: 14px; padding: 28px 28px 32px 28px;
      aspect-ratio: 8.5 / 11; overflow: hidden;
      width: min(620px, 85vw);
      max-width: 100%;
    }
    .doc-h1{ font-size: 20px; font-weight: 700; letter-spacing:.02em; text-transform: uppercase; text-align:center; }
    .doc-sub{ font-size:12px; text-align:center; color:#666; margin-top:2px; }
    .doc-sec{ font-size:12px; font-weight:600; letter-spacing:.02em; text-transform:uppercase; color:#0A0D10; margin-top:16px; }
    .doc-p{ font-size:13px; line-height:1.5; color:#0A0D10; margin-top:6px; }
    .doc-small{ font-size:12px; color:#333; }
    .doc-rule{ height:1px; background:linear-gradient(90deg, transparent, rgba(0,0,0,.12), transparent); margin:12px 0; }
    .doc-bullets{ padding-left: 18px; margin-top: 4px; }
    .doc-bullets li{ font-size:13px; line-height:1.5; margin: 4px 0; }
    .doc-brand-band{ height:8px; border-radius:10px; }
    .doc-fade{ opacity:0; transform: translateY(4px); transition: opacity .25s ease, transform .25s ease; }
    .doc-fade.in{ opacity:1; transform: translateY(0); }

    /* ====== Fixed-size Demo Stage ====== */
    .demo-stage{
      position: relative;
      height: var(--demo-stage-h-sm);
      overflow: hidden;
      border-radius: 18px;
      border: 1px solid var(--line);
      background: #fff;
      box-shadow: 0 10px 30px rgba(10,13,16,.06);
      isolation:isolate;
    }
    @media (min-width: 768px){
      .demo-stage{ height: var(--demo-stage-h-lg); }
    }
    .scene{
      position:absolute; inset:0;
      display:flex; flex-direction:column; gap:10px;
      align-items:stretch; justify-content:center;
      padding: 18px 0;
      opacity:0; transform: scale(.985);
      transition: opacity .35s ease, transform .35s ease;
      will-change: opacity, transform;
    }
    .scene.active{ opacity:1; transform: scale(1); }
    .scene.exit{ opacity:0; transform: scale(.99); transition: opacity .28s ease, transform .28s ease; }

    /* ===== Hero CTA fade (Apple-smooth) ===== */
    .hero-cta-fade {
      opacity: 0;
      transform: translateY(8px);
      transition: opacity .66s cubic-bezier(.22,.8,.22,1), transform .66s cubic-bezier(.22,.8,.22,1);
      will-change: opacity, transform;
    }
    .hero-cta-fade.cta-visible {
      opacity: 1;
      transform: translateY(0);
    }

    /* ===== Hero height rules (exact bottom gap) ===== */
#home .hero-card{
  height: calc(100svh - var(--header-h,56px) - var(--gap-mobile,24px));
  min-height: calc(100svh - var(--header-h,56px) - var(--gap-mobile,24px));
}
@media (min-width: 1024px){
  #home .hero-card{
    height: calc(100svh - var(--header-h,56px) - var(--gap-desktop,24px)) !important;
    min-height: calc(100svh - var(--header-h,56px) - var(--gap-desktop,24px)) !important;
  }
}

    /* ===== Brands section (Apple-like) ===== */
    .brand-logo{
      height: clamp(28px, 3.2vw, 44px);
      width: auto;
      object-fit: contain;
      filter: grayscale(1);
      opacity: .78;
      transition: filter .28s ease, opacity .28s ease, transform .28s ease;
      will-change: transform, filter, opacity;
      image-rendering: -webkit-optimize-contrast;
    }
    .brand-logo:hover{ filter: grayscale(0); opacity: 1; transform: translateY(-2px) scale(1.02); }
    .brand-note{ font-size: 11px; color: #6b7280; }

    /* ===== HERO blinking caret (now fully controllable via CSS vars) ===== */
    .hero-caret{
      display:inline-block;
      height: 1em;
      vertical-align: -0.12em; /* subtle baseline alignment */
      margin-left: .05em;
      border-right: var(--caret-w, 2px) solid var(--caret-color, rgba(255,255,255,.9));
      animation: heroBlink var(--caret-blink, 900ms) steps(1) infinite;
      pointer-events:none;
    }
    /* Tighter spacing between logo/title and subtitle */
    #home .hero-sub1{ margin-top: 1px !important; }
    @media (min-width: 768px){ #home .hero-sub1{ margin-top: 3px !important; } }
    @keyframes heroBlink {
      0%, 49% { opacity: 1; }
      50%, 100% { opacity: 0; }
    }
  </style>

<style id="oc-hero-bold-rotator">
  /* Bold only the rotating words like "everything.", "students.", etc. */
  .hero-sub1 .hero-word { font-weight: 800; } /* or 700 if you prefer */
</style>

</head>

<body class="bg-white text-oc-ink font-sans antialiased">
  <!-- FULL-PAGE BLUR OVERLAY (unchanged) -->
  <div id="pageBlur" class="page-blur" aria-hidden="true"></div>

  <!-- HEADER -->
  <header class="sticky top-0 z-50 bg-white">
    <div class="relative mx-auto max-w-[1200px] oc-container h-14 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <a href="index.html" class="inline-flex items-center" aria-label="OC home">
          <span class="logo-anim" role="img" aria-label="OC"></span>
        </a>
      </div>

      <!-- UPDATED HEADER LINKS (now real pages) -->
      <nav class="hidden md:flex absolute left-1/2 -translate-x-1/2 items-center gap-8 text-sm">
        <a class="nav-link grad-anim bg-clip-text text-transparent font-medium" href="index.html">OC</a>
        <a class="nav-link grad-anim bg-clip-text text-transparent font-medium" href="contact.html">Contact</a>
        <a class="nav-link grad-anim bg-clip-text text-transparent font-medium" href="download.html">Download</a>
      </nav>

      <div class="flex items-center gap-2">
        <button id="hamburgerBtn"
          class="md:hidden rounded-xl tap-boost bg-transparent focus:outline-none focus:ring-2 focus:ring-oc-accent"
          aria-label="Open menu" aria-expanded="false" aria-controls="mobileMenu">
          <span class="hamburger" aria-hidden="true">
            <span></span><span></span><span></span>
          </span>
        </button>
      </div>
    </div>

    <!-- MOBILE MENU -->
    <div id="mobileMenu" aria-hidden="true">
      <div class="menu-scrim"></div>
      <aside class="menu-panel">
        <div class="drawer-head">
          <!-- Title now links to home for parity with other pages -->
          <a href="index.html" class="drawer-title">OC</a>
          <button id="closeMenuBtn" class="drawer-close" aria-label="Close menu">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M6 6l12 12M18 6L6 18" stroke="#0A0D10" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </button>
        </div>

        <!-- UPDATED MOBILE MENU LINKS (remove OpenCounsel item) -->
        <nav class="drawer-nav mt-2">
          <a href="contact.html">Contact</a>
          <a href="download.html">Download</a>
          <div class="drawer-sep"></div>
          <a
            href="download.html"
            class="drawer-cta relative inline-flex items-center gap-2 rounded-2xl px-6 py-3 text-base md:text-lg font-semibold text-white
                   focus:outline-none focus-visible:ring-4 focus-visible:ring-white/60
                   shadow-xl shadow-black/20 hover:shadow-2xl hover:shadow-black/30
                   transition-all duration-300 ease-out hover:-translate-y-[2px] active:translate-y-0
                   grad-anim mt-2 w-full justify-center"
            style="--from:var(--grad-from); --via:var(--grad-via); --to:var(--grad-to); --speed:16s; --angle:135deg;"
          >
            <i class="ph ph-download text-xl"></i>
            <span>Download</span>
          </a>
        </nav>
      </aside>
    </div>
  </header>

  <!-- DESKTOP SPACER TO OFFSET STICKY HEADER (prevents hero being hidden) 
  <div class="hidden lg:block h-14" aria-hidden="true"></div>-->

<!-- HERO -->
<section
  id="home"
  class="mx-auto max-w-[1200px] oc-container mt-0 reveal py-0"
  style="--gap-mobile: 24px; --gap-desktop: 24px;"
>
  <div
    class="hero-card relative g-grad grad-anim rounded-2xl overflow-hidden border border-oc-line box-border
           h-[calc(100svh-var(--header-h,56px)-var(--gap-mobile,24px))]
           lg:h-[calc(100svh-var(--header-h,56px)-var(--gap-desktop,24px))]
           flex items-center justify-center text-center
           px-[var(--pad-mobile-x)] lg:px-[var(--pad-desktop-x)]"
  >
    <div class="flex flex-col items-center max-w-2xl">
      <span class="hero-title font-semibold text-white text-5xl md:text-7xl leading-tight">OC</span>

      <!-- SUBTITLE: bigger + rotating word with blinking caret -->
      <p class="hero-sub1 mt-1 md:mt-2 text-2xl md:text-3xl text-white/90 leading-relaxed">
        <!-- JS will insert structure + caret and handle mobile split -->
      </p>

      <div class="mt-8 flex justify-center">
        <a
          id="heroCtaBtn"
          href="download.html"
          class="hero-cta hero-cta-fade relative inline-flex items-center gap-2 rounded-2xl px-6 py-3 text-base md:text-lg font-semibold text-white
                 focus:outline-none focus-visible:ring-4 focus-visible:ring-white/60
                 shadow-xl shadow-black/20 hover:shadow-2xl hover:shadow-black/30
                 transition-all duration-300 ease-out hover:-translate-y-[2px] active:translate-y-0
                 g-grad grad-anim"
          style="--from:#0E6F5Ccc; --via:#178D74cc; --to:#A0E4D4cc; --speed:16s; --angle:135deg;"
          aria-label="Download"
        >
          <span class="pointer-events-none absolute inset-0 -z-10 rounded-2xl blur-xl opacity-70"
                style="background: radial-gradient(60% 60% at 50% 50%, rgba(0,207,255,.35), rgba(0,0,0,0));"></span>
          <!-- OS-SWITCHED ICON (default mac, changed by script if Windows) -->
          <i id="heroCtaIcon" class="ph ph-apple-logo text-xl" aria-hidden="true"></i>
          <span class="hero-cta-text">Download</span>
        </a>
      </div>
    </div>

    <oc-down-arrow
      id="heroArrow"
      aria-hidden="true"
      class="pointer-events-none absolute left-1/2 -translate-x-1/2 bottom-6 md:bottom-24 opacity-0 transition-opacity duration-700 ease-out"
      size="56"
      thickness="3"
      alpha="0.85"
      amp="12%"
      bounce="2s"
      breathe="4s"
    ></oc-down-arrow>
  </div>
</section>

<!-- Measure actual header height (unchanged) -->
<script>
  (function setHeaderVar() {
    const pickHeader = () =>
      document.querySelector('header, #siteHeader, .site-header, nav[role="navigation"], .oc-nav');
    const set = () => {
      const el = pickHeader();
      const h = el ? el.getBoundingClientRect().height : 56; // fallback
      document.documentElement.style.setProperty('--header-h', Math.round(h) + 'px');
    };
    set();
    window.addEventListener('resize', set, { passive: true });
    window.addEventListener('orientationchange', set, { passive: true });
    const el = pickHeader();
    if (el && 'ResizeObserver' in window) new ResizeObserver(set).observe(el);
  })();
</script>

<!-- Arrow reveal controller (unchanged) -->
<script>
(() => {
  const ARROW_AFTER_CTA_MS = 40;
  const arrow  = document.getElementById('heroArrow');
  const ctaBtn = document.getElementById('heroCtaBtn');
  const ctaTxt = document.querySelector('#home .hero-cta-text');
  if (!arrow || !ctaBtn) return;

  const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
  const reveal = () => { arrow.classList.remove('opacity-0'); arrow.classList.add('opacity-100'); };

  document.addEventListener('oc:cta-text-done', () => {
    if (prefersReduced) { reveal(); return; }
    setTimeout(reveal, ARROW_AFTER_CTA_MS);
  }, { once: true });

  const onCtaInView = () => {
    if (prefersReduced) { reveal(); return; }
    if (!ctaTxt) { setTimeout(reveal, 10); return; }
    let lastChange = Date.now();
    const mo = new MutationObserver(() => { lastChange = Date.now(); });
    mo.observe(ctaTxt, { childList: true, characterData: true, subtree: true });

    const checkStable = () => {
      const idleMs = Date.now() - lastChange;
      if ((ctaTxt.textContent || '').trim() && idleMs > 10) {
        mo.disconnect(); reveal(); return true;
      }
      return false;
    };
    const tick = () => { if (!checkStable()) requestAnimationFrame(tick); };
    requestAnimationFrame(tick);
    setTimeout(() => { try { mo.disconnect(); } catch(e){} if (arrow.classList.contains('opacity-0')) reveal(); }, 6000);
  };

  const io = new IntersectionObserver((entries) => {
    for (const e of entries) {
      if (e.isIntersecting) { onCtaInView(); io.disconnect(); break; }
    }
  }, { threshold: 0.35 });

  io.observe(ctaBtn);
})();
</script>

<!-- OS-aware CTA label & icon (new) -->
<script>
(() => {
  const elBtn = document.getElementById('heroCtaBtn');
  const elIcon = document.getElementById('heroCtaIcon');
  const elTxt = document.querySelector('#home .hero-cta-text');
  if (!elBtn || !elTxt) return;

  const detectOS = () => {
    const ua = (navigator.userAgent || '').toLowerCase();
    const platRaw = (navigator.userAgentData && navigator.userAgentData.platform) || navigator.platform || '';
    const p = String(platRaw).toLowerCase();
    const isWindows = p.includes('win') || ua.includes('windows');
    const isAppleDesktop = p.includes('mac') || ua.includes('mac os x') || ua.includes('macintosh');
    const isIOS = /iphone|ipad|ipod/.test(ua);
    if (isWindows) return 'windows';
    if (isAppleDesktop || isIOS) return 'mac';
    return 'other';
  };

  const os = detectOS();
  const label = os === 'windows' ? 'Get for Windows' : (os === 'mac' ? 'Get for Mac' : 'Download');

  elTxt.textContent = label;
  elBtn.setAttribute('aria-label', label);
  elBtn.setAttribute('title', label);

  if (elIcon) {
    if (os === 'windows') {
      elIcon.className = 'ph ph-microsoft-logo text-xl';
    } else {
      elIcon.className = 'ph ph-apple-logo text-xl';
    }
    elIcon.setAttribute('aria-hidden', 'true');
  }

  // Signal that CTA text is finalized (so your arrow reveal can trigger immediately)
  setTimeout(() => { document.dispatchEvent(new CustomEvent('oc:cta-text-done')); }, 0);
})();
</script>


<section id="sly-4" class="section-clip relative mx-auto max-w-[1200px] oc-container reveal">
  <!-- Soft background glows (subtle, Apple-y) -->
  <div aria-hidden="true" class="pointer-events-none absolute inset-0 -z-10">
    <div class="absolute left-1/2 top-[-6rem] h-[22rem] w-[42rem] -translate-x-1/2 rounded-full blur-3xl"
         style="background: radial-gradient(60% 60% at 50% 40%, rgba(160,228,212,.22), rgba(160,228,212,0) 70%);"></div>
    <div class="absolute right-[-8%] bottom-[-12%] h-[18rem] w-[18rem] rounded-full blur-3xl"
         style="background: radial-gradient(55% 55% at 50% 50%, rgba(0,207,255,.14), rgba(0,207,255,0) 70%);"></div>
  </div>

  <div class="w-full py-24 md:py-32">
    <div class="mx-auto max-w-[900px] text-center">
      <h2
        class="sly-title text-oc-ink text-4xl md:text-6xl lg:text-7xl font-semibold tracking-tight"
      >
        <span class="inline-block">Private.</span>
        <span class="inline-block opacity-90">Polished.</span>
        <span class="inline-block opacity-90">Powerful.</span>
      </h2>

      <div class="mx-auto mt-6 h-px w-24 bg-gradient-to-r from-transparent via-neutral-300 to-transparent"></div>

      <p
        class="sly-sub mt-6 text-[11px] md:text-xs uppercase tracking-[0.32em] grad-text grad-move-left"
        style="--from:#0B1B2Bcc; --via:#0E6F5Ccc; --to:#00CFFFcc; --speed:16s; --angle:90deg;"
      >
        For Outliers
      </p>
    </div>
  </div>
</section>



<!-- COUNSEL FOR LIFE -->
<section class="section-clip relative mx-auto max-w-[1200px] px-6 md:px-8 pb-0 bg-white">
  <!-- Decorative glows -->
  <div aria-hidden="true" class="pointer-events-none absolute inset-0 -z-10">
    <div class="absolute left-1/2 top-0 h-72 w-[38rem] -translate-x-1/2 rounded-full blur-3xl" style="background: radial-gradient(60% 60% at 50% 40%, rgba(99,102,241,.25), rgba(99,102,241,0) 70%);"></div>
    <div class="absolute right-[-10%] bottom-[-10%] h-80 w-80 rounded-full blur-2xl" style="background: radial-gradient(55% 55% at 50% 50%, rgba(16,185,129,.18), rgba(16,185,129,0) 70%);"></div>
    <div class="absolute left-[-8%] bottom-[-6%] h-72 w-72 rounded-full blur-2xl" style="background: radial-gradient(55% 55% at 50% 50%, rgba(244,114,182,.18), rgba(244,114,182,0) 70%);"></div>
  </div>
  <div class="absolute inset-0 z-0 bg-white"></div>

  <div class="mission-wrap relative z-10 mx-auto max-w-[900px] rounded-3xl border border-black/5 bg-white/70 p-8 md:p-12 shadow-[0_10px_30px_rgba(0,0,0,0.06)] backdrop-blur">
    <div class="mx-auto w-fit rounded-full border border-black/10 bg-white/60 px-3 py-1 text-[11px] font-medium uppercase tracking-wide text-neutral-600">Vision</div>
    <h2 class="mt-4 text-center text-3xl md:text-4xl font-semibold tracking-tight text-neutral-900">Build. Think. Decide. Without limits.</h2>
    <p class="mx-auto mt-4 max-w-[650px] text-center text-lg leading-relaxed text-neutral-700">
      OC is your uncensored workspace—private by default, polished end‑to‑end, and powerful on‑device. Research, create, and ship with nothing in the way.
    </p>
    <div class="mx-auto mt-8 h-px w-20 bg-gradient-to-r from-transparent via-neutral-300 to-transparent"></div>

    <div class="mt-8 grid grid-cols-1 gap-4 sm:grid-cols-3 rows-equal grid-stretch">
      <div class="rounded-2xl border border-neutral-200 bg-white p-5 flex flex-col">
        <div class="flex items-center gap-3">
          <svg class="h-6 w-6 text-neutral-900" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M12 3v3m0 0l6 3-6 3-6-3 6-3Zm0 6v9m-5 0h10" stroke-linecap="round" stroke-linejoin="round"/></svg>
          <p class="font-semibold text-neutral-900">Master</p>
        </div>
        <p class="mt-2 text-sm text-neutral-600">Instant clarity for essays, projects, and market analysis.</p>
        <div class="mt-auto"></div>
      </div>
      <div class="rounded-2xl border border-neutral-200 bg-white p-5 flex flex-col">
        <div class="flex items-center gap-3">
          <svg class="h-6 w-6 text-neutral-900" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M12 3l7 4v5c0 4.5-3.1 8.6-7 9-3.9-.4-7-4.5-7-9V7l7-4z" stroke-linecap="round" stroke-linejoin="round"/></svg>
          <p class="font-semibold text-neutral-900">Create</p>
        </div>
        <p class="mt-2 text-sm text-neutral-600">From startup ideas to corporate strategy — guided with precision.</p>
        <div class="mt-auto"></div>
      </div>
      <div class="rounded-2xl border border-neutral-200 bg-white p-5 flex flex-col">
        <div class="flex items-center gap-3">
          <svg class="h-6 w-6 text-neutral-900" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M9 12l2 2 4-4M12 22C6.5 22 2 17.5 2 12S6.5 2 12 2s10 4.5 10 10-4.5 10-10 10z" stroke-linecap="round" stroke-linejoin="round"/></svg>
          <p class="font-semibold text-neutral-900">Life</p>
        </div>
        <p class="mt-2 text-sm text-neutral-600">Navigate contracts, cases, and life’s biggest decisions with ease.</p>
        <div class="mt-auto"></div>
      </div>
    </div>

    <div class="mt-10 flex items-center justify-center gap-3">
      <a href="download.html" class="inline-flex items-center rounded-2xl bg-neutral-900 px-5 py-3 text-sm font-medium text-white hover:opacity-90">Get OC</a>
      <a href="#learn-more" class="inline-flex items-center rounded-2xl border border-neutral-300 bg-white px-5 py-3 text-sm font-medium text-neutral-900 hover:bg-neutral-50">Learn more</a>
    </div>
  </div>
</section>

<div aria-hidden="true" style="height:52px;"></div>




<!-- ===== EDIT HERE PUT BRANDS HERE===== -->
  <!-- BRANDS / PLATFORM FOUNDATION -->
  <section id="brands" class="mx-auto max-w-[1200px] oc-container reveal">
    <div class="mission-wrap relative z-10 mx-auto max-w-[980px] mb-1 rounded-3xl border border-black/5 bg-white/70 p-8 md:p-12 shadow-[0_10px_30px_rgba(0,0,0,0.06)] backdrop-blur">
      <div class="mx-auto w-fit rounded-full border border-black/10 bg-white/60 px-3 py-1 text-[11px] font-medium uppercase tracking-wide text-neutral-600">Foundation</div>
      <h2 class="mt-4 text-center text-3xl md:text-4xl font-semibold tracking-tight text-neutral-900">Built on OpenAI, Google &amp; Meta</h2>
      <p class="mx-auto mt-4 max-w-[720px] text-center text-lg leading-relaxed text-neutral-700">
        OC integrates with leading AI ecosystems to deliver best-in-class reasoning, search, and on-device tooling.
        Local-first by design — private, fast, and reliable.
      </p>
      <div class="mx-auto mt-8 h-px w-20 bg-gradient-to-r from-transparent via-neutral-300 to-transparent"></div>

      <ul class="mt-8 grid grid-cols-1 sm:grid-cols-3 items-center justify-items-center gap-8">
  <li class="flex items-center justify-center">
    <img data-oc-brand="google" alt="Google" class="brand-logo h-12 sm:h-16 md:h-20 xl:h-20 w-auto object-contain" />
  </li>
  <li class="flex items-center justify-center">
    <img data-oc-brand="openai" alt="OpenAI" class="brand-logo h-12 sm:h-16 md:h-20 xl:h-20 w-auto object-contain" />
  </li>
  <li class="flex items-center justify-center">
    <img data-oc-brand="meta" alt="Meta" class="brand-logo h-12 sm:h-16 md:h-20 xl:h-20 w-auto object-contain" />
  </li>
</ul>

      <div class="mt-6 text-center brand-note">
        Logos are trademarks of their respective owners. Used here for identification only.
      </div>
    </div>
  </section>
<!-- ===== END BRANDS ===== -->












<!-- ===============================
     OC CORES — DROP-IN SECTION
     Paste anywhere inside <body>. Tailwind + Phosphor already on page.
     =============================== -->
<section id="oc-cores" class="section-clip relative mx-auto max-w-[1200px] oc-container reveal">
  <!-- Soft background glows (subtle, Apple-y) -->
  <div aria-hidden="true" class="pointer-events-none absolute inset-0 -z-10">
    <div class="absolute left-1/2 top-[-5rem] h-[22rem] w-[42rem] -translate-x-1/2 rounded-full blur-3xl"
         style="background: radial-gradient(60% 60% at 50% 40%, rgba(160,228,212,.20), rgba(160,228,212,0) 70%);"></div>
    <div class="absolute right-[-8%] bottom-[-12%] h-[18rem] w-[18rem] rounded-full blur-3xl"
         style="background: radial-gradient(55% 55% at 50% 50%, rgba(0,207,255,.12), rgba(0,207,255,0) 70%);"></div>
  </div>

  <!-- Header -->
  <div class="w-full pt-16 md:pt-24">
    <header class="mx-auto max-w-[900px] text-center">
      <div class="mx-auto w-fit rounded-full border border-black/10 bg-white/70 px-3 py-1 text-[11px] font-medium uppercase tracking-wide text-neutral-700">
        OC Core System
      </div>
      <h2 class="mt-4 text-3xl md:text-5xl font-semibold tracking-tight text-neutral-900">
        Modular intelligence. Precisely when you need it.
      </h2>
      <p class="mx-auto mt-3 max-w-[780px] text-[15px] leading-6 text-neutral-600">
        Each <strong>Core</strong> is a focused capability you can switch on inside OC. Start with <strong>OC-Core</strong>, then add
        <strong>Research-Core</strong> for verified search and <strong>Coach-Core</strong> for structured planning. New Cores ship continuously and update in place.
      </p>

      <!-- Chips -->
      <ul class="mt-6 flex flex-wrap justify-center gap-2 text-[12px]">
        <li class="chip bg-white">Private & Local-first</li>
        <li class="chip bg-white">Composable</li>
        <li class="chip bg-white">Versioned Updates</li>
        <li class="chip bg-white">One-click Activate</li>
      </ul>

      <!-- Actions -->
      <div class="mt-8 flex flex-wrap items-center justify-center gap-3">
        <a href="cores.html" class="inline-flex items-center gap-2 rounded-2xl bg-neutral-900 px-5 py-3 text-sm font-medium text-white hover:opacity-90">
          <i class="ph ph-squares-four text-base"></i> Visit Cores Library
        </a>
        <button type="button" data-open-cores
                class="inline-flex items-center gap-2 rounded-2xl border border-neutral-300 bg-white px-5 py-3 text-sm font-medium text-neutral-900 hover:bg-neutral-50">
          <i class="ph ph-magnifying-glass text-base"></i> Explore in-page
        </button>
      </div>
    </header>
  </div>

  <!-- Cards -->
  <div class="mt-10 md:mt-14 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 rows-equal grid-stretch">
    <!-- Card helper: gradient ring container -->
    <div class="p-[1px] rounded-2xl bg-gradient-to-br from-[#0B1B2B1A] via-[#0E6F5C1A] to-[#00CFFF1A]">
      <article class="card-glass scroll-fade h-full rounded-2xl border border-neutral-200 bg-white/80 p-6 backdrop-blur">
        <div class="flex items-center gap-3">
          <div class="h-11 w-11 shrink-0 rounded-2xl bg-neutral-100 ring-1 ring-neutral-200 flex items-center justify-center">
            <i class="ph ph-cpu text-neutral-900 text-xl"></i>
          </div>
          <div>
            <h3 class="font-semibold text-neutral-900 tracking-tight">OC-Core</h3>
            <p class="text-sm text-neutral-500">Foundation</p>
          </div>
        </div>
        <p class="mt-3 text-[15px] leading-6 text-neutral-700">
          The base runtime: fast local inference, projects, notes, export, and a clean Apple-grade UI.
        </p>
        <ul class="mt-3 space-y-2 text-sm text-neutral-700">
          <li class="flex items-start gap-2"><i class="ph ph-check-circle text-emerald-600 mt-[2px]"></i> Local models & semantic search</li>
          <li class="flex items-start gap-2"><i class="ph ph-check-circle text-emerald-600 mt-[2px]"></i> RAG with citations</li>
          <li class="flex items-start gap-2"><i class="ph ph-check-circle text-emerald-600 mt-[2px]"></i> PDF / DOCX export</li>
        </ul>
        <div class="mt-5 flex items-center gap-2">
          <a href="download.html" class="inline-flex items-center gap-2 rounded-xl bg-neutral-900 px-4 py-2 text-xs font-semibold text-white hover:opacity-90">
            <i class="ph ph-toggle-right"></i> Activate
          </a>
          <a href="cores.html#oc-core" class="inline-flex items-center gap-2 rounded-xl border border-neutral-300 bg-white px-4 py-2 text-xs font-semibold text-neutral-900 hover:bg-neutral-50">
            <i class="ph ph-book-open"></i> Docs
          </a>
        </div>
      </article>
    </div>

    <div class="p-[1px] rounded-2xl bg-gradient-to-br from-[#0B1B2B1A] via-[#0E6F5C1A] to-[#00CFFF1A]">
      <article class="card-glass scroll-fade h-full rounded-2xl border border-neutral-200 bg-white/80 p-6 backdrop-blur">
        <div class="flex items-center gap-3">
          <div class="h-11 w-11 shrink-0 rounded-2xl bg-neutral-100 ring-1 ring-neutral-200 flex items-center justify-center">
            <i class="ph ph-magnifying-glass text-neutral-900 text-xl"></i>
          </div>
          <div>
            <h3 class="font-semibold text-neutral-900 tracking-tight">OC-Research-Core</h3>
            <p class="text-sm text-neutral-500">Verified Research</p>
          </div>
        </div>
        <p class="mt-3 text-[15px] leading-6 text-neutral-700">
          Literature scans, legal lookups, linked sources, and auto-generated bibliographies — all traceable.
        </p>
        <ul class="mt-3 space-y-2 text-sm text-neutral-700">
          <li class="flex items-start gap-2"><i class="ph ph-check-circle text-emerald-600 mt-[2px]"></i> Source-linked summaries</li>
          <li class="flex items-start gap-2"><i class="ph ph-check-circle text-emerald-600 mt-[2px]"></i> Quote capture & export</li>
          <li class="flex items-start gap-2"><i class="ph ph-check-circle text-emerald-600 mt-[2px]"></i> Rapid scan templates</li>
        </ul>
        <div class="mt-5 flex items-center gap-2">
          <a href="download.html" class="inline-flex items-center gap-2 rounded-xl bg-neutral-900 px-4 py-2 text-xs font-semibold text-white hover:opacity-90">
            <i class="ph ph-toggle-right"></i> Activate
          </a>
          <a href="cores.html#oc-research-core" class="inline-flex items-center gap-2 rounded-xl border border-neutral-300 bg-white px-4 py-2 text-xs font-semibold text-neutral-900 hover:bg-neutral-50">
            <i class="ph ph-book-open"></i> Docs
          </a>
        </div>
      </article>
    </div>

    <div class="p-[1px] rounded-2xl bg-gradient-to-br from-[#0B1B2B1A] via-[#0E6F5C1A] to-[#00CFFF1A]">
      <article class="card-glass scroll-fade h-full rounded-2xl border border-neutral-200 bg-white/80 p-6 backdrop-blur">
        <div class="flex items-center gap-3">
          <div class="h-11 w-11 shrink-0 rounded-2xl bg-neutral-100 ring-1 ring-neutral-200 flex items-center justify-center">
            <i class="ph ph-compass-tool text-neutral-900 text-xl"></i>
          </div>
          <div>
            <h3 class="font-semibold text-neutral-900 tracking-tight">OC-Coach-Core</h3>
            <p class="text-sm text-neutral-500">Planning & Execution</p>
          </div>
        </div>
        <p class="mt-3 text-[15px] leading-6 text-neutral-700">
          Turn goals into weekly plans, habits, and reviews. Build, measure, and adjust with clarity.
        </p>
        <ul class="mt-3 space-y-2 text-sm text-neutral-700">
          <li class="flex items-start gap-2"><i class="ph ph-check-circle text-emerald-600 mt-[2px]"></i> Project briefs & sprints</li>
          <li class="flex items-start gap-2"><i class="ph ph-check-circle text-emerald-600 mt-[2px]"></i> Habit loops & check-ins</li>
          <li class="flex items-start gap-2"><i class="ph ph-check-circle text-emerald-600 mt-[2px]"></i> Progress snapshots</li>
        </ul>
        <div class="mt-5 flex items-center gap-2">
          <a href="download.html" class="inline-flex items-center gap-2 rounded-xl bg-neutral-900 px-4 py-2 text-xs font-semibold text-white hover:opacity-90">
            <i class="ph ph-toggle-right"></i> Activate
          </a>
          <a href="cores.html#oc-coach-core" class="inline-flex items-center gap-2 rounded-xl border border-neutral-300 bg-white px-4 py-2 text-xs font-semibold text-neutral-900 hover:bg-neutral-50">
            <i class="ph ph-book-open"></i> Docs
          </a>
        </div>
      </article>
    </div>
  </div>

  <!-- Roadmap note -->
  <div class="mx-auto mt-8 md:mt-10 max-w-[900px] text-center">
    <p class="text-sm text-neutral-600">
      More Cores are in active development — Finance, Drafting, Build, Data, and more — all discoverable in the
      <a href="cores.html" class="underline decoration-neutral-300 underline-offset-4 hover:decoration-neutral-500">Cores Library</a>.
      Updates roll out seamlessly.
    </p>
  </div>

  <!-- Explorer CTA (secondary) -->
  <div class="mt-6 flex justify-center">
    <button type="button" data-open-cores
            class="inline-flex items-center gap-2 rounded-2xl border border-neutral-300 bg-white px-5 py-3 text-sm font-medium text-neutral-900 hover:bg-neutral-50">
      <i class="ph ph-squares-four text-base"></i> Open Cores Explorer
    </button>
  </div>
</section>

<!-- ===============================
     CORES LIBRARY — Modal Explorer
     Focus-trapped, scroll-safe, non-squished
     =============================== -->
<div id="coresModal" class="fixed inset-0 z-[70] hidden" aria-hidden="true">
  <!-- Scrim -->
  <div class="absolute inset-0 bg-black/20 backdrop-blur-sm opacity-0 transition-opacity duration-300"></div>

  <!-- Panel -->
  <div class="absolute left-1/2 top-1/2 w-[92vw] max-w-[1000px] -translate-x-1/2 -translate-y-1/2
              rounded-2xl border border-neutral-200 bg-white shadow-[0_24px_80px_rgba(10,13,16,0.18)]
              opacity-0 scale-[.98] transition-[opacity,transform] duration-300
              flex flex-col"
       role="dialog" aria-modal="true" aria-labelledby="coresTitle" aria-describedby="coresDesc">
    <!-- Header -->
    <div class="flex items-center justify-between gap-3 px-5 md:px-6 pt-5 pb-3 border-b border-neutral-200">
      <div>
        <h3 id="coresTitle" class="text-lg md:text-xl font-semibold tracking-tight text-neutral-900">Cores Library</h3>
        <p id="coresDesc" class="mt-[2px] text-sm text-neutral-600">Search, preview, and activate Cores.</p>
      </div>
      <button data-close-cores aria-label="Close" class="rounded-xl border border-neutral-200 bg-white p-2 hover:bg-neutral-50">
        <i class="ph ph-x text-lg"></i>
      </button>
    </div>

    <!-- Search / Controls -->
    <div class="px-5 md:px-6 py-3 grid grid-cols-1 md:grid-cols-3 gap-3 border-b border-neutral-200">
      <label class="md:col-span-2 relative block">
        <i class="ph ph-magnifying-glass absolute left-3 top-1/2 -translate-y-1/2 text-neutral-400"></i>
        <input id="coresSearch" type="search" placeholder="Search cores…"
               class="w-full rounded-xl border border-neutral-300 bg-white pl-10 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-neutral-900/10" />
      </label>
      <div class="flex items-center justify-between gap-2">
        <span id="coresCount" class="text-sm text-neutral-600">0 results</span>
        <a href="cores.html" class="inline-flex items-center gap-2 rounded-xl border border-neutral-300 bg-white px-3 py-2 text-sm text-neutral-900 hover:bg-neutral-50">
          <i class="ph ph-arrow-square-out"></i> Full page
        </a>
      </div>
    </div>

    <!-- Content (non-squished scroll area) -->
    <div class="px-5 md:px-6 py-5 overflow-y-auto"
         style="max-height: min(80vh, 760px)">
      <ul id="coresGrid"
          class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 auto-rows-fr">
        <!-- Core cards injected by script -->
      </ul>
    </div>
  </div>
</div>

<script>
(() => {
  // ===== Modal wiring (open/close, focus trap, scroll lock)
  const modal = document.getElementById('coresModal');
  if (!modal) return;

  const scrim = modal.firstElementChild;
  const panel = modal.querySelector('[role="dialog"]');
  const openBtns = document.querySelectorAll('[data-open-cores]');
  const closeBtns = modal.querySelectorAll('[data-close-cores]');

  let lastFocused = null;
  let trapHandler = null;

  function showModal(){
    lastFocused = document.activeElement;
    modal.classList.remove('hidden');
    // trigger transitions
    requestAnimationFrame(() => {
      scrim.classList.add('opacity-100');
      panel.classList.remove('scale-[.98]','opacity-0');
      panel.classList.add('opacity-100','scale-100');
    });
    document.body.classList.add('overflow-hidden');
    // focus first focusable
    const first = panel.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
    if (first) first.focus({ preventScroll:true });

    // Trap focus
    trapHandler = (e) => {
      if (e.key !== 'Tab') return;
      const f = panel.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
      const focusables = Array.from(f).filter(el => !el.hasAttribute('disabled') && el.offsetParent !== null);
      if (!focusables.length) return;
      const firstEl = focusables[0];
      const lastEl  = focusables[focusables.length - 1];
      if (e.shiftKey && document.activeElement === firstEl) { lastEl.focus(); e.preventDefault(); }
      else if (!e.shiftKey && document.activeElement === lastEl) { firstEl.focus(); e.preventDefault(); }
    };
    document.addEventListener('keydown', trapHandler);
  }

  function hideModal(){
    scrim.classList.remove('opacity-100');
    panel.classList.add('scale-[.98]','opacity-0');
    panel.classList.remove('opacity-100','scale-100');
    document.body.classList.remove('overflow-hidden');
    setTimeout(() => { modal.classList.add('hidden'); }, 280);
    if (lastFocused) try { lastFocused.focus({ preventScroll:true }); } catch(e){}
    document.removeEventListener('keydown', trapHandler);
    trapHandler = null;
  }

  openBtns.forEach(b => b.addEventListener('click', showModal));
  closeBtns.forEach(b => b.addEventListener('click', hideModal));
  scrim.addEventListener('click', hideModal);
  document.addEventListener('keydown', (e) => { if (e.key === 'Escape' && !modal.classList.contains('hidden')) hideModal(); });

  // ===== Data (extend freely)
  const CORES = [
    {
      id:'oc-core', name:'OC-Core', tier:'Foundation',
      desc:'Base runtime, projects, notes, export, local models.',
      tags:['base','runtime','local','ui'],
      icon:'ph-cpu'
    },
    {
      id:'oc-research-core', name:'OC-Research-Core', tier:'Verified Research',
      desc:'Source-linked answers, literature scans, citations & BibTeX.',
      tags:['research','law','citations'],
      icon:'ph-magnifying-glass'
    },
    {
      id:'oc-coach-core', name:'OC-Coach-Core', tier:'Planning & Execution',
      desc:'Plans, habits, check-ins, and weekly reviews.',
      tags:['coach','habits','planning'],
      icon:'ph-compass-tool'
    },
    // Upcoming — demonstrate growth
    { id:'oc-draft-core', name:'OC-Draft-Core', tier:'Writing', desc:'Long-form drafting with structure & style controls.', tags:['writing','drafting'], icon:'ph-notebook' },
    { id:'oc-fin-core', name:'OC-Finance-Core', tier:'Finance', desc:'Models, P&L, Monte Carlo, portfolio snapshots.', tags:['finance','quant'], icon:'ph-chart-line-up' },
    { id:'oc-build-core', name:'OC-Build-Core', tier:'Build', desc:'Product specs, PRDs, issue drafts, and sprints.', tags:['product','engineering'], icon:'ph-hammer' },
    { id:'oc-data-core', name:'OC-Data-Core', tier:'Data', desc:'Clean, join, and visualize — fast.', tags:['data','viz'], icon:'ph-chart-pie' },
  ];

  // ===== Render grid
  const grid  = document.getElementById('coresGrid');
  const count = document.getElementById('coresCount');
  const search = document.getElementById('coresSearch');

  function coreCard(c){
    return `
      <li class="group p-[1px] rounded-2xl bg-gradient-to-br from-[#0B1B2B1A] via-[#0E6F5C1A] to-[#00CFFF1A]">
        <article class="h-full rounded-2xl border border-neutral-200 bg-white/80 p-5 backdrop-blur flex flex-col">
          <div class="flex items-center gap-3">
            <div class="h-10 w-10 shrink-0 rounded-2xl bg-neutral-100 ring-1 ring-neutral-200 flex items-center justify-center">
              <i class="ph ${c.icon} text-neutral-900 text-lg"></i>
            </div>
            <div>
              <h4 class="font-semibold text-neutral-900 tracking-tight">${c.name}</h4>
              <p class="text-xs text-neutral-500">${c.tier}</p>
            </div>
          </div>
          <p class="mt-3 text-sm text-neutral-700 flex-1">${c.desc}</p>
          <div class="mt-3 flex flex-wrap gap-2">
            ${c.tags.map(t => `<span class="chip bg-white">${t}</span>`).join('')}
          </div>
          <div class="mt-4 flex items-center gap-2">
            <a href="download.html" class="inline-flex items-center gap-2 rounded-xl bg-neutral-900 px-3.5 py-2 text-xs font-semibold text-white hover:opacity-90">
              <i class="ph ph-toggle-right"></i> Activate
            </a>
            <a href="cores.html#${c.id}" class="inline-flex items-center gap-2 rounded-xl border border-neutral-300 bg-white px-3.5 py-2 text-xs font-semibold text-neutral-900 hover:bg-neutral-50">
              <i class="ph ph-book-open"></i> Docs
            </a>
          </div>
        </article>
      </li>`;
  }

  function render(list){
    grid.innerHTML = list.map(coreCard).join('');
    count.textContent = `${list.length} ${list.length === 1 ? 'result' : 'results'}`;
  }

  render(CORES);

  // ===== Search filter (by name/tags/desc)
  function filterCores(q){
    const s = q.trim().toLowerCase();
    if (!s) return CORES;
    return CORES.filter(c =>
      c.name.toLowerCase().includes(s) ||
      c.tier.toLowerCase().includes(s) ||
      c.desc.toLowerCase().includes(s) ||
      (c.tags||[]).some(t => t.toLowerCase().includes(s))
    );
  }
  search.addEventListener('input', (e) => render(filterCores(e.target.value)));

})();
</script>



<!-- ============================================================
     OC CORES — Apple-style drop-in section
     - Explains the Core system + advertises OC-Core, Research, Coach
     - “Cores Library” modal (dedicated explorer space, scrollable)
     - Smooth Apple-grade animations, respects prefers-reduced-motion
     - No external deps beyond your Tailwind + Phosphor already on page
     ============================================================ -->
<section id="oc-cores" class="section-clip relative mx-auto max-w-[1200px] oc-container reveal">
  <!-- Background glows (subtle, Apple-y) -->
  <div aria-hidden="true" class="pointer-events-none absolute inset-0 -z-10">
    <div class="absolute left-1/2 top-[-7rem] h-[22rem] w-[42rem] -translate-x-1/2 rounded-full blur-3xl"
         style="background: radial-gradient(60% 60% at 50% 40%, rgba(160,228,212,.22), rgba(160,228,212,0) 70%);"></div>
    <div class="absolute right-[-8%] bottom-[-14%] h-[18rem] w-[18rem] rounded-full blur-3xl"
         style="background: radial-gradient(55% 55% at 50% 50%, rgba(0,207,255,.16), rgba(0,207,255,0) 70%);"></div>
  </div>

  <div class="w-full py-20 md:py-28">
    <!-- Header -->
    <header class="mx-auto max-w-[900px] text-center">
      <div class="mx-auto w-fit rounded-full border border-black/10 bg-white/60 px-3 py-1 text-[11px] font-medium uppercase tracking-[.18em] text-neutral-700">
        OC Core System
      </div>
      <h2 class="mt-4 text-oc-ink text-3xl md:text-5xl lg:text-6xl font-semibold tracking-tight">
        Specialized brains<span class="sr-only"> — </span>
        <span class="grad-text grad-move-left"
              style="--from:#0B1B2Bcc; --via:#0E6F5Ccc; --to:#00CFFFcc; --speed:16s; --angle:135deg;">
          that snap into OC.
        </span>
      </h2>
      <p class="mx-auto mt-4 max-w-[760px] text-[15px] leading-relaxed text-neutral-600">
        Cores are modular, task-tuned engines you can switch on as needed. Start with the generalist
        <strong>OC-Core</strong>, then layer <strong>OC-Research-Core</strong> for verifiable sourcing and
        <strong>OC-Coach-Core</strong> for structured progress. New cores ship continuously and update in place.
      </p>

      <!-- Explore CTA -->
      <div class="mt-6 flex items-center justify-center gap-3">
        <button id="openCoresLibraryBtn"
                class="relative inline-flex items-center gap-2 rounded-2xl px-5 py-3 text-sm md:text-base font-semibold text-white
                       focus:outline-none focus-visible:ring-4 focus-visible:ring-white/60
                       shadow-xl shadow-black/20 hover:shadow-2xl hover:shadow-black/30
                       transition-all duration-300 ease-out hover:-translate-y-[2px] active:translate-y-0
                       g-grad grad-anim"
                style="--from:#0E6F5Ccc; --via:#178D74cc; --to:#A0E4D4cc; --speed:16s; --angle:135deg;">
          <i class="ph ph-squares-four text-lg" aria-hidden="true"></i>
          <span>Explore the Cores</span>
          <span aria-hidden="true" class="ml-1 inline-block oc-core-shine"></span>
        </button>
        <a href="download.html"
           class="inline-flex items-center gap-2 rounded-2xl border border-neutral-300 bg-white px-5 py-3 text-sm md:text-base font-semibold text-neutral-900
                  hover:bg-neutral-50 focus:outline-none focus-visible:ring-4 focus-visible:ring-black/10">
          <i class="ph ph-download-simple text-lg" aria-hidden="true"></i>
          Get OC
        </a>
      </div>

      <div class="mx-auto mt-8 h-px w-24 bg-gradient-to-r from-transparent via-neutral-300 to-transparent"></div>
    </header>

    <!-- Three Core Cards -->
    <div class="mt-10 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-5 rows-equal grid-stretch">
      <!-- OC-Core -->
      <article class="oc-core-card tilt rounded-2xl border border-neutral-200 bg-white/80 backdrop-blur p-5 md:p-6 shadow-soft scroll-fade card-glass"
               data-core="oc-core">
        <div class="flex items-start gap-3">
          <div class="h-10 w-10 shrink-0 rounded-2xl bg-neutral-900 text-white ring-1 ring-black/10 flex items-center justify-center">
            <i class="ph ph-cpu text-[20px]" aria-hidden="true"></i>
          </div>
          <div>
            <h3 class="font-semibold text-neutral-900 tracking-tight">OC-Core</h3>
            <p class="mt-1 text-sm text-neutral-600">Generalist reasoning &amp; drafting—your on-device default.</p>
          </div>
        </div>
        <ul class="mt-4 space-y-2 text-sm text-neutral-700">
          <li class="flex items-start gap-2"><i class="ph ph-check-circle text-[18px] text-neutral-900 mt-[1px]" aria-hidden="true"></i>Fast, private responses</li>
          <li class="flex items-start gap-2"><i class="ph ph-check-circle text-[18px] text-neutral-900 mt-[1px]" aria-hidden="true"></i>Great for ideas, docs, emails</li>
          <li class="flex items-start gap-2"><i class="ph ph-check-circle text-[18px] text-neutral-900 mt-[1px]" aria-hidden="true"></i>Works offline</li>
        </ul>
        <div class="mt-5">
          <button class="oc-core-activate btn-ghost" data-core-activate="oc-core">
            <span class="chip">Activate</span>
          </button>
        </div>
      </article>

      <!-- OC-Research-Core -->
      <article class="oc-core-card tilt rounded-2xl border border-neutral-200 bg-white/80 backdrop-blur p-5 md:p-6 shadow-soft scroll-fade card-glass"
               data-core="oc-research-core">
        <div class="flex items-start gap-3">
          <div class="h-10 w-10 shrink-0 rounded-2xl bg-neutral-900 text-white ring-1 ring-black/10 flex items-center justify-center">
            <i class="ph ph-magnifying-glass text-[20px]" aria-hidden="true"></i>
          </div>
          <div>
            <h3 class="font-semibold text-neutral-900 tracking-tight">OC-Research-Core</h3>
            <p class="mt-1 text-sm text-neutral-600">Verifiable research with citations &amp; source controls.</p>
          </div>
        </div>
        <ul class="mt-4 space-y-2 text-sm text-neutral-700">
          <li class="flex items-start gap-2"><i class="ph ph-check-circle text-[18px] text-neutral-900 mt-[1px]" aria-hidden="true"></i>Curated databases &amp; RAG</li>
          <li class="flex items-start gap-2"><i class="ph ph-check-circle text-[18px] text-neutral-900 mt-[1px]" aria-hidden="true"></i>Inline quotes &amp; links</li>
          <li class="flex items-start gap-2"><i class="ph ph-check-circle text-[18px] text-neutral-900 mt-[1px]" aria-hidden="true"></i>Bias &amp; conflict checks</li>
        </ul>
        <div class="mt-5">
          <button class="oc-core-activate btn-ghost" data-core-activate="oc-research-core">
            <span class="chip">Activate</span>
          </button>
        </div>
      </article>

      <!-- OC-Coach-Core -->
      <article class="oc-core-card tilt rounded-2xl border border-neutral-200 bg-white/80 backdrop-blur p-5 md:p-6 shadow-soft scroll-fade card-glass"
               data-core="oc-coach-core">
        <div class="flex items-start gap-3">
          <div class="h-10 w-10 shrink-0 rounded-2xl bg-neutral-900 text-white ring-1 ring-black/10 flex items-center justify-center">
            <i class="ph ph-rocket-launch text-[20px]" aria-hidden="true"></i>
          </div>
          <div>
            <h3 class="font-semibold text-neutral-900 tracking-tight">OC-Coach-Core</h3>
            <p class="mt-1 text-sm text-neutral-600">Structured coaching for skills, habits, and outcomes.</p>
          </div>
        </div>
        <ul class="mt-4 space-y-2 text-sm text-neutral-700">
          <li class="flex items-start gap-2"><i class="ph ph-check-circle text-[18px] text-neutral-900 mt-[1px]" aria-hidden="true"></i>Plans, prompts, progress</li>
          <li class="flex items-start gap-2"><i class="ph ph-check-circle text-[18px] text-neutral-900 mt-[1px]" aria-hidden="true"></i>Weekly reviews &amp; tweaks</li>
          <li class="flex items-start gap-2"><i class="ph ph-check-circle text-[18px] text-neutral-900 mt-[1px]" aria-hidden="true"></i>Expert playbooks</li>
        </ul>
        <div class="mt-5">
          <button class="oc-core-activate btn-ghost" data-core-activate="oc-coach-core">
            <span class="chip">Activate</span>
          </button>
        </div>
      </article>
    </div>

    <!-- Ongoing releases note -->
    <div class="mt-8 flex flex-col items-center gap-3 text-center">
      <div class="inline-flex items-center gap-2 rounded-full border border-neutral-200 bg-white px-3 py-1">
        <i class="ph ph-sparkle text-neutral-900" aria-hidden="true"></i>
        <span class="text-[12px] font-medium text-neutral-800 tracking-wide">New cores release continuously</span>
      </div>
      <p class="max-w-[780px] text-[14px] text-neutral-600">
        Explore the full library—analytics, drafting, agents, media, and more. Updates install automatically.
      </p>
    </div>
  </div>
</section>

<!-- ===== Cores Library (Dedicated Explorer) — Accessible Modal ===== -->
<div id="coresLibrary" class="oc-cores-modal fixed inset-0 z-[70] hidden" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="coresLibraryTitle">
  <!-- Scrim -->
  <div class="oc-cores-scrim absolute inset-0 bg-white/80 backdrop-blur-sm transition-opacity duration-300 opacity-0"></div>

  <!-- Panel (centered, responsive; never squished) -->
  <div class="oc-cores-panel pointer-events-auto absolute left-1/2 top-1/2 w-[92vw] max-w-[1100px] -translate-x-1/2 -translate-y-1/2
              rounded-3xl border border-black/10 bg-white shadow-[0_24px_80px_rgba(10,13,16,0.18)] transition-all duration-300
              opacity-0 scale-[.98] will-change-transform"
       style="height: min(92svh, 860px);">

    <!-- Sticky header inside modal -->
    <header class="sticky top-0 z-10 flex items-center justify-between gap-3 border-b border-neutral-200 bg-white/90 backdrop-blur px-5 md:px-6 py-4 rounded-t-3xl">
      <div class="flex items-center gap-3">
        <span class="inline-flex h-9 w-9 items-center justify-center rounded-xl bg-neutral-900 text-white ring-1 ring-black/10">
          <i class="ph ph-squares-four text-[18px]" aria-hidden="true"></i>
        </span>
        <div>
          <h3 id="coresLibraryTitle" class="text-[15px] md:text-[16px] font-semibold tracking-tight text-neutral-900">OC Cores Library</h3>
          <p class="text-[12px] text-neutral-600 leading-snug">Browse, search, and activate specialized cores.</p>
        </div>
      </div>

      <div class="flex items-center gap-2">
        <div class="relative hidden sm:block">
          <i class="ph ph-magnifying-glass absolute left-3 top-1/2 -translate-y-1/2 text-neutral-500" aria-hidden="true"></i>
          <input id="coresSearch" type="search" inputmode="search" placeholder="Search cores"
                 class="w-[220px] rounded-xl border border-neutral-200 bg-white px-9 py-2 text-[13px] outline-none focus:border-neutral-300">
        </div>
        <button id="closeCoresLibraryBtn"
                class="inline-flex items-center justify-center h-10 w-10 rounded-xl border border-neutral-200 bg-white hover:bg-neutral-50"
                aria-label="Close cores library">
          <i class="ph ph-x"></i>
        </button>
      </div>
    </header>

    <!-- Scrollable content area (prevents squish) -->
    <div class="oc-cores-scroll relative px-5 md:px-6 py-5 overflow-y-auto" style="height: calc(100% - 72px); overscroll-behavior: contain;">
      <!-- Filters -->
      <div class="mb-4 flex flex-wrap items-center gap-2">
        <button class="oc-filter chip" data-filter="all">All</button>
        <button class="oc-filter chip" data-filter="available">Available</button>
        <button class="oc-filter chip" data-filter="coming">Coming Soon</button>
        <button class="oc-filter chip" data-filter="research">Research</button>
        <button class="oc-filter chip" data-filter="creation">Creation</button>
        <button class="oc-filter chip" data-filter="productivity">Productivity</button>
        <button class="oc-filter chip" data-filter="agents">Agents</button>
      </div>

      <!-- Grid -->
      <ul id="coresGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-5">
        <!-- Available cores -->
        <li class="group rounded-2xl border border-neutral-200 bg-white/80 p-5 shadow-soft hover:shadow-md transition"
            data-tags="available productivity default general oc-core">
          <div class="flex items-start gap-3">
            <span class="h-10 w-10 rounded-2xl bg-neutral-900 text-white flex items-center justify-center ring-1 ring-black/10">
              <i class="ph ph-cpu text-[20px]" aria-hidden="true"></i>
            </span>
            <div>
              <h4 class="font-semibold text-neutral-900 tracking-tight">OC-Core</h4>
              <p class="mt-1 text-[13px] text-neutral-600">Generalist reasoning &amp; drafting.</p>
            </div>
          </div>
          <div class="mt-4 flex items-center justify-between">
            <span class="text-[12px] rounded-full border border-green-200 bg-green-50 px-2 py-1 text-green-700">Available</span>
            <button class="text-[13px] font-semibold text-neutral-900 hover:opacity-80" data-core-activate="oc-core">Activate</button>
          </div>
        </li>

        <li class="group rounded-2xl border border-neutral-200 bg-white/80 p-5 shadow-soft hover:shadow-md transition"
            data-tags="available research citations research-core oc-research-core">
          <div class="flex items-start gap-3">
            <span class="h-10 w-10 rounded-2xl bg-neutral-900 text-white flex items-center justify-center ring-1 ring-black/10">
              <i class="ph ph-magnifying-glass text-[20px]" aria-hidden="true"></i>
            </span>
            <div>
              <h4 class="font-semibold text-neutral-900 tracking-tight">OC-Research-Core</h4>
              <p class="mt-1 text-[13px] text-neutral-600">Verifiable research with citations.</p>
            </div>
          </div>
          <div class="mt-4 flex items-center justify-between">
            <span class="text-[12px] rounded-full border border-green-200 bg-green-50 px-2 py-1 text-green-700">Available</span>
            <button class="text-[13px] font-semibold text-neutral-900 hover:opacity-80" data-core-activate="oc-research-core">Activate</button>
          </div>
        </li>

        <li class="group rounded-2xl border border-neutral-200 bg-white/80 p-5 shadow-soft hover:shadow-md transition"
            data-tags="available productivity coach coaching oc-coach-core">
          <div class="flex items-start gap-3">
            <span class="h-10 w-10 rounded-2xl bg-neutral-900 text-white flex items-center justify-center ring-1 ring-black/10">
              <i class="ph ph-rocket-launch text-[20px]" aria-hidden="true"></i>
            </span>
            <div>
              <h4 class="font-semibold text-neutral-900 tracking-tight">OC-Coach-Core</h4>
              <p class="mt-1 text-[13px] text-neutral-600">Plans, prompts, and progress tracking.</p>
            </div>
          </div>
          <div class="mt-4 flex items-center justify-between">
            <span class="text-[12px] rounded-full border border-green-200 bg-green-50 px-2 py-1 text-green-700">Available</span>
            <button class="text-[13px] font-semibold text-neutral-900 hover:opacity-80" data-core-activate="oc-coach-core">Activate</button>
          </div>
        </li>

        <!-- Coming soon examples -->
        <li class="group rounded-2xl border border-neutral-200 bg-white/80 p-5 shadow-soft hover:shadow-md transition"
            data-tags="coming creation drafting writing oc-draft-core">
          <div class="flex items-start gap-3">
            <span class="h-10 w-10 rounded-2xl bg-white text-neutral-900 flex items-center justify-center ring-1 ring-black/10">
              <i class="ph ph-feather text-[20px]" aria-hidden="true"></i>
            </span>
            <div>
              <h4 class="font-semibold text-neutral-900 tracking-tight">OC-Draft-Core</h4>
              <p class="mt-1 text-[13px] text-neutral-600">Long-form drafting &amp; editing.</p>
            </div>
          </div>
          <div class="mt-4 flex items-center justify-between">
            <span class="text-[12px] rounded-full border border-amber-200 bg-amber-50 px-2 py-1 text-amber-700">Coming Soon</span>
            <span class="text-[12px] text-neutral-500">Not yet available</span>
          </div>
        </li>

        <li class="group rounded-2xl border border-neutral-200 bg-white/80 p-5 shadow-soft hover:shadow-md transition"
            data-tags="coming research analytics analysis oc-analyze-core">
          <div class="flex items-start gap-3">
            <span class="h-10 w-10 rounded-2xl bg-white text-neutral-900 flex items-center justify-center ring-1 ring-black/10">
              <i class="ph ph-chart-line text-[20px]" aria-hidden="true"></i>
            </span>
            <div>
              <h4 class="font-semibold text-neutral-900 tracking-tight">OC-Analyze-Core</h4>
              <p class="mt-1 text-[13px] text-neutral-600">Data &amp; document analytics.</p>
            </div>
          </div>
          <div class="mt-4 flex items-center justify-between">
            <span class="text-[12px] rounded-full border border-amber-200 bg-amber-50 px-2 py-1 text-amber-700">Coming Soon</span>
            <span class="text-[12px] text-neutral-500">Not yet available</span>
          </div>
        </li>

        <li class="group rounded-2xl border border-neutral-200 bg-white/80 p-5 shadow-soft hover:shadow-md transition"
            data-tags="coming agents automation oc-agent-core">
          <div class="flex items-start gap-3">
            <span class="h-10 w-10 rounded-2xl bg-white text-neutral-900 flex items-center justify-center ring-1 ring-black/10">
              <i class="ph ph-robot text-[20px]" aria-hidden="true"></i>
            </span>
            <div>
              <h4 class="font-semibold text-neutral-900 tracking-tight">OC-Agent-Core</h4>
              <p class="mt-1 text-[13px] text-neutral-600">Multi-step autonomous workflows.</p>
            </div>
          </div>
          <div class="mt-4 flex items-center justify-between">
            <span class="text-[12px] rounded-full border border-amber-200 bg-amber-50 px-2 py-1 text-amber-700">Coming Soon</span>
            <span class="text-[12px] text-neutral-500">Not yet available</span>
          </div>
        </li>
      </ul>

      <!-- Footer note inside modal -->
      <div class="mt-6 text-center text-[12px] text-neutral-500">
        New cores ship monthly. Join updates on X/LinkedIn for release notes.
      </div>
    </div>
  </div>
</div>

<!-- Section styles (scoped-ish via IDs/classes) -->
<style>
  /* Tiny sheen pip to the Explore button */
  .oc-core-shine {
    width: 6px; height: 6px; border-radius: 9999px; background: #fff;
    box-shadow: 0 0 0 2px rgba(255,255,255,.28), 0 0 16px rgba(255,255,255,.55);
    opacity: .9; transform: translateY(.5px);
  }
  /* Hover lift on cards (uses your .tilt transition if present) */
  @media (prefers-reduced-motion: no-preference) {
    .oc-core-card:hover { transform: translateY(-2px) scale(1.01); transition: transform .22s ease; }
  }
  /* Modal show/hide classes are toggled via JS */
  .oc-cores-modal[aria-hidden="false"] .oc-cores-scrim { opacity: 1; }
  .oc-cores-modal[aria-hidden="false"] .oc-cores-panel  { opacity: 1; transform: translate(-50%,-50%) scale(1); }
  /* Mobile search input (header) */
  @media (max-width: 639px){
    #coresSearch { display: none !important; }
  }
</style>

<!-- Minimal interactivity (open/close, focus trap, search/filter, safe scroll) -->
<script>
(() => {
  const modal   = document.getElementById('coresLibrary');
  const scrim   = modal?.querySelector('.oc-cores-scrim');
  const panel   = modal?.querySelector('.oc-cores-panel');
  const openBtn = document.getElementById('openCoresLibraryBtn');
  const closeBtn= document.getElementById('closeCoresLibraryBtn');
  const grid    = document.getElementById('coresGrid');
  const search  = document.getElementById('coresSearch');
  const filters = Array.from(document.querySelectorAll('.oc-filter'));

  if (!modal || !panel || !openBtn || !closeBtn) return;

  let lastFocus = null;
  const focusableSel = [
    'a[href]','button:not([disabled])','input:not([disabled])','select:not([disabled])',
    'textarea:not([disabled])','[tabindex]:not([tabindex="-1"])'
  ].join(',');

  function trapFocus(e){
    if (modal.getAttribute('aria-hidden') === 'true') return;
    const f = panel.querySelectorAll(focusableSel);
    if (!f.length) return;
    const first = f[0], last = f[f.length - 1];
    if (e.key === 'Tab'){
      if (e.shiftKey && document.activeElement === first){ e.preventDefault(); last.focus(); }
      else if (!e.shiftKey && document.activeElement === last){ e.preventDefault(); first.focus(); }
    } else if (e.key === 'Escape'){ close(); }
  }

  function open(){
    lastFocus = document.activeElement;
    modal.classList.remove('hidden');
    requestAnimationFrame(() => {
      modal.setAttribute('aria-hidden','false');
      document.body.classList.add('overflow-hidden');
      // Focus first focusable
      const f = panel.querySelector(focusableSel);
      (f || closeBtn).focus({ preventScroll: true });
    });
    document.addEventListener('keydown', trapFocus);
  }

  function close(){
    modal.setAttribute('aria-hidden','true');
    document.body.classList.remove('overflow-hidden');
    setTimeout(() => { if (modal.getAttribute('aria-hidden') === 'true') modal.classList.add('hidden'); }, 300);
    document.removeEventListener('keydown', trapFocus);
    if (lastFocus && lastFocus.focus) lastFocus.focus({ preventScroll: true });
  }

  openBtn.addEventListener('click', open);
  closeBtn.addEventListener('click', close);
  scrim?.addEventListener('click', close);

  // Simple activation toasts (replace with real wiring as needed)
  function toast(msg){
    try{
      const t = document.createElement('div');
      t.textContent = msg;
      t.className = 'fixed left-1/2 -translate-x-1/2 bottom-6 z-[90] text-[13px] font-semibold text-white bg-neutral-900 px-4 py-2 rounded-xl shadow-xl';
      document.body.appendChild(t);
      setTimeout(()=>{ t.style.transition='opacity .4s ease, transform .4s ease'; t.style.opacity='0'; t.style.transform='translate(-50%, 8px)'; }, 1400);
      setTimeout(()=> t.remove(), 1900);
    }catch(_){}
  }

  document.querySelectorAll('[data-core-activate]').forEach(btn=>{
    btn.addEventListener('click', (e)=>{
      const id = (e.currentTarget.getAttribute('data-core-activate') || '').trim();
      if (!id) return;
      toast(id.replace(/-/g,' ') + ' activated');
    });
  });

  // Search + filter
  function applyFilters(){
    const q = (search?.value || '').toLowerCase().trim();
    const active = filters.find(b => b.classList.contains('chip--active'));
    const tag = active ? (active.getAttribute('data-filter') || 'all') : 'all';
    const items = grid.querySelectorAll('li[data-tags]');
    items.forEach(li => {
      const tags = (li.getAttribute('data-tags') || '').toLowerCase();
      const text = li.textContent.toLowerCase();
      const matchTag = (tag === 'all') ? true : tags.includes(tag);
      const matchQ   = !q || text.includes(q);
      li.style.display = (matchTag && matchQ) ? '' : 'none';
    });
  }

  filters.forEach(btn=>{
    btn.addEventListener('click', ()=>{
      filters.forEach(b => b.classList.remove('chip--active'));
      btn.classList.add('chip--active');
      applyFilters();
    });
  });

  search?.addEventListener('input', applyFilters);
  // default filter
  const def = filters.find(b => b.getAttribute('data-filter') === 'all'); def?.classList.add('chip--active');
  applyFilters();
})();
</script>











































<!-- ───────────────────────────────────────────────────────────────
     OC CORES — DROP-IN SECTION (Apple-style, white/black cards)
     Place anywhere inside <body>. No external deps beyond your page.
──────────────────────────────────────────────────────────────── -->
<section id="oc-cores" class="section-clip mx-auto max-w-[1200px] oc-container reveal">
  <!-- Soft background glows (subtle, Apple-y) -->
  <div aria-hidden="true" class="pointer-events-none absolute inset-0 -z-10">
    <div class="absolute left-1/2 top-[-4rem] h-[18rem] w-[36rem] -translate-x-1/2 rounded-full blur-3xl"
         style="background: radial-gradient(60% 60% at 50% 40%, rgba(160,228,212,.22), rgba(160,228,212,0) 70%);"></div>
    <div class="absolute right-[-8%] bottom-[-10%] h-[14rem] w-[14rem] rounded-full blur-3xl"
         style="background: radial-gradient(55% 55% at 50% 50%, rgba(231,231,255,.20), rgba(231,231,255,0) 70%);"></div>
  </div>

  <!-- Header -->
  <div class="mx-auto max-w-[900px] text-center pt-16 md:pt-20">
    <div class="mx-auto w-fit rounded-full border border-black/10 bg-white/70 px-3 py-1 text-[11px] font-medium uppercase tracking-wide text-neutral-700">OC Cores</div>
    <h2 class="mt-4 text-3xl md:text-5xl lg:text-6xl font-semibold tracking-tight text-neutral-900">
      The Core System
    </h2>
    <p class="mx-auto mt-3 max-w-[760px] text-[15px] leading-7 text-neutral-700">
      Switchable, purpose-built brains that share one workspace. Pick a Core for the job, keep your flow — same projects, citations, and exports.
    </p>
  </div>

  <!-- Lead cards: black explainer + white info -->
  <div class="mt-10 grid grid-cols-1 lg:grid-cols-3 gap-4 rows-equal grid-stretch">
    <!-- Black / gradient explainer card -->
    <article
      class="lg:col-span-2 relative overflow-hidden rounded-3xl border border-white/15 g-grad grad-anim backdrop-blur-xl card-glass shadow-[0_16px_54px_rgba(0,0,0,.14)] text-white scroll-fade">
      <div class="pointer-events-none absolute inset-0 rounded-3xl ring-1 ring-white/10"></div>
      <div class="pointer-events-none absolute inset-x-0 top-0 h-1/3 bg-gradient-to-b from-white/10 to-transparent"></div>

      <div class="p-8 md:p-12">
        <header class="flex items-center gap-3">
          <span class="h-10 w-10 rounded-2xl bg-white/12 ring-1 ring-white/25 flex items-center justify-center">
            <i class="ph ph-circles-four text-[20px]"></i>
          </span>
          <h3 class="text-xl md:text-2xl font-semibold tracking-tight">How Cores work</h3>
        </header>

        <p class="mt-3 text-white/80 max-w-[780px]">
          Cores are specialized modes of OC. They route prompts, tools, and guardrails for a domain —
          without leaving your local, private workspace.
        </p>

        <!-- Pill row (animated gradient chips) -->
        <ul class="mt-6 flex flex-wrap gap-2">
          <li class="core-pill">OC-Core</li>
          <li class="core-pill">OC-Research-Core</li>
          <li class="core-pill">OC-Coach-Core</li>
        </ul>

        <!-- Explainer bullets -->
        <div class="mt-6 grid grid-cols-1 md:grid-cols-3 gap-4">
          <div class="rounded-2xl bg-white/8 ring-1 ring-white/15 p-4">
            <div class="font-semibold">One Library</div>
            <p class="mt-1 text-sm text-white/80">Your notes, uploads, and citations are shared across Cores.</p>
          </div>
          <div class="rounded-2xl bg-white/8 ring-1 ring-white/15 p-4">
            <div class="font-semibold">Right Tools</div>
            <p class="mt-1 text-sm text-white/80">Each Core loads domain-specific tools, prompts, and checks.</p>
          </div>
          <div class="rounded-2xl bg-white/8 ring-1 ring-white/15 p-4">
            <div class="font-semibold">Local & Private</div>
            <p class="mt-1 text-sm text-white/80">On-device by default. Your work never leaves your hands.</p>
          </div>
        </div>

        <!-- CTA -->
        <div class="mt-7">
          <a href="cores.html" class="inline-flex items-center gap-2 rounded-2xl px-5 py-3 text-[15px] font-semibold text-white shadow-xl shadow-black/20 hover:shadow-2xl hover:shadow-black/30 transition-all duration-300 ease-out hover:-translate-y-[2px] active:translate-y-0 g-grad grad-anim"
             style="--from:#0E6F5Ccc; --via:#178D74cc; --to:#A0E4D4cc; --speed:16s; --angle:135deg;">
            <i class="ph ph-grid-four"></i>
            <span>Explore all Cores</span>
          </a>
          <span class="ml-3 text-sm text-white/75 align-middle">Dedicated hub with install, updates, and docs.</span>
        </div>
      </div>
    </article>

    <!-- White info card -->
    <aside class="rounded-3xl border border-neutral-200 bg-white p-6 md:p-8 shadow-[0_10px_30px_rgba(0,0,0,.06)] scroll-fade tilt">
      <header class="flex items-center gap-3">
        <span class="h-10 w-10 rounded-2xl bg-neutral-50 border border-neutral-200 flex items-center justify-center">
          <i class="ph ph-arrows-clockwise text-neutral-900 text-[20px]"></i>
        </span>
        <h3 class="text-xl font-semibold tracking-tight text-neutral-900">More Cores, continuous updates</h3>
      </header>
      <p class="mt-3 text-[15px] leading-7 text-neutral-700">
        We’re rolling out new Cores for focused tasks (drafting, litigation, product R&amp;D, and more).
        Update in-app. Switch instantly — no new workflow to learn.
      </p>
      <ul class="mt-4 space-y-2 text-sm text-neutral-700">
        <li class="flex items-start gap-2"><i class="ph ph-check-circle text-neutral-900 pt-[2px]"></i> Seamless install/uninstall from the Cores hub</li>
        <li class="flex items-start gap-2"><i class="ph ph-check-circle text-neutral-900 pt-[2px]"></i> Versioned releases with clear change logs</li>
        <li class="flex items-start gap-2"><i class="ph ph-check-circle text-neutral-900 pt-[2px]"></i> Shared memory &amp; citations across Cores</li>
      </ul>
      <div class="mt-6">
        <a href="cores.html" class="inline-flex items-center rounded-2xl border border-neutral-300 bg-white px-4 py-2 text-sm font-medium text-neutral-900 hover:bg-neutral-50">Open Cores Hub</a>
      </div>
    </aside>
  </div>

  <!-- Product cards: the first three Cores -->
  <div class="mt-8 grid grid-cols-1 sm:grid-cols-3 gap-4 rows-equal grid-stretch">
    <!-- OC-Core (white) -->
    <article class="rounded-3xl border border-neutral-200 bg-white p-6 md:p-7 shadow-[0_10px_30px_rgba(0,0,0,.06)] scroll-fade tilt flex flex-col">
      <div class="flex items-center gap-3">
        <span class="h-10 w-10 rounded-2xl bg-neutral-50 border border-neutral-200 flex items-center justify-center">
          <i class="ph ph-brain text-neutral-900 text-[20px]"></i>
        </span>
        <h3 class="font-semibold text-neutral-900">OC-Core</h3>
      </div>
      <p class="mt-2 text-sm text-neutral-700">
        Your general-purpose brain for daily work — writing, planning, analysis, and clean hand-offs.
      </p>
      <ul class="mt-3 space-y-1.5 text-sm text-neutral-700">
        <li class="flex gap-2"><i class="ph ph-dot-outline pt-[1px]"></i> Drafts &amp; rewrites with citations</li>
        <li class="flex gap-2"><i class="ph ph-dot-outline pt-[1px]"></i> Tables, checklists, briefs</li>
        <li class="flex gap-2"><i class="ph ph-dot-outline pt-[1px]"></i> PDF/DOCX export built-in</li>
      </ul>
      <div class="mt-5 pt-1">
        <a href="download.html" class="inline-flex items-center gap-2 rounded-xl bg-neutral-900 px-4 py-2 text-sm font-medium text-white hover:opacity-90">
          <i class="ph ph-play"></i> Use OC-Core
        </a>
      </div>
    </article>

    <!-- OC-Research-Core (black) -->
    <article class="relative overflow-hidden rounded-3xl border border-white/15 g-grad grad-anim backdrop-blur-xl card-glass text-white p-6 md:p-7 shadow-[0_16px_54px_rgba(0,0,0,.14)] scroll-fade tilt flex flex-col">
      <div class="pointer-events-none absolute inset-0 rounded-3xl ring-1 ring-white/10"></div>
      <header class="flex items-center gap-3">
        <span class="h-10 w-10 rounded-2xl bg-white/12 ring-1 ring-white/25 flex items-center justify-center">
          <i class="ph ph-magnifying-glass text-[20px]"></i>
        </span>
        <h3 class="font-semibold">OC-Research-Core</h3>
      </header>
      <p class="mt-2 text-sm text-white/85">
        Evidence-backed answers with linked sources. Faster scans, stronger citations.
      </p>
      <ul class="mt-3 space-y-1.5 text-sm text-white/85">
        <li class="flex gap-2"><i class="ph ph-dot-outline pt-[1px]"></i> Curated databases &amp; RAG</li>
        <li class="flex gap-2"><i class="ph ph-dot-outline pt-[1px]"></i> One-tap source inspection</li>
        <li class="flex gap-2"><i class="ph ph-dot-outline pt-[1px]"></i> Snapshot bibliographies</li>
      </ul>
      <div class="mt-5 pt-1">
        <a href="download.html" class="inline-flex items-center gap-2 rounded-xl bg-white/10 ring-1 ring-white/25 px-4 py-2 text-sm font-medium text-white hover:bg-white/15">
          <i class="ph ph-play"></i> Use Research-Core
        </a>
      </div>
    </article>

    <!-- OC-Coach-Core (white) -->
    <article class="rounded-3xl border border-neutral-200 bg-white p-6 md:p-7 shadow-[0_10px_30px_rgba(0,0,0,.06)] scroll-fade tilt flex flex-col">
      <div class="flex items-center gap-3">
        <span class="h-10 w-10 rounded-2xl bg-neutral-50 border border-neutral-200 flex items-center justify-center">
          <i class="ph ph-compass text-neutral-900 text-[20px]"></i>
        </span>
        <h3 class="font-semibold text-neutral-900">OC-Coach-Core</h3>
      </div>
      <p class="mt-2 text-sm text-neutral-700">
        Decision clarity, habit loops, and strategy coaching for founders, students, and teams.
      </p>
      <ul class="mt-3 space-y-1.5 text-sm text-neutral-700">
        <li class="flex gap-2"><i class="ph ph-dot-outline pt-[1px]"></i> Goal → Plan → Review cycles</li>
        <li class="flex gap-2"><i class="ph ph-dot-outline pt-[1px]"></i> Risk/Reward frameworks (1R, EV)</li>
        <li class="flex gap-2"><i class="ph ph-dot-outline pt-[1px]"></i> Weekly check-ins &amp; exports</li>
      </ul>
      <div class="mt-5 pt-1">
        <a href="download.html" class="inline-flex items-center gap-2 rounded-xl bg-neutral-900 px-4 py-2 text-sm font-medium text-white hover:opacity-90">
          <i class="ph ph-play"></i> Use Coach-Core
        </a>
      </div>
    </article>
  </div>

  <!-- Footer line -->
  <div class="mx-auto mt-8 max-w-[900px] text-center">
    <div class="mx-auto h-px w-24 bg-gradient-to-r from-transparent via-neutral-300 to-transparent"></div>
    <p class="mt-6 text-[13px] text-neutral-600">
      New Cores ship regularly. Visit the <a href="cores.html" class="underline decoration-neutral-400 hover:text-neutral-900">Cores Hub</a> to browse, install, and update.
    </p>
  </div>
</section>

<!-- Local styles for Core pills (reuses your gradientShift animation) -->
<style>
  #oc-cores .core-pill{
    font-size:12px; line-height:1; padding:7px 12px; border-radius:999px;
    border:1px solid rgba(255,255,255,.28);
    background: linear-gradient(135deg, var(--grad-from,#0B1B2Bcc), var(--grad-via,#0E6F5Ccc), var(--grad-to,#00CFFFcc));
    background-size:300% 300%; animation: gradientShift 16s ease-in-out infinite;
    box-shadow: inset 0 1px 0 rgba(255,255,255,.18), 0 8px 18px rgba(0,0,0,.18);
    color:#fff; white-space:nowrap;
  }
  @media (prefers-reduced-motion: reduce){
    #oc-cores .core-pill{ animation: none; }
  }
</style>



<!-- ===============================
     OC CORES — DROP-IN SECTION
     Paste anywhere inside <body>. Tailwind + Phosphor already on page.
     =============================== -->
<section id="oc-cores" class="section-clip relative mx-auto max-w-[1200px] oc-container reveal">
  <!-- Soft background glows (subtle, Apple-y) -->
  <div aria-hidden="true" class="pointer-events-none absolute inset-0 -z-10">
    <div class="absolute left-1/2 top-[-6rem] h-[22rem] w-[42rem] -translate-x-1/2 rounded-full blur-3xl"
         style="background: radial-gradient(60% 60% at 50% 40%, rgba(160,228,212,.22), rgba(160,228,212,0) 70%);"></div>
    <div class="absolute right-[-8%] bottom-[-12%] h-[18rem] w-[18rem] rounded-full blur-3xl"
         style="background: radial-gradient(55% 55% at 50% 50%, rgba(0,207,255,.14), rgba(0,207,255,0) 70%);"></div>
  </div>

  <!-- Header -->
  <div class="w-full pt-20 md:pt-28 pb-8 text-center">
    <div class="mx-auto w-fit rounded-full border border-black/10 bg-white/60 px-3 py-1 text-[11px] font-medium uppercase tracking-wide text-neutral-700">
      OC Core System
    </div>
    <h2 class="mt-4 text-oc-ink text-3xl md:text-4xl font-semibold tracking-tight">
      Modular engines that snap into your workspace.
    </h2>
    <p class="mx-auto mt-3 max-w-[780px] text-[15px] leading-relaxed text-neutral-600">
      Each <span class="font-semibold">Core</span> is a focused capability—built for speed, privacy, and precision.
      Cores update continuously and new ones ship regularly for specialized tasks.
    </p>
  </div>

  <!-- Cards -->
  <div class="grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-5 lg:gap-6">
    <!-- OC-Core (White card) -->
    <article class="scroll-fade card-glass rounded-2xl border border-neutral-200 bg-white p-6 md:p-7 shadow-[0_10px_30px_rgba(10,13,16,0.06)] tilt">
      <div class="flex items-center justify-between gap-3">
        <div class="inline-flex items-center gap-2">
          <span class="inline-flex h-9 w-9 items-center justify-center rounded-xl border border-neutral-200 bg-white">
            <i class="ph ph-cpu text-[18px] text-neutral-900"></i>
          </span>
          <h3 class="text-lg font-semibold tracking-tight text-neutral-900">OC-Core</h3>
        </div>
        <span class="chip">Core</span>
      </div>

      <p class="mt-3 text-[15px] leading-relaxed text-neutral-600">
        The everyday engine. Drafts, restructures, and reasons with your notes, docs, and local data—fast and private.
      </p>

      <ul class="mt-4 space-y-2 text-[14px] text-neutral-700">
        <li class="flex items-start gap-2"><i class="ph ph-lightning text-[16px] mt-[2px]"></i> Low-latency on-device responses</li>
        <li class="flex items-start gap-2"><i class="ph ph-lock text-[16px] mt-[2px]"></i> Stays local—no cloud send</li>
        <li class="flex items-start gap-2"><i class="ph ph-file-text text-[16px] mt-[2px]"></i> Clean exports: PDF / DOCX / HTML</li>
      </ul>

      <div class="mt-5 flex flex-wrap gap-2">
        <span class="chip">Offline</span>
        <span class="chip">RAG</span>
        <span class="chip">Citations</span>
      </div>
    </article>

    <!-- OC-Research-Core (White card) -->
    <article class="scroll-fade card-glass rounded-2xl border border-neutral-200 bg-white p-6 md:p-7 shadow-[0_10px_30px_rgba(10,13,16,0.06)] tilt">
      <div class="flex items-center justify-between gap-3">
        <div class="inline-flex items-center gap-2">
          <span class="inline-flex h-9 w-9 items-center justify-center rounded-xl border border-neutral-200 bg-white">
            <i class="ph ph-magnifying-glass text-[18px] text-neutral-900"></i>
          </span>
          <h3 class="text-lg font-semibold tracking-tight text-neutral-900">OC-Research-Core</h3>
        </div>
        <span class="chip">Research</span>
      </div>

      <p class="mt-3 text-[15px] leading-relaxed text-neutral-600">
        Source-grounded research. Scans your libraries, organizes evidence, and outputs verifiable briefs with links.
      </p>

      <ul class="mt-4 space-y-2 text-[14px] text-neutral-700">
        <li class="flex items-start gap-2"><i class="ph ph-list-magnifying-glass text-[16px] mt-[2px]"></i> Evidence tables &amp; pull-quotes</li>
        <li class="flex items-start gap-2"><i class="ph ph-quotes text-[16px] mt-[2px]"></i> Inline citations with snapshots</li>
        <li class="flex items-start gap-2"><i class="ph ph-folder-notch-open text-[16px] mt-[2px]"></i> Works across PDFs, casebooks, docs</li>
      </ul>

      <div class="mt-5 flex flex-wrap gap-2">
        <span class="chip">Cite-first</span>
        <span class="chip">De-dupe</span>
        <span class="chip">BibTeX</span>
      </div>
    </article>

    <!-- OC-Coach-Core (White card) -->
    <article class="scroll-fade card-glass rounded-2xl border border-neutral-200 bg-white p-6 md:p-7 shadow-[0_10px_30px_rgba(10,13,16,0.06)] tilt">
      <div class="flex items-center justify-between gap-3">
        <div class="inline-flex items-center gap-2">
          <span class="inline-flex h-9 w-9 items-center justify-center rounded-xl border border-neutral-200 bg-white">
            <i class="ph ph-target text-[18px] text-neutral-900"></i>
          </span>
          <h3 class="text-lg font-semibold tracking-tight text-neutral-900">OC-Coach-Core</h3>
        </div>
        <span class="chip">Coach</span>
      </div>

      <p class="mt-3 text-[15px] leading-relaxed text-neutral-600">
        Structured guidance for business, study, and craft. Goal trees, weekly plans, and measurable checkpoints.
      </p>

      <ul class="mt-4 space-y-2 text-[14px] text-neutral-700">
        <li class="flex items-start gap-2"><i class="ph ph-rocket-launch text-[16px] mt-[2px]"></i> Action plans &amp; accountability</li>
        <li class="flex items-start gap-2"><i class="ph ph-chart-line text-[16px] mt-[2px]"></i> Metrics, baselines, and reviews</li>
        <li class="flex items-start gap-2"><i class="ph ph-brain text-[16px] mt-[2px]"></i> Prompts &amp; templates you can reuse</li>
      </ul>

      <div class="mt-5 flex flex-wrap gap-2">
        <span class="chip">Routines</span>
        <span class="chip">Templates</span>
        <span class="chip">Check-ins</span>
      </div>
    </article>

    <!-- Explorer (Black / gradient card) -->
    <article
      class="md:col-span-3 scroll-fade g-grad grad-anim rounded-2xl border border-white/15 p-7 md:p-10 card-glass shadow-[0_16px_54px_rgba(0,0,0,.14)] overflow-hidden"
      style="min-height: 240px;"
    >
      <!-- subtle frame + sheen -->
      <div class="pointer-events-none absolute inset-0 rounded-2xl ring-1 ring-white/10"></div>
      <div class="pointer-events-none absolute inset-x-0 top-0 h-1/3 bg-gradient-to-b from-white/10 to-transparent"></div>

      <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-6 relative z-[1]">
        <div class="max-w-[720px]">
          <div class="inline-flex items-center gap-2 rounded-full border border-white/20 bg-white/10 px-3 py-1">
            <i class="ph ph-grid-four text-white/90 text-[14px]"></i>
            <span class="text-[11px] font-medium tracking-wide text-white/85">Cores Explorer</span>
          </div>
          <h3 class="mt-3 text-2xl md:text-[28px] font-semibold tracking-tight text-white">
            Explore every Core in one place — updated continuously.
          </h3>
          <p class="mt-2 text-[15px] leading-relaxed text-white/80">
            Browse capabilities, change-logs, and roadmaps. New cores arrive frequently
            (e.g., <span class="opacity-95">Docs, Data, Video, Dev</span>) and existing ones improve without friction.
          </p>

          <ul class="mt-4 flex flex-wrap gap-2">
            <li class="rounded-full border border-white/20 bg-white/10 px-3 py-1 text-xs text-white/90">Release notes</li>
            <li class="rounded-full border border-white/20 bg-white/10 px-3 py-1 text-xs text-white/90">Version pins</li>
            <li class="rounded-full border border-white/20 bg-white/10 px-3 py-1 text-xs text-white/90">Usage tips</li>
            <li class="rounded-full border border-white/20 bg-white/10 px-3 py-1 text-xs text-white/90">Roadmap</li>
          </ul>

          <div class="mt-5 flex flex-wrap gap-3">
            <a href="cores.html"
               class="inline-flex items-center gap-2 rounded-2xl bg-white text-oc-ink px-4 py-2 text-sm font-medium hover:bg-gray-100 focus-visible:ring-4 focus-visible:ring-white/50">
              <i class="ph ph-compass"></i> Explore Cores
            </a>
            <a href="download.html"
               class="inline-flex items-center gap-2 rounded-2xl border border-white/30 bg-white/10 px-4 py-2 text-sm font-medium text-white hover:bg-white/20 focus-visible:ring-4 focus-visible:ring-white/40">
              <i class="ph ph-download-simple"></i> Get OC
            </a>
          </div>
        </div>

        <!-- Decorative device-ish panel (keeps Apple ad vibe) -->
        <div class="relative w-full md:w-[360px] lg:w-[420px]">
          <div class="rounded-2xl border border-white/20 bg-white/10 backdrop-blur-md p-4 shadow-[0_12px_40px_rgba(0,0,0,.25)]">
            <div class="flex items-center gap-2 mb-3">
              <span class="h-2.5 w-2.5 rounded-full bg-white/50"></span>
              <span class="h-2.5 w-2.5 rounded-full bg-white/50"></span>
              <span class="h-2.5 w-2.5 rounded-full bg-white/50"></span>
            </div>
            <div class="rounded-xl border border-white/20 bg-white/5 p-4">
              <div class="grid grid-cols-3 gap-3">
                <div class="rounded-xl border border-white/20 bg-white/10 aspect-square flex items-center justify-center">
                  <i class="ph ph-cpu text-white/90"></i>
                </div>
                <div class="rounded-xl border border-white/20 bg-white/10 aspect-square flex items-center justify-center">
                  <i class="ph ph-magnifying-glass text-white/90"></i>
                </div>
                <div class="rounded-xl border border-white/20 bg-white/10 aspect-square flex items-center justify-center">
                  <i class="ph ph-target text-white/90"></i>
                </div>
                <div class="rounded-xl border border-white/20 bg-white/10 aspect-square flex items-center justify-center">
                  <i class="ph ph-file-text text-white/80"></i>
                </div>
                <div class="rounded-xl border border-white/20 bg-white/10 aspect-square flex items-center justify-center">
                  <i class="ph ph-database text-white/80"></i>
                </div>
                <div class="rounded-xl border border-white/20 bg-white/10 aspect-square flex items-center justify-center">
                  <i class="ph ph-video text-white/80"></i>
                </div>
              </div>
              <div class="mt-4 h-px bg-white/15"></div>
              <div class="mt-3 text-[12px] text-white/80">
                Tap a core to view details, versions, and quick-start templates.
              </div>
            </div>
          </div>
        </div>
      </div>
    </article>
  </div>

  <!-- Footnote: shipping cadence -->
  <div class="mx-auto mt-6 text-center text-[12px] text-neutral-500">
    New cores roll out on a regular cadence. Enable auto-updates in Settings → Cores.
  </div>
</section>

<!-- Optional: tiny enhancer for staggered reveal (uses your existing .reveal/.scroll-fade styles) -->
<script>
(() => {
  const root = document.getElementById('oc-cores');
  if (!root) return;
  const cards = root.querySelectorAll('.scroll-fade');
  const io = new IntersectionObserver((entries) => {
    entries.forEach((e, idx) => {
      if (e.isIntersecting) {
        // Stagger each card slightly for Apple-like rhythm
        setTimeout(() => e.target.classList.add('in-view'), 90 * idx);
        io.unobserve(e.target);
      }
    });
  }, { threshold: 0.35 });
  cards.forEach(c => io.observe(c));
})();
</script>


























<!-- ===============================
     OC CORES — DROP-IN SECTION
     Paste anywhere inside <body>. Tailwind + Phosphor already on page.
     =============================== -->
<section id="oc-cores" class="section-clip relative mx-auto max-w-[1200px] oc-container reveal">
  <!-- Soft background glows (subtle, Apple-y) -->
  <div aria-hidden="true" class="pointer-events-none absolute inset-0 -z-10">
    <div class="absolute left-1/2 top-[-6rem] h-[22rem] w-[42rem] -translate-x-1/2 rounded-full blur-3xl"
         style="background: radial-gradient(60% 60% at 50% 40%, rgba(160,228,212,.22), rgba(160,228,212,0) 70%);"></div>
    <div class="absolute right-[-8%] bottom-[-12%] h-[18rem] w-[18rem] rounded-full blur-3xl"
         style="background: radial-gradient(55% 55% at 50% 50%, rgba(0,207,255,.14), rgba(0,207,255,0) 70%);"></div>
  </div>

  <!-- Header -->
  <header class="w-full pt-20 md:pt-28 text-center">
    <div class="mx-auto w-fit rounded-full border border-black/10 bg-white/60 px-3 py-1 text-[11px] font-medium uppercase tracking-wide text-neutral-600">OC Cores</div>
    <h2 class="mt-4 text-3xl md:text-5xl lg:text-6xl font-semibold tracking-tight text-neutral-900 oc-sheen">
      Modular brains that snap into OC.
    </h2>
    <p class="mx-auto mt-4 max-w-[760px] text-[15px] leading-6 text-neutral-700">
      Each Core is a focused capability—installed locally, updated seamlessly, and invoked only when needed. Private. Fast. Precise.
    </p>
    <div class="mx-auto mt-8 h-px w-24 bg-gradient-to-r from-transparent via-neutral-300 to-transparent"></div>
  </header>

  <!-- How it works (3-up) -->
  <section class="mt-10 md:mt-12">
    <article class="relative overflow-hidden rounded-2xl border border-neutral-200 bg-white/70 shadow-[0_16px_44px_rgba(0,0,0,.08)] backdrop-blur scroll-fade card-glass">
      <div class="pointer-events-none absolute inset-x-0 top-0 h-1/3 bg-gradient-to-b from-white/40 to-transparent"></div>

      <div class="px-6 md:px-10 py-8 md:py-10">
        <h3 class="text-xl md:text-2xl font-semibold tracking-tight text-neutral-900">How the Core system works</h3>
        <p class="mt-2 max-w-[740px] text-[15px] leading-6 text-neutral-700">
          Cores are small, specialized runtimes. OC loads the right Core for the job—research, drafting, coaching—then unloads it to keep things lean.
          Everything runs on-device with verifiable outputs and versioned updates.
        </p>

        <div class="mt-6 grid grid-cols-1 gap-4 sm:grid-cols-3">
          <div class="group rounded-2xl border border-neutral-200 bg-white p-5 transition-all duration-300 ease-out hover:-translate-y-0.5 hover:shadow-lg">
            <div class="flex items-start gap-3">
              <div class="h-10 w-10 shrink-0 rounded-xl bg-neutral-900 text-white grid place-items-center">
                <i class="ph ph-rocket-launch text-[18px]"></i>
              </div>
              <div>
                <p class="font-semibold text-neutral-900">On-demand</p>
                <p class="mt-1 text-sm text-neutral-600">Loads instantly when invoked, then steps aside. Zero bloat.</p>
              </div>
            </div>
          </div>
          <div class="group rounded-2xl border border-neutral-200 bg-white p-5 transition-all duration-300 ease-out hover:-translate-y-0.5 hover:shadow-lg">
            <div class="flex items-start gap-3">
              <div class="h-10 w-10 shrink-0 rounded-xl bg-neutral-900 text-white grid place-items-center">
                <i class="ph ph-seal-check text-[18px]"></i>
              </div>
              <div>
                <p class="font-semibold text-neutral-900">Scoped & Precise</p>
                <p class="mt-1 text-sm text-neutral-600">Purpose-built tools that minimize hallucinations and drift.</p>
              </div>
            </div>
          </div>
          <div class="group rounded-2xl border border-neutral-200 bg-white p-5 transition-all duration-300 ease-out hover:-translate-y-0.5 hover:shadow-lg">
            <div class="flex items-start gap-3">
              <div class="h-10 w-10 shrink-0 rounded-xl bg-neutral-900 text-white grid place-items-center">
                <i class="ph ph-download-simple text-[18px]"></i>
              </div>
              <div>
                <p class="font-semibold text-neutral-900">Versioned Updates</p>
                <p class="mt-1 text-sm text-neutral-600">Continuous releases with changelogs. Roll back anytime.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </article>
  </section>

  <!-- Featured cores -->
  <section class="mt-10 md:mt-12">
    <div class="grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3">
      <!-- OC-Core -->
      <article class="group rounded-2xl border border-neutral-200 bg-white/90 p-6 shadow-[0_10px_30px_rgba(10,13,16,0.06)] transition-all duration-300 hover:-translate-y-1 hover:shadow-xl">
        <div class="flex items-center gap-3">
          <div class="h-11 w-11 shrink-0 rounded-2xl bg-neutral-900 text-white grid place-items-center">
            <i class="ph ph-cpu text-[20px]"></i>
          </div>
          <h4 class="text-lg font-semibold tracking-tight text-neutral-900">OC-Core</h4>
        </div>
        <p class="mt-2 text-sm text-neutral-700">Your everyday reasoning engine—fast drafting, structured planning, and clean summaries with citations.</p>
        <ul class="mt-3 space-y-2 text-sm text-neutral-700">
          <li class="flex items-start gap-2"><i class="ph ph-check-circle text-neutral-500 mt-0.5"></i>General writing & analysis</li>
          <li class="flex items-start gap-2"><i class="ph ph-check-circle text-neutral-500 mt-0.5"></i>Tasks, outlines, briefs</li>
          <li class="flex items-start gap-2"><i class="ph ph-check-circle text-neutral-500 mt-0.5"></i>Citations on tap</li>
        </ul>
        <div class="mt-4 flex flex-wrap gap-2">
          <span class="chip">Included</span><span class="chip">Local-first</span><span class="chip">Citations</span>
        </div>
        <div class="mt-5">
          <a href="download.html" class="inline-flex items-center gap-2 rounded-xl border border-neutral-300 bg-white px-3 py-2 text-sm font-medium text-neutral-900 hover:bg-neutral-50">
            <i class="ph ph-play-circle"></i> Launch
          </a>
        </div>
      </article>

      <!-- OC-Research-Core -->
      <article class="group rounded-2xl border border-neutral-200 bg-white/90 p-6 shadow-[0_10px_30px_rgba(10,13,16,0.06)] transition-all duration-300 hover:-translate-y-1 hover:shadow-xl">
        <div class="flex items-center gap-3">
          <div class="h-11 w-11 shrink-0 rounded-2xl bg-neutral-900 text-white grid place-items-center">
            <i class="ph ph-magnifying-glass text-[20px]"></i>
          </div>
          <h4 class="text-lg font-semibold tracking-tight text-neutral-900">OC-Research-Core</h4>
        </div>
        <p class="mt-2 text-sm text-neutral-700">Verifiable literature scans, evidence tables, and source-linked summaries. Built for rigor.</p>
        <ul class="mt-3 space-y-2 text-sm text-neutral-700">
          <li class="flex items-start gap-2"><i class="ph ph-check-circle text-neutral-500 mt-0.5"></i>Source-first answers</li>
          <li class="flex items-start gap-2"><i class="ph ph-check-circle text-neutral-500 mt-0.5"></i>BibTeX & exports</li>
          <li class="flex items-start gap-2"><i class="ph ph-check-circle text-neutral-500 mt-0.5"></i>Conflict checks</li>
        </ul>
        <div class="mt-4 flex flex-wrap gap-2">
          <span class="chip">Evidence</span><span class="chip">Citations</span><span class="chip">Exports</span>
        </div>
        <div class="mt-5">
          <button type="button" data-open-explorer
            class="inline-flex items-center gap-2 rounded-xl g-grad grad-anim px-3 py-2 text-sm font-semibold text-white shadow-md hover:shadow-lg"
            style="--from:#0B1B2Bcc; --via:#0E6F5Ccc; --to:#00CFFFcc; --speed:16s; --angle:135deg;">
            <i class="ph ph-grid-four"></i> Explore Cores
          </button>
        </div>
      </article>

      <!-- OC-Coach-Core -->
      <article class="group rounded-2xl border border-neutral-200 bg-white/90 p-6 shadow-[0_10px_30px_rgba(10,13,16,0.06)] transition-all duration-300 hover:-translate-y-1 hover:shadow-xl">
        <div class="flex items-center gap-3">
          <div class="h-11 w-11 shrink-0 rounded-2xl bg-neutral-900 text-white grid place-items-center">
            <i class="ph ph-apple-podcasts-logo text-[20px]"></i>
          </div>
          <h4 class="text-lg font-semibold tracking-tight text-neutral-900">OC-Coach-Core</h4>
        </div>
        <p class="mt-2 text-sm text-neutral-700">Conversational guidance for skills, habits, and decision-making—structured, accountable, and bias-aware.</p>
        <ul class="mt-3 space-y-2 text-sm text-neutral-700">
          <li class="flex items-start gap-2"><i class="ph ph-check-circle text-neutral-500 mt-0.5"></i>Goal plans & check-ins</li>
          <li class="flex items-start gap-2"><i class="ph ph-check-circle text-neutral-500 mt-0.5"></i>Rubrics, prompts, drills</li>
          <li class="flex items-start gap-2"><i class="ph ph-check-circle text-neutral-500 mt-0.5"></i>Privacy by default</li>
        </ul>
        <div class="mt-4 flex flex-wrap gap-2">
          <span class="chip">Coaching</span><span class="chip">Structure</span><span class="chip">Private</span>
        </div>
        <div class="mt-5">
          <a href="download.html" class="inline-flex items-center gap-2 rounded-xl border border-neutral-300 bg-white px-3 py-2 text-sm font-medium text-neutral-900 hover:bg-neutral-50">
            <i class="ph ph-play-circle"></i> Launch
          </a>
        </div>
      </article>
    </div>

    <!-- Roadmap / More coming -->
    <div class="mt-8 text-center">
      <p class="mx-auto max-w-[800px] text-sm text-neutral-700">
        More Cores are in active development and release on a rolling schedule—Research+, Drafting, Legal, Data, Vision, and more.
        Explore the full library to see what’s new and what’s next.
      </p>
      <div class="mt-4">
        <button type="button" data-open-explorer
          class="inline-flex items-center gap-2 rounded-2xl px-5 py-3 text-sm md:text-base font-semibold text-white
                 shadow-xl shadow-black/20 hover:shadow-2xl hover:shadow-black/30
                 transition-all duration-300 ease-out hover:-translate-y-[2px] active:translate-y-0
                 g-grad grad-anim"
          style="--from:#0E6F5Ccc; --via:#178D74cc; --to:#A0E4D4cc; --speed:16s; --angle:135deg;">
          <i class="ph ph-grid-four"></i> Open Cores Library
        </button>
      </div>
    </div>
  </section>
</section>

<!-- ===============================
     CORES EXPLORER (Modal) — roomy, not squished
     =============================== -->
<div id="ocCoresExplorer" class="fixed inset-0 z-[70] hidden" role="dialog" aria-modal="true" aria-labelledby="ocCoresTitle">
  <!-- Scrim -->
  <div class="absolute inset-0 bg-black/20 backdrop-blur-sm opacity-0 transition-opacity duration-300" data-explorer-scrim></div>

  <!-- Panel -->
  <div class="absolute left-1/2 top-1/2 w-[min(96vw,1100px)] -translate-x-1/2 -translate-y-1/2
              rounded-3xl border border-neutral-200 bg-white shadow-[0_30px_80px_rgba(0,0,0,.25)]
              opacity-0 scale-[.985] transition-all duration-300 will-change-transform"
       data-explorer-panel>
    <!-- Header -->
    <div class="flex items-center justify-between gap-3 px-6 md:px-8 pt-6">
      <div>
        <div id="ocCoresTitle"
             class="drawer-title !bg-clip-text !text-transparent text-[20px] md:text-[22px] font-semibold"
             style="background:linear-gradient(135deg,var(--grad-from,#0B1B2B),var(--grad-via,#0E6F5C),var(--grad-to,#00CFFF)); background-size:300% 300%;">
          Cores Library
        </div>
        <p class="mt-1 text-sm text-neutral-600">Browse installed, available, and coming-soon Cores.</p>
      </div>
      <button type="button" class="drawer-close rounded-2xl" data-explorer-close aria-label="Close">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M6 6l12 12M18 6L6 18" stroke="#0A0D10" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </button>
    </div>

    <!-- Body (scrollable, generous height) -->
    <div class="px-6 md:px-8 pb-7">
      <div class="mt-4 flex flex-wrap items-center gap-2">
        <span class="chip">All</span>
        <span class="chip">Writing</span>
        <span class="chip">Research</span>
        <span class="chip">Law</span>
        <span class="chip">Data</span>
        <span class="chip">Vision</span>
      </div>

      <div class="mt-6">
        <div class="max-h-[78vh] overflow-y-auto pr-1">
          <ul class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5 auto-rows-fr">
            <!-- Installed -->
            <li class="h-full">
              <div class="flex h-full flex-col rounded-2xl border border-neutral-200 bg-white p-5 shadow-sm">
                <div class="flex items-center gap-3">
                  <div class="h-10 w-10 grid place-items-center rounded-xl bg-neutral-900 text-white">
                    <i class="ph ph-cpu text-[18px]"></i>
                  </div>
                  <div class="font-semibold text-neutral-900">OC-Core</div>
                  <span class="ml-auto chip">Installed</span>
                </div>
                <p class="mt-2 text-sm text-neutral-700">Everyday drafting & reasoning with citations.</p>
                <div class="mt-auto pt-4">
                  <button class="inline-flex items-center gap-2 rounded-xl border border-neutral-300 bg-white px-3 py-2 text-sm hover:bg-neutral-50">
                    <i class="ph ph-play-circle"></i> Launch
                  </button>
                </div>
              </div>
            </li>

            <li class="h-full">
              <div class="flex h-full flex-col rounded-2xl border border-neutral-200 bg-white p-5 shadow-sm">
                <div class="flex items-center gap-3">
                  <div class="h-10 w-10 grid place-items-center rounded-xl bg-neutral-900 text-white">
                    <i class="ph ph-magnifying-glass text-[18px]"></i>
                  </div>
                  <div class="font-semibold text-neutral-900">OC-Research-Core</div>
                  <span class="ml-auto chip">Installed</span>
                </div>
                <p class="mt-2 text-sm text-neutral-700">Evidence tables, BibTeX, conflict checks—verifiable research.</p>
                <div class="mt-auto pt-4">
                  <button class="inline-flex items-center gap-2 rounded-xl border border-neutral-300 bg-white px-3 py-2 text-sm hover:bg-neutral-50">
                    <i class="ph ph-play-circle"></i> Launch
                  </button>
                </div>
              </div>
            </li>

            <li class="h-full">
              <div class="flex h-full flex-col rounded-2xl border border-neutral-200 bg-white p-5 shadow-sm">
                <div class="flex items-center gap-3">
                  <div class="h-10 w-10 grid place-items-center rounded-xl bg-neutral-900 text-white">
                    <i class="ph ph-apple-podcasts-logo text-[18px]"></i>
                  </div>
                  <div class="font-semibold text-neutral-900">OC-Coach-Core</div>
                  <span class="ml-auto chip">Installed</span>
                </div>
                <p class="mt-2 text-sm text-neutral-700">Structured coaching with goals, rubrics, and check-ins.</p>
                <div class="mt-auto pt-4">
                  <button class="inline-flex items-center gap-2 rounded-xl border border-neutral-300 bg-white px-3 py-2 text-sm hover:bg-neutral-50">
                    <i class="ph ph-play-circle"></i> Launch
                  </button>
                </div>
              </div>
            </li>

            <!-- Available / Coming soon -->
            <li class="h-full">
              <div class="flex h-full flex-col rounded-2xl border border-neutral-200 bg-white p-5 shadow-sm">
                <div class="flex items-center gap-3">
                  <div class="h-10 w-10 grid place-items-center rounded-xl bg-neutral-900 text-white">
                    <i class="ph ph-file-text text-[18px]"></i>
                  </div>
                  <div class="font-semibold text-neutral-900">Drafting-Core</div>
                  <span class="ml-auto chip">Available</span>
                </div>
                <p class="mt-2 text-sm text-neutral-700">Legal & business docs with clause libraries and style guides.</p>
                <div class="mt-auto pt-4">
                  <button class="inline-flex items-center gap-2 rounded-xl g-grad grad-anim px-3 py-2 text-sm font-semibold text-white"
                          style="--from:#0B1B2Bcc; --via:#0E6F5Ccc; --to:#00CFFFcc;">
                    <i class="ph ph-download-simple"></i> Add
                  </button>
                </div>
              </div>
            </li>

            <li class="h-full">
              <div class="flex h-full flex-col rounded-2xl border border-neutral-200 bg-white p-5 shadow-sm opacity-90">
                <div class="flex items-center gap-3">
                  <div class="h-10 w-10 grid place-items-center rounded-xl bg-neutral-900 text-white">
                    <i class="ph ph-scales text-[18px]"></i>
                  </div>
                  <div class="font-semibold text-neutral-900">Legal-Core</div>
                  <span class="ml-auto chip">Coming soon</span>
                </div>
                <p class="mt-2 text-sm text-neutral-700">Case law synthesis, statute tracing, and jurisdictional diffs.</p>
                <div class="mt-auto pt-4">
                  <button class="inline-flex cursor-not-allowed items-center gap-2 rounded-xl border border-neutral-300 bg-white px-3 py-2 text-sm text-neutral-500">
                    <i class="ph ph-clock"></i> Notify me
                  </button>
                </div>
              </div>
            </li>

            <li class="h-full">
              <div class="flex h-full flex-col rounded-2xl border border-neutral-200 bg-white p-5 shadow-sm opacity-90">
                <div class="flex items-center gap-3">
                  <div class="h-10 w-10 grid place-items-center rounded-xl bg-neutral-900 text-white">
                    <i class="ph ph-chart-line-up text-[18px]"></i>
                  </div>
                  <div class="font-semibold text-neutral-900">Data-Core</div>
                  <span class="ml-auto chip">Coming soon</span>
                </div>
                <p class="mt-2 text-sm text-neutral-700">CSV/Excel, SQL, charts, and statistical notes with provenance.</p>
                <div class="mt-auto pt-4">
                  <button class="inline-flex cursor-not-allowed items-center gap-2 rounded-xl border border-neutral-300 bg-white px-3 py-2 text-sm text-neutral-500">
                    <i class="ph ph-clock"></i> Notify me
                  </button>
                </div>
              </div>
            </li>
          </ul>
        </div>

        <div class="mt-6 flex items-center justify-between border-t border-neutral-200 pt-5">
          <p class="text-xs text-neutral-500">Cores are sandboxed, versioned, and updated continuously.</p>
          <a href="download.html" class="inline-flex items-center gap-2 rounded-xl border border-neutral-300 bg-white px-3 py-2 text-sm font-medium hover:bg-neutral-50">
            <i class="ph ph-download"></i> Get OC
          </a>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ===============================
     Scoped styles for OC Cores
     =============================== -->
<style>
  #oc-cores .chip{
    font-size:12px; line-height:1; border:1px solid var(--line,#E7EDF2); background:#fff;
    border-radius:999px; padding:6px 10px; box-shadow:inset 0 1px 0 rgba(255,255,255,0.6),0 6px 14px rgba(10,13,16,.06);
    transition:transform .12s ease
  }
  #oc-cores .chip:hover{ transform:translateY(-1px) }

  /* Text sheen on section title */
  #oc-cores .oc-sheen{
    background-image: linear-gradient(90deg, #111 0%, #111 40%, #6b7280 50%, #111 60%, #111 100%);
    -webkit-background-clip:text; background-clip:text; color:transparent;
    background-size: 200% 100%; animation: ocSheen 5s linear infinite;
  }
  @keyframes ocSheen { 0%{background-position: 200% 0} 100%{background-position: -200% 0} }
  @media (prefers-reduced-motion: reduce){
    #oc-cores .oc-sheen{ animation: none; -webkit-text-fill-color: #111; color:#111; background:none; }
  }

  /* Modal enter/exit helpers (applied by JS) */
  #ocCoresExplorer[data-state="open"] [data-explorer-scrim]{ opacity: 1; }
  #ocCoresExplorer[data-state="open"] [data-explorer-panel]{ opacity: 1; transform: translate(-50%,-50%) scale(1); }
</style>

<!-- ===============================
     Minimal, accessible JS (no deps)
     =============================== -->
<script>
(() => {
  // Open/close
  const explorer = document.getElementById('ocCoresExplorer');
  if (!explorer) return;

  const scrim  = explorer.querySelector('[data-explorer-scrim]');
  const panel  = explorer.querySelector('[data-explorer-panel]');
  const openers= document.querySelectorAll('[data-open-explorer]');
  const closer = explorer.querySelector('[data-explorer-close]');

  let lastFocus = null;

  function lockScroll(lock){
    document.body.classList.toggle('overflow-hidden', !!lock);
  }

  function focusables(root){
    return Array.from(root.querySelectorAll(
      'a[href],button:not([disabled]),textarea,input,select,[tabindex]:not([tabindex="-1"])'
    )).filter(el => !el.hasAttribute('disabled') && !el.getAttribute('aria-hidden'));
  }

  function trapFocus(e){
    if (e.key !== 'Tab') return;
    const f = focusables(panel);
    if (!f.length) return;
    const first = f[0], last = f[f.length - 1];
    if (e.shiftKey && document.activeElement === first){ last.focus(); e.preventDefault(); }
    else if (!e.shiftKey && document.activeElement === last){ first.focus(); e.preventDefault(); }
  }

  function openExplorer(){
    lastFocus = document.activeElement;
    explorer.style.display = 'block';
    requestAnimationFrame(() => {
      explorer.setAttribute('data-state','open');
      explorer.classList.remove('hidden');
      lockScroll(true);
      // Focus
      const f = focusables(panel);
      (f[0] || closer).focus({ preventScroll: true });
      document.addEventListener('keydown', onKeyDown);
      document.addEventListener('keydown', trapFocus);
    });
  }

  function closeExplorer(){
    explorer.removeAttribute('data-state');
    lockScroll(false);
    document.removeEventListener('keydown', onKeyDown);
    document.removeEventListener('keydown', trapFocus);
    // Wait for transition
    setTimeout(() => {
      explorer.classList.add('hidden');
      explorer.style.display = 'none';
      if (lastFocus && lastFocus.focus) lastFocus.focus({ preventScroll: true });
    }, 300);
  }

  function onKeyDown(e){
    if (e.key === 'Escape') closeExplorer();
  }

  openers.forEach(btn => btn.addEventListener('click', openExplorer));
  closer?.addEventListener('click', closeExplorer);
  scrim?.addEventListener('click', (e) => { if (e.target === scrim) closeExplorer(); });

  // Ensure the explorer never looks "squished"
  const ro = new ResizeObserver(() => {
    const maxH = Math.max(420, Math.min(window.innerHeight * 0.88, 860));
    panel.style.maxHeight = maxH + 'px';
  });
  ro.observe(document.documentElement);
})();
</script>







<!-- ===============================
     OC CORES — Apple‑style drop‑in section
     Paste anywhere inside <body>. Uses existing Tailwind + Phosphor on your site.
     No external deps. Honors prefers-reduced-motion.
     =============================== -->
<section id="oc-cores" class="section-clip relative mx-auto max-w-[1200px] oc-container reveal">
  <!-- Soft background glows (subtle, Apple‑y) -->
  <div aria-hidden="true" class="pointer-events-none absolute inset-0 -z-10">
    <div class="absolute left-1/2 top-[-6rem] h-[22rem] w-[42rem] -translate-x-1/2 rounded-full blur-3xl"
         style="background: radial-gradient(60% 60% at 50% 40%, rgba(160,228,212,.22), rgba(160,228,212,0) 70%);"></div>
    <div class="absolute right-[-8%] bottom-[-12%] h-[18rem] w-[18rem] rounded-full blur-3xl"
         style="background: radial-gradient(55% 55% at 50% 50%, rgba(0,207,255,.14), rgba(0,207,255,0) 70%);"></div>
  </div>

  <!-- Header -->
  <header class="w-full text-center pt-20 md:pt-24">
    <h2 class="text-oc-ink text-4xl md:text-6xl lg:text-7xl font-semibold tracking-tight grad-text grad-move-left"
        style="--from:#0B1B2Bcc; --via:#0E6F5Ccc; --to:#00CFFFcc; --speed:16s; --angle:135deg;">
      Meet the Cores
    </h2>
    <p class="mx-auto mt-4 max-w-[780px] text-[15px] leading-relaxed text-neutral-600">
      OC‑Core, OC‑Research‑Core, and OC‑Coach‑Core work together like a product family. Each Core is focused,
      updatable, and designed to feel native on your device. New Cores ship regularly—and there’s a dedicated
      <button id="ocCoresOpenBtnTop" class="underline decoration-neutral-300 underline-offset-4 hover:text-neutral-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-oc-accent rounded-sm">
        Cores Library
      </button>
      to explore them all.
    </p>
  </header>

  <!-- Three feature cards (Apple product grid) -->
  <div class="mt-10 md:mt-14 grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-5">
    <!-- OC‑Core -->
    <article class="group rounded-3xl border border-neutral-200 bg-white/80 backdrop-blur card-glass p-6 md:p-7 shadow-[0_10px_30px_rgba(10,13,16,0.06)] tilt overflow-hidden relative">
      <!-- sheen -->
      <span aria-hidden="true" class="pointer-events-none absolute -inset-x-10 -top-10 h-20 rotate-6 opacity-0 group-hover:opacity-100 transition-opacity duration-500"
            style="background:linear-gradient(90deg, transparent, rgba(255,255,255,.65), transparent);"></span>
      <div class="flex items-start gap-4">
        <div class="h-12 w-12 shrink-0 rounded-2xl bg-neutral-900 text-white grid place-items-center shadow-soft">
          <i class="ph ph-cpu text-xl" aria-hidden="true"></i>
        </div>
        <div>
          <h3 class="text-lg font-semibold tracking-tight text-neutral-900">OC‑Core</h3>
          <p class="mt-1 text-sm leading-relaxed text-neutral-600">Your everyday engine—fast chat, tool routing, notes, and on‑device actions.</p>
        </div>
      </div>
      <ul class="mt-4 space-y-2 text-sm text-neutral-700">
        <li class="flex items-center gap-2"><i class="ph ph-check"></i><span>Local‑first, private by design</span></li>
        <li class="flex items-center gap-2"><i class="ph ph-check"></i><span>Quick compose, summarize, and draft</span></li>
        <li class="flex items-center gap-2"><i class="ph ph-check"></i><span>Plays with every other Core</span></li>
      </ul>
      <div class="mt-5 flex items-center justify-between">
        <button class="ocCoresOpenBtn inline-flex items-center gap-2 text-sm font-medium text-neutral-900 hover:opacity-80">
          <i class="ph ph-grid-four"></i> <span>Open in Library</span>
        </button>
        <span class="text-xs text-neutral-500">Core 01</span>
      </div>
    </article>

    <!-- OC‑Research‑Core -->
    <article class="group rounded-3xl border border-neutral-200 bg-white/80 backdrop-blur card-glass p-6 md:p-7 shadow-[0_10px_30px_rgba(10,13,16,0.06)] tilt overflow-hidden relative">
      <span aria-hidden="true" class="pointer-events-none absolute -inset-x-10 -top-10 h-20 rotate-6 opacity-0 group-hover:opacity-100 transition-opacity duration-500"
            style="background:linear-gradient(90deg, transparent, rgba(255,255,255,.65), transparent);"></span>
      <div class="flex items-start gap-4">
        <div class="h-12 w-12 shrink-0 rounded-2xl bg-neutral-900 text-white grid place-items-center shadow-soft">
          <i class="ph ph-magnifying-glass text-xl" aria-hidden="true"></i>
        </div>
        <div>
          <h3 class="text-lg font-semibold tracking-tight text-neutral-900">OC‑Research‑Core</h3>
          <p class="mt-1 text-sm leading-relaxed text-neutral-600">Verification mode—linked sources, corpora, and citation‑first answers.</p>
        </div>
      </div>
      <ul class="mt-4 space-y-2 text-sm text-neutral-700">
        <li class="flex items-center gap-2"><i class="ph ph-check"></i><span>Curated databases + RAG</span></li>
        <li class="flex items-center gap-2"><i class="ph ph-check"></i><span>Inline citations you can audit</span></li>
        <li class="flex items-center gap-2"><i class="ph ph-check"></i><span>Great for briefs, memos, reviews</span></li>
      </ul>
      <div class="mt-5 flex items-center justify-between">
        <button class="ocCoresOpenBtn inline-flex items-center gap-2 text-sm font-medium text-neutral-900 hover:opacity-80">
          <i class="ph ph-grid-four"></i> <span>Open in Library</span>
        </button>
        <span class="text-xs text-neutral-500">Core 02</span>
      </div>
    </article>

    <!-- OC‑Coach‑Core -->
    <article class="group rounded-3xl border border-neutral-200 bg-white/80 backdrop-blur card-glass p-6 md:p-7 shadow-[0_10px_30px_rgba(10,13,16,0.06)] tilt overflow-hidden relative">
      <span aria-hidden="true" class="pointer-events-none absolute -inset-x-10 -top-10 h-20 rotate-6 opacity-0 group-hover:opacity-100 transition-opacity duration-500"
            style="background:linear-gradient(90deg, transparent, rgba(255,255,255,.65), transparent);"></span>
      <div class="flex items-start gap-4">
        <div class="h-12 w-12 shrink-0 rounded-2xl bg-neutral-900 text-white grid place-items-center shadow-soft">
          <i class="ph ph-flag-checkered text-xl" aria-hidden="true"></i>
        </div>
        <div>
          <h3 class="text-lg font-semibold tracking-tight text-neutral-900">OC‑Coach‑Core</h3>
          <p class="mt-1 text-sm leading-relaxed text-neutral-600">Strategy + accountability—roadmaps, weekly plans, and progress loops.</p>
        </div>
      </div>
      <ul class="mt-4 space-y-2 text-sm text-neutral-700">
        <li class="flex items-center gap-2"><i class="ph ph-check"></i><span>Goal trees → concrete tasks</span></li>
        <li class="flex items-center gap-2"><i class="ph ph-check"></i><span>Check‑ins, nudges, and recaps</span></li>
        <li class="flex items-center gap-2"><i class="ph ph-check"></i><span>Great for founders & teams</span></li>
      </ul>
      <div class="mt-5 flex items-center justify-between">
        <button class="ocCoresOpenBtn inline-flex items-center gap-2 text-sm font-medium text-neutral-900 hover:opacity-80">
          <i class="ph ph-grid-four"></i> <span>Open in Library</span>
        </button>
        <span class="text-xs text-neutral-500">Core 03</span>
      </div>
    </article>
  </div>

  <!-- Library strip (glass CTA) -->
  <div class="mt-10 md:mt-12">
    <div class="relative overflow-hidden rounded-2xl border border-neutral-200 bg-white/70 backdrop-blur shadow-[0_10px_30px_rgba(10,13,16,0.06)]">
      <div class="pointer-events-none absolute inset-x-0 top-0 h-1/3 bg-gradient-to-b from-white/50 to-transparent"></div>
      <div class="px-6 py-6 md:px-8 md:py-7 flex flex-col md:flex-row md:items-center md:justify-between gap-4">
        <div>
          <h3 class="text-[17px] md:text-[18px] font-semibold tracking-tight text-neutral-900">Explore every Core</h3>
          <p class="text-sm leading-relaxed text-neutral-600">A dedicated space to browse, compare, and update Cores—new ones ship continuously.</p>
        </div>
        <div class="flex items-center gap-3">
          <button id="ocCoresOpenBtn" class="inline-flex items-center gap-2 rounded-2xl border border-neutral-300 bg-white px-4 py-2 text-sm font-medium text-neutral-900 hover:bg-neutral-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-oc-accent">
            <i class="ph ph-grid-four"></i> <span>Open Cores Library</span>
          </button>
          <a href="download.html" class="inline-flex items-center gap-2 rounded-2xl bg-neutral-900 px-4 py-2 text-sm font-medium text-white hover:opacity-90">
            <i class="ph ph-download"></i> <span>Get OC</span>
          </a>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ===============================
     CORES LIBRARY — Modal (focus‑trapped)
     =============================== -->
<div id="ocCoresModal" class="fixed inset-0 z-[70] hidden" aria-hidden="true">
  <!-- Backdrop -->
  <div id="ocCoresBackdrop" class="absolute inset-0 bg-white/80 backdrop-blur-md opacity-0 transition-opacity duration-300"></div>
  <!-- Panel -->
  <div class="absolute inset-x-0 top-6 md:top-10 mx-auto w-[min(980px,92vw)]">
    <div id="ocCoresPanel" role="dialog" aria-modal="true" aria-labelledby="ocCoresTitle"
         class="translate-y-6 opacity-0 transition-all duration-300 rounded-[22px] border border-neutral-200 bg-white shadow-[0_24px_80px_rgba(10,13,16,.18)]">
      <!-- Header bar -->
      <div class="flex items-center justify-between gap-3 px-5 md:px-6 py-4 border-b border-neutral-200/80">
        <div class="flex items-center gap-3">
          <div class="h-9 w-9 rounded-xl bg-neutral-900 text-white grid place-items-center"><i class="ph ph-grid-four"></i></div>
          <h3 id="ocCoresTitle" class="text-[17px] md:text-[18px] font-semibold tracking-tight text-neutral-900">Cores Library</h3>
        </div>
        <div class="flex items-center gap-2">
          <label class="sr-only" for="ocCoresSearch">Search cores</label>
          <div class="hidden md:flex items-center rounded-xl border border-neutral-200 bg-white px-3 py-2 text-sm text-neutral-700">
            <i class="ph ph-magnifying-glass mr-2 opacity-60"></i>
            <input id="ocCoresSearch" type="search" placeholder="Search cores" class="w-48 focus:outline-none" />
          </div>
          <button id="ocCoresCloseBtn" class="inline-flex items-center justify-center rounded-xl border border-neutral-200 bg-white/80 px-3 py-2 text-sm hover:bg-white focus:outline-none focus-visible:ring-2 focus-visible:ring-oc-accent" aria-label="Close">
            <i class="ph ph-x"></i>
          </button>
        </div>
      </div>

      <!-- Body (scrollable) -->
      <div class="max-h-[78vh] md:max-h-[76vh] overflow-y-auto">
        <div class="px-5 md:px-6 py-5">
          <!-- Active cores -->
          <h4 class="text-sm font-semibold tracking-tight text-neutral-900">Available now</h4>
          <div class="mt-3 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
            <!-- Cards mirror the three above, compact style -->
            <a href="#" class="block rounded-2xl border border-neutral-200 bg-white p-4 hover:bg-neutral-50 focus:outline-none">
              <div class="flex items-center gap-3">
                <div class="h-9 w-9 rounded-xl bg-neutral-900 text-white grid place-items-center"><i class="ph ph-cpu"></i></div>
                <div>
                  <div class="text-[15px] font-semibold text-neutral-900">OC‑Core</div>
                  <div class="text-xs text-neutral-600">Everyday engine for everything</div>
                </div>
              </div>
            </a>
            <a href="#" class="block rounded-2xl border border-neutral-200 bg-white p-4 hover:bg-neutral-50 focus:outline-none">
              <div class="flex items-center gap-3">
                <div class="h-9 w-9 rounded-xl bg-neutral-900 text-white grid place-items-center"><i class="ph ph-magnifying-glass"></i></div>
                <div>
                  <div class="text-[15px] font-semibold text-neutral-900">OC‑Research‑Core</div>
                  <div class="text-xs text-neutral-600">Verification, sources, citations</div>
                </div>
              </div>
            </a>
            <a href="#" class="block rounded-2xl border border-neutral-200 bg-white p-4 hover:bg-neutral-50 focus:outline-none">
              <div class="flex items-center gap-3">
                <div class="h-9 w-9 rounded-xl bg-neutral-900 text-white grid place-items-center"><i class="ph ph-flag-checkered"></i></div>
                <div>
                  <div class="text-[15px] font-semibold text-neutral-900">OC‑Coach‑Core</div>
                  <div class="text-xs text-neutral-600">Planning, execution, accountability</div>
                </div>
              </div>
            </a>
          </div>

          <!-- Coming soon -->
          <div class="mt-8">
            <h4 class="text-sm font-semibold tracking-tight text-neutral-900">Coming soon</h4>
            <div class="mt-3 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
              <div class="rounded-2xl border border-neutral-200 bg-white p-4">
                <div class="flex items-center gap-3">
                  <div class="h-9 w-9 rounded-xl bg-neutral-100 text-neutral-500 grid place-items-center"><i class="ph ph-rocket-launch"></i></div>
                  <div>
                    <div class="text-[15px] font-semibold text-neutral-900">OC‑Build‑Core</div>
                    <div class="text-xs text-neutral-600">Ship products faster</div>
                  </div>
                </div>
              </div>
              <div class="rounded-2xl border border-neutral-200 bg-white p-4">
                <div class="flex items-center gap-3">
                  <div class="h-9 w-9 rounded-xl bg-neutral-100 text-neutral-500 grid place-items-center"><i class="ph ph-file-text"></i></div>
                  <div>
                    <div class="text-[15px] font-semibold text-neutral-900">OC‑Docs‑Core</div>
                    <div class="text-xs text-neutral-600">Drafts, templates, export</div>
                  </div>
                </div>
              </div>
              <div class="rounded-2xl border border-neutral-200 bg-white p-4">
                <div class="flex items-center gap-3">
                  <div class="h-9 w-9 rounded-xl bg-neutral-100 text-neutral-500 grid place-items-center"><i class="ph ph-palette"></i></div>
                  <div>
                    <div class="text-[15px] font-semibold text-neutral-900">OC‑Studio‑Core</div>
                    <div class="text-xs text-neutral-600">Design & media workflows</div>
                  </div>
                </div>
              </div>
            </div>
            <p class="mt-3 text-xs text-neutral-500">Cores update over‑the‑air with improvements and new capabilities.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ===============================
     Minimal JS: modal open/close + focus trap + search filter
     =============================== -->
<script>
(() => {
  const modal = document.getElementById('ocCoresModal');
  const panel = document.getElementById('ocCoresPanel');
  const backdrop = document.getElementById('ocCoresBackdrop');
  const openers = [
    document.getElementById('ocCoresOpenBtn'),
    document.getElementById('ocCoresOpenBtnTop'),
    ...Array.from(document.querySelectorAll('.ocCoresOpenBtn'))
  ].filter(Boolean);
  const btnClose = document.getElementById('ocCoresCloseBtn');
  const search = document.getElementById('ocCoresSearch');

  let lastActive = null;
  const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

  function trapFocus(e){
    if (!modal || modal.getAttribute('aria-hidden') !== 'false') return;
    const f = panel.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
    const focusables = Array.from(f).filter(el => !el.hasAttribute('disabled'));
    if (!focusables.length) return;
    const first = focusables[0];
    const last  = focusables[focusables.length - 1];
    if (e.key === 'Tab'){
      if (e.shiftKey && document.activeElement === first){ last.focus(); e.preventDefault(); }
      else if (!e.shiftKey && document.activeElement === last){ first.focus(); e.preventDefault(); }
    }
    if (e.key === 'Escape'){ close(); }
  }

  function open(){
    if (!modal) return;
    lastActive = document.activeElement;
    modal.classList.remove('hidden');
    modal.setAttribute('aria-hidden','false');
    document.body.classList.add('overflow-hidden');

    // animate in
    requestAnimationFrame(() => {
      backdrop.classList.remove('opacity-0');
      backdrop.classList.add('opacity-100');
      panel.classList.remove('translate-y-6','opacity-0');
      if (!prefersReduced) panel.classList.add('translate-y-0','opacity-100'); else panel.classList.add('opacity-100');
    });

    // focus
    (btnClose || panel).focus({ preventScroll: true });
    document.addEventListener('keydown', trapFocus);
  }

  function close(){
    if (!modal) return;
    modal.setAttribute('aria-hidden','true');

    // animate out
    backdrop.classList.remove('opacity-100');
    backdrop.classList.add('opacity-0');
    if (!prefersReduced) panel.classList.add('translate-y-6');
    panel.classList.add('opacity-0');

    setTimeout(() => {
      modal.classList.add('hidden');
      document.body.classList.remove('overflow-hidden');
      document.removeEventListener('keydown', trapFocus);
      if (lastActive && lastActive.focus) lastActive.focus({ preventScroll: true });
    }, prefersReduced ? 0 : 280);
  }

  openers.forEach(btn => btn.addEventListener('click', open));
  btnClose && btnClose.addEventListener('click', close);
  backdrop && backdrop.addEventListener('click', close);

  // simple search filter (titles only)
  if (search){
    search.addEventListener('input', () => {
      const q = (search.value || '').toLowerCase();
      panel.querySelectorAll('[class*="grid"] > a, [class*="grid"] > div').forEach(card => {
        const t = card.textContent.toLowerCase();
        card.style.display = t.includes(q) ? '' : 'none';
      });
    });
  }
})();
</script>

<!-- Motion preferences: tone down hover lift globally in this section -->
<style>
@media (prefers-reduced-motion: reduce){
  #oc-cores .tilt{ transition: none !important; transform: none !important; }
}
</style>




<!-- ===============================
     OC CORES — Apple-style drop-in section
     Dependencies already on your page: Tailwind + Phosphor
     Paste anywhere inside <body>
     =============================== -->
<section id="oc-cores" class="section-clip relative mx-auto max-w-[1200px] oc-container reveal">
  <!-- Soft backdrop glows (subtle, Apple-y) -->
  <div aria-hidden="true" class="pointer-events-none absolute inset-0 -z-10">
    <div class="absolute left-1/2 top-[-7rem] h-[24rem] w-[44rem] -translate-x-1/2 rounded-full blur-3xl"
         style="background: radial-gradient(60% 60% at 50% 40%, rgba(160,228,212,.20), rgba(160,228,212,0) 70%);"></div>
    <div class="absolute right-[-8%] bottom-[-14%] h-[20rem] w-[20rem] rounded-full blur-3xl"
         style="background: radial-gradient(55% 55% at 50% 50%, rgba(0,207,255,.12), rgba(0,207,255,0) 70%);"></div>
  </div>

  <!-- Header -->
  <div class="w-full pt-16 md:pt-24">
    <div class="mx-auto max-w-[900px] text-center">
      <p class="text-[11px] uppercase tracking-[0.28em] text-neutral-500">OC Cores</p>
      <h2 class="mt-2 text-3xl md:text-5xl lg:text-6xl font-semibold tracking-tight text-neutral-900">
        A modular engine for <span class="grad-anim bg-clip-text text-transparent"
          style="--from:#0B1B2Bcc;--via:#0E6F5Ccc;--to:#00CFFFcc;--angle:135deg;--speed:16s;">everything you do.</span>
      </h2>
      <p class="mx-auto mt-4 max-w-[760px] text-[15px] leading-7 text-neutral-600">
        OC’s Core system is simple: pick the Core for the job and go. Each Core is private by design,
        tuned for its task, and updated continuously.
      </p>
      <div class="mx-auto mt-8 h-px w-24 bg-gradient-to-r from-transparent via-neutral-300 to-transparent"></div>
    </div>
  </div>

  <!-- Three featured cores -->
  <div class="mt-10 grid grid-cols-1 gap-4 sm:grid-cols-3 rows-equal grid-stretch">
    <!-- Card template is duplicated for three cores -->
    <article class="oc-core-card group relative rounded-2xl border border-neutral-200 bg-white/80 backdrop-blur p-6 shadow-soft hover:shadow-xl transition-all tilt"
             data-core="oc-core">
      <div class="absolute inset-x-4 top-0 h-[2px] rounded-full opacity-0 group-hover:opacity-100 transition-opacity"
           style="background:linear-gradient(90deg,#0B1B2B,#0E6F5C,#00CFFF);"></div>
      <div class="flex items-center gap-3">
        <div class="h-10 w-10 rounded-xl bg-neutral-900 text-white flex items-center justify-center ring-1 ring-black/10">
          <i class="ph ph-cpu text-[20px]"></i>
        </div>
        <h3 class="text-lg font-semibold tracking-tight text-neutral-900">OC-Core</h3>
      </div>
      <p class="mt-3 text-[15px] leading-6 text-neutral-600">
        Your fast, private generalist. Draft, summarize, plan, and ship—no cloud send.
      </p>
      <ul class="mt-4 flex flex-wrap gap-2 text-[12px]">
        <li class="chip">Local-first</li>
        <li class="chip">Offline</li>
        <li class="chip">Citations</li>
      </ul>
      <div class="mt-6">
        <button class="oc-core-more inline-flex items-center gap-2 text-sm font-medium text-neutral-900 hover:opacity-80"
                data-target="oc-core">
          Learn more <i class="ph ph-arrow-right"></i>
        </button>
      </div>
    </article>

    <article class="oc-core-card group relative rounded-2xl border border-neutral-200 bg-white/80 backdrop-blur p-6 shadow-soft hover:shadow-xl transition-all tilt"
             data-core="oc-research-core">
      <div class="absolute inset-x-4 top-0 h-[2px] rounded-full opacity-0 group-hover:opacity-100 transition-opacity"
           style="background:linear-gradient(90deg,#0B1B2B,#0E6F5C,#00CFFF);"></div>
      <div class="flex items-center gap-3">
        <div class="h-10 w-10 rounded-xl bg-neutral-900 text-white flex items-center justify-center ring-1 ring-black/10">
          <i class="ph ph-magnifying-glass text-[20px]"></i>
        </div>
        <h3 class="text-lg font-semibold tracking-tight text-neutral-900">OC-Research-Core</h3>
      </div>
      <p class="mt-3 text-[15px] leading-6 text-neutral-600">
        Literature scans, case law, verifiable findings—organized with sources you can inspect.
      </p>
      <ul class="mt-4 flex flex-wrap gap-2 text-[12px]">
        <li class="chip">RAG</li>
        <li class="chip">Citations</li>
        <li class="chip">Summaries</li>
      </ul>
      <div class="mt-6">
        <button class="oc-core-more inline-flex items-center gap-2 text-sm font-medium text-neutral-900 hover:opacity-80"
                data-target="oc-research-core">
          Learn more <i class="ph ph-arrow-right"></i>
        </button>
      </div>
    </article>

    <article class="oc-core-card group relative rounded-2xl border border-neutral-200 bg-white/80 backdrop-blur p-6 shadow-soft hover:shadow-xl transition-all tilt"
             data-core="oc-coach-core">
      <div class="absolute inset-x-4 top-0 h-[2px] rounded-full opacity-0 group-hover:opacity-100 transition-opacity"
           style="background:linear-gradient(90deg,#0B1B2B,#0E6F5C,#00CFFF);"></div>
      <div class="flex items-center gap-3">
        <div class="h-10 w-10 rounded-xl bg-neutral-900 text-white flex items-center justify-center ring-1 ring-black/10">
          <i class="ph ph-compass text-[20px]"></i>
        </div>
        <h3 class="text-lg font-semibold tracking-tight text-neutral-900">OC-Coach-Core</h3>
      </div>
      <p class="mt-3 text-[15px] leading-6 text-neutral-600">
        A focused mentor for strategy, learning, and execution—clear plans, measurable steps.
      </p>
      <ul class="mt-4 flex flex-wrap gap-2 text-[12px]">
        <li class="chip">Planner</li>
        <li class="chip">Feedback</li>
        <li class="chip">Accountability</li>
      </ul>
      <div class="mt-6">
        <button class="oc-core-more inline-flex items-center gap-2 text-sm font-medium text-neutral-900 hover:opacity-80"
                data-target="oc-coach-core">
          Learn more <i class="ph ph-arrow-right"></i>
        </button>
      </div>
    </article>
  </div>

  <!-- Roadmap + Explorer CTA -->
  <div class="mt-10 md:mt-12 flex flex-col items-center text-center">
    <p class="max-w-[820px] text-[15px] leading-7 text-neutral-600">
      More Cores are in active development—each purpose-built and updated continuously for new tasks.
      Explore the full library to see what’s shipping next.
    </p>
    <div class="mt-6 flex flex-wrap items-center justify-center gap-3">
      <button id="ocCoresOpenBtn"
              class="inline-flex items-center gap-2 rounded-2xl px-5 py-3 text-sm md:text-[15px] font-semibold text-white
                     g-grad grad-anim shadow-xl hover:shadow-2xl transition-all hover:-translate-y-[2px]"
              style="--from:#0B1B2Bcc;--via:#0E6F5Ccc;--to:#00CFFFcc;--speed:16s;--angle:135deg;">
        <i class="ph ph-grid-four"></i> Explore all Cores
      </button>
      <a href="download.html"
         class="inline-flex items-center gap-2 rounded-2xl border border-neutral-300 bg-white px-5 py-3 text-sm md:text-[15px] font-semibold text-neutral-900 hover:bg-neutral-50">
        <i class="ph ph-download-simple"></i> Get OC
      </a>
    </div>
  </div>
  <div class="pb-12 md:pb-16"></div>
</section>

<!-- ===============================
     CORES LIBRARY — Full-screen modal
     Non-squished: centered panel, max-width + max-height with scroll
     =============================== -->
<div id="ocCoresModal" class="fixed inset-0 z-[70] hidden">
  <!-- Scrim -->
  <div class="oc-scrim absolute inset-0 bg-black/40 backdrop-blur-sm opacity-0 transition-opacity"></div>

  <!-- Panel -->
  <div class="oc-panel relative mx-auto my-6 md:my-10 w-full max-w-[1000px] px-5 opacity-0 translate-y-4 transition-all">
    <div class="rounded-3xl border border-neutral-200 bg-white/90 backdrop-blur shadow-[0_20px_60px_rgba(0,0,0,.16)] overflow-hidden">
      <!-- Header -->
      <div class="flex items-center justify-between gap-4 px-6 md:px-8 py-4 border-b border-neutral-200">
        <div>
          <h3 id="ocCoresTitle" class="text-xl md:text-2xl font-semibold tracking-tight text-neutral-900">Cores Library</h3>
          <p id="ocCoresDesc" class="text-sm text-neutral-600">Browse, learn, and pick the right Core for the task.</p>
        </div>
        <button id="ocCoresCloseBtn"
                class="rounded-xl border border-neutral-200 bg-white px-3 py-2 text-sm font-medium hover:bg-neutral-50">
          Close <span class="sr-only">Cores Library</span>
        </button>
      </div>

      <!-- Toolbar -->
      <div class="px-6 md:px-8 py-4 flex flex-col gap-3 md:flex-row md:items-center md:justify-between">
        <div class="relative w-full md:max-w-[420px]">
          <i class="ph ph-magnifying-glass absolute left-3 top-1/2 -translate-y-1/2 text-neutral-500"></i>
          <input id="ocCoresSearch" type="search" placeholder="Search cores…"
                 class="w-full rounded-xl border border-neutral-200 bg-white px-9 py-2 text-sm outline-none focus:ring-2 focus:ring-neutral-300"/>
        </div>
        <div class="flex flex-wrap gap-2 text-[12px]">
          <button class="oc-filter chip" data-filter="all">All</button>
          <button class="oc-filter chip" data-filter="stable">Stable</button>
          <button class="oc-filter chip" data-filter="beta">Beta</button>
          <button class="oc-filter chip" data-filter="coming">Coming Soon</button>
        </div>
      </div>

      <!-- Content (scrollable, non-squished) -->
      <div class="px-6 md:px-8 pb-6 max-h-[85vh] overflow-y-auto">
        <ul id="ocCoresGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
          <!-- JS renders items -->
        </ul>
      </div>
    </div>
  </div>
</div>

<!-- ===== Styles scoped to this section ===== -->
<style>
  /* Subtle card shadow (match site) */
  .shadow-soft{box-shadow:0 2px 6px rgba(10,13,16,0.04), 0 12px 24px rgba(10,13,16,0.06)}
  .tilt{transition:transform .22s cubic-bezier(.16,1,.3,1)}
  .tilt:hover{transform:translateY(-2px) scale(1.01)}
  .chip{font-size:12px;line-height:1;border:1px solid var(--line,#E7EDF2);background:#fff;border-radius:999px;padding:6px 10px;box-shadow:inset 0 1px 0 rgba(255,255,255,0.6),0 6px 14px rgba(10,13,16,.06);transition:transform .12s ease}
  .chip:hover{transform:translateY(-1px)}
  @media (prefers-reduced-motion: reduce){
    .tilt,.grad-anim{animation:none!important;transition:none!important}
  }
</style>

<!-- ===== JS: data, render, modal, focus trap ===== -->
<script>
(() => {
  // ---------- Data ----------
  const CORE_DATA = [
    {
      id: 'oc-core',
      name: 'OC-Core',
      status: 'stable',
      icon: 'ph-cpu',
      tagline: 'Private generalist for everyday work.',
      desc: 'Draft, summarize, plan, and ship—fast, local, and citation-aware.',
      chips: ['Local-first','Offline','Citations']
    },
    {
      id: 'oc-research-core',
      name: 'OC-Research-Core',
      status: 'stable',
      icon: 'ph-magnifying-glass',
      tagline: 'Verifiable research, organized.',
      desc: 'Run literature scans and linked findings with sources you can inspect.',
      chips: ['RAG','Citations','Summaries']
    },
    {
      id: 'oc-coach-core',
      name: 'OC-Coach-Core',
      status: 'beta',
      icon: 'ph-compass',
      tagline: 'Clarity, strategy, accountability.',
      desc: 'Structured planning, feedback loops, and measurable next steps.',
      chips: ['Planner','Feedback','Accountability']
    },
    // Coming soon examples — feel free to extend
    {
      id: 'oc-law-core',
      name: 'OC-Law-Core',
      status: 'coming',
      icon: 'ph-scale',
      tagline: 'Case prep & drafting (with citations).',
      desc: 'Targeted workflows for briefs, motions, and precedent analysis.',
      chips: ['Citations','Templates','Checklists']
    },
    {
      id: 'oc-build-core',
      name: 'OC-Build-Core',
      status: 'coming',
      icon: 'ph-wrench',
      tagline: 'Product & engineering R&D.',
      desc: 'Experiments, specs, and test plans tied to measurable KPIs.',
      chips: ['R&D','A/B','KPIs']
    }
  ];

  // ---------- Elements ----------
  const modal = document.getElementById('ocCoresModal');
  const scrim = modal?.querySelector('.oc-scrim');
  const panel = modal?.querySelector('.oc-panel');
  const btnOpen = document.getElementById('ocCoresOpenBtn');
  const btnClose = document.getElementById('ocCoresCloseBtn');
  const grid = document.getElementById('ocCoresGrid');
  const search = document.getElementById('ocCoresSearch');
  const filters = Array.from(document.querySelectorAll('.oc-filter'));
  const learnButtons = Array.from(document.querySelectorAll('.oc-core-more'));

  // ---------- Render grid ----------
  function coreBadge(status){
    const map = {
      stable:  'bg-emerald-50 text-emerald-700 border-emerald-200',
      beta:    'bg-amber-50 text-amber-700 border-amber-200',
      coming:  'bg-neutral-100 text-neutral-700 border-neutral-200'
    };
    const label = status === 'stable' ? 'Stable' : (status === 'beta' ? 'Beta' : 'Coming Soon');
    return `<span class="text-[11px] px-2 py-[3px] rounded-full border ${map[status]||map.stable}">${label}</span>`;
  }

  function itemCard(c){
    return `
      <li>
        <article class="group rounded-2xl border border-neutral-200 bg-white/85 backdrop-blur p-5 shadow-soft hover:shadow-xl transition-all">
          <div class="flex items-start justify-between gap-3">
            <div class="flex items-center gap-3">
              <div class="h-10 w-10 rounded-xl bg-neutral-900 text-white flex items-center justify-center ring-1 ring-black/10">
                <i class="ph ${c.icon} text-[20px]"></i>
              </div>
              <div>
                <h4 class="text-[15px] font-semibold tracking-tight text-neutral-900">${c.name}</h4>
                <p class="text-xs text-neutral-500">${c.tagline}</p>
              </div>
            </div>
            ${coreBadge(c.status)}
          </div>
          <p class="mt-3 text-[13px] leading-6 text-neutral-600">${c.desc}</p>
          <ul class="mt-3 flex flex-wrap gap-2">
            ${c.chips.map(x => `<li class="chip">${x}</li>`).join('')}
          </ul>
          <div class="mt-5 flex items-center justify-between">
            <button class="inline-flex items-center gap-1 text-sm font-medium text-neutral-900 hover:opacity-80"
                    data-core-focus="${c.id}">
              Learn more <i class="ph ph-arrow-right"></i>
            </button>
            ${c.status !== 'coming'
              ? `<a href="download.html" class="text-sm font-semibold text-neutral-900 hover:opacity-80">Use ${c.name}</a>`
              : `<span class="text-sm text-neutral-500">In development</span>`
            }
          </div>
        </article>
      </li>
    `;
  }

  function render(filter='all', q=''){
    const qn = (q||'').trim().toLowerCase();
    const items = CORE_DATA.filter(c => {
      const passFilter = filter==='all' ? true : c.status===filter;
      const passSearch = !qn ? true : (
        c.name.toLowerCase().includes(qn) ||
        c.tagline.toLowerCase().includes(qn) ||
        c.desc.toLowerCase().includes(qn) ||
        c.chips.join(' ').toLowerCase().includes(qn)
      );
      return passFilter && passSearch;
    });
    grid.innerHTML = items.map(itemCard).join('');
  }
  render();

  // ---------- Modal (open/close/animate) ----------
  let lastFocus = null;
  function openModal(selectId){
    if (!modal) return;
    lastFocus = document.activeElement;
    modal.classList.remove('hidden');
    // animate in
    requestAnimationFrame(() => {
      scrim.classList.remove('opacity-0');
      panel.classList.remove('opacity-0','translate-y-4');
    });
    document.body.classList.add('overflow-hidden');

    // Focus trap
    trapFocus(modal);
    // Optionally focus a specific core’s “Learn more”
    if (selectId){
      // pre-filter via search to surface the item
      search.value = '';
      render('all','');
      const btn = modal.querySelector(`[data-core-focus="${CSS.escape(selectId)}"]`);
      btn?.focus();
    } else {
      btnClose?.focus();
    }
  }
  function closeModal(){
    if (!modal) return;
    scrim.classList.add('opacity-0');
    panel.classList.add('opacity-0','translate-y-4');
    setTimeout(()=> {
      modal.classList.add('hidden');
      document.body.classList.remove('overflow-hidden');
      if (lastFocus && typeof lastFocus.focus === 'function') lastFocus.focus();
    }, 180);
  }

  btnOpen?.addEventListener('click', () => openModal());
  btnClose?.addEventListener('click', closeModal);
  scrim?.addEventListener('click', (e) => { if (e.target === scrim) closeModal(); });
  document.addEventListener('keydown', (e) => { if (!modal.classList.contains('hidden') && e.key === 'Escape') closeModal(); });

  // “Learn more” from feature cards opens modal on that core
  learnButtons.forEach(b => b.addEventListener('click', (e) => {
    const id = e.currentTarget.getAttribute('data-target');
    openModal(id);
  }));

  // Toolbar interactions
  filters.forEach(f => f.addEventListener('click', (e) => {
    const fkey = e.currentTarget.getAttribute('data-filter') || 'all';
    filters.forEach(x => x.classList.remove('ring-2','ring-neutral-300'));
    e.currentTarget.classList.add('ring-2','ring-neutral-300');
    render(fkey, search.value);
  }));
  search?.addEventListener('input', (e) => {
    const active = document.querySelector('.oc-filter.ring-2')?.getAttribute('data-filter') || 'all';
    render(active, e.target.value);
  });

  // ---------- Focus trap (minimal, robust) ----------
  function trapFocus(root){
    const SELECTOR = [
      'a[href]','button:not([disabled])','textarea','input','select','[tabindex]:not([tabindex="-1"])'
    ].join(',');
    const focusables = Array.from(root.querySelectorAll(SELECTOR))
      .filter(el => el.offsetParent !== null || el === btnClose); // allow hidden-close during fade

    const first = focusables[0], last = focusables[focusables.length - 1];
    function onKey(e){
      if (e.key !== 'Tab') return;
      if (e.shiftKey && document.activeElement === first){ e.preventDefault(); last.focus(); }
      else if (!e.shiftKey && document.activeElement === last){ e.preventDefault(); first.focus(); }
    }
    root.addEventListener('keydown', onKey);
    // Clean up on close
    const mo = new MutationObserver(() => {
      if (modal.classList.contains('hidden')){
        root.removeEventListener('keydown', onKey);
        mo.disconnect();
      }
    });
    mo.observe(root, { attributes:true, attributeFilter:['class'] });
  }
})();
</script>






<!-- ===============================
     OC CORES — DROP-IN SECTION
     Paste anywhere inside <body>. Tailwind + Phosphor already on page.
     =============================== -->
<section id="oc-cores" class="section-clip relative mx-auto max-w-[1200px] oc-container reveal">
  <!-- Soft background glows (subtle, Apple-y) -->
  <div aria-hidden="true" class="pointer-events-none absolute inset-0 -z-10">
    <div class="absolute left-1/2 top-[-5rem] h-[22rem] w-[42rem] -translate-x-1/2 rounded-full blur-3xl"
         style="background: radial-gradient(60% 60% at 50% 40%, rgba(160,228,212,.20), rgba(160,228,212,0) 70%);"></div>
    <div class="absolute right-[-8%] bottom-[-12%] h-[18rem] w-[18rem] rounded-full blur-3xl"
         style="background: radial-gradient(55% 55% at 50% 50%, rgba(0,207,255,.14), rgba(0,207,255,0) 70%);"></div>
  </div>

  <!-- Header -->
  <div class="w-full py-20 md:py-28 text-center">
    <div class="mx-auto w-fit rounded-full border border-black/10 bg-white/70 px-3 py-1 text-[11px] font-medium uppercase tracking-wide text-neutral-700">OC Cores</div>
    <h2 class="mt-4 text-3xl md:text-5xl lg:text-6xl font-semibold tracking-tight text-oc-ink">
      The Core system—simple, fast, private.
    </h2>
    <p class="mx-auto mt-3 max-w-[820px] text-[15px] md:text-[16px] leading-7 text-neutral-600">
      Each Core is a focused, on-device capability—designed to do one job exceptionally well.
      Start with the three pillars below. More Cores ship continuously, and you’ll have a dedicated space to explore them all.
    </p>

    <div class="mx-auto mt-8 h-px w-24 bg-gradient-to-r from-transparent via-neutral-300 to-transparent"></div>
  </div>

  <!-- Cards -->
  <div class="grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-5">
    <!-- Card: OC-Core -->
    <article class="oc-core-card group relative rounded-2xl border border-neutral-200 bg-white/80 p-6 md:p-7 shadow-soft hover:shadow-[0_14px_40px_rgba(10,13,16,.10)] transition-all duration-300 ease-out tilt overflow-hidden">
      <div class="pointer-events-none absolute -top-16 -right-16 h-40 w-40 rounded-full blur-3xl opacity-70"
           style="background: radial-gradient(60% 60% at 50% 40%, rgba(0,207,255,.18), rgba(0,0,0,0) 70%);"></div>
      <div class="flex items-center gap-3">
        <div class="h-10 w-10 rounded-xl bg-neutral-900 text-white flex items-center justify-center shadow-md">
          <i class="ph ph-cpu text-[20px]"></i>
        </div>
        <h3 class="text-lg font-semibold tracking-tight text-neutral-900">OC-Core</h3>
      </div>
      <p class="mt-3 text-[15px] leading-6 text-neutral-600">
        Your everyday engine. Draft, summarize, structure, and decide—without sending your data to the cloud.
      </p>

      <!-- Apple-like micro spec row -->
      <ul class="mt-5 flex flex-wrap gap-2 text-xs text-neutral-600">
        <li class="chip">On-device</li>
        <li class="chip">Citations</li>
        <li class="chip">PDF/DOCX export</li>
      </ul>

      <div class="mt-6">
        <a href="download.html" class="inline-flex items-center gap-2 rounded-xl border border-neutral-300 bg-white px-4 py-2 text-sm font-medium text-neutral-900 hover:bg-neutral-50 focus:ring-2 focus:ring-neutral-300">
          <i class="ph ph-rocket-launch"></i> Launch
        </a>
      </div>
    </article>

    <!-- Card: OC-Research-Core -->
    <article class="oc-core-card group relative rounded-2xl border border-neutral-200 bg-white/80 p-6 md:p-7 shadow-soft hover:shadow-[0_14px_40px_rgba(10,13,16,.10)] transition-all duration-300 ease-out tilt overflow-hidden">
      <div class="pointer-events-none absolute -top-16 -right-16 h-40 w-40 rounded-full blur-3xl opacity-70"
           style="background: radial-gradient(60% 60% at 50% 40%, rgba(14,111,92,.18), rgba(0,0,0,0) 70%);"></div>
      <div class="flex items-center gap-3">
        <div class="h-10 w-10 rounded-xl bg-neutral-900 text-white flex items-center justify-center shadow-md">
          <i class="ph ph-magnifying-glass text-[20px]"></i>
        </div>
        <h3 class="text-lg font-semibold tracking-tight text-neutral-900">OC-Research-Core</h3>
      </div>
      <p class="mt-3 text-[15px] leading-6 text-neutral-600">
        Trust, then verify. Rapid literature scans with linked sources, notes, and exports you can cite.
      </p>

      <ul class="mt-5 flex flex-wrap gap-2 text-xs text-neutral-600">
        <li class="chip">RAG</li>
        <li class="chip">Source links</li>
        <li class="chip">Snapshot exports</li>
      </ul>

      <div class="mt-6">
        <a href="download.html" class="inline-flex items-center gap-2 rounded-xl border border-neutral-300 bg-white px-4 py-2 text-sm font-medium text-neutral-900 hover:bg-neutral-50 focus:ring-2 focus:ring-neutral-300">
          <i class="ph ph-books"></i> Research
        </a>
      </div>
    </article>

    <!-- Card: OC-Coach-Core -->
    <article class="oc-core-card group relative rounded-2xl border border-neutral-200 bg-white/80 p-6 md:p-7 shadow-soft hover:shadow-[0_14px_40px_rgba(10,13,16,.10)] transition-all duration-300 ease-out tilt overflow-hidden">
      <div class="pointer-events-none absolute -top-16 -right-16 h-40 w-40 rounded-full blur-3xl opacity-70"
           style="background: radial-gradient(60% 60% at 50% 40%, rgba(231,231,255,.30), rgba(0,0,0,0) 70%);"></div>
      <div class="flex items-center gap-3">
        <div class="h-10 w-10 rounded-xl bg-neutral-900 text-white flex items-center justify-center shadow-md">
          <i class="ph ph-target text-[20px]"></i>
        </div>
        <h3 class="text-lg font-semibold tracking-tight text-neutral-900">OC-Coach-Core</h3>
      </div>
      <p class="mt-3 text-[15px] leading-6 text-neutral-600">
        Structured prompts and feedback loops for learning, fitness, and execution—objective, practical, yours.
      </p>

      <ul class="mt-5 flex flex-wrap gap-2 text-xs text-neutral-600">
        <li class="chip">Routines</li>
        <li class="chip">Check-ins</li>
        <li class="chip">Progress exports</li>
      </ul>

      <div class="mt-6">
        <a href="download.html" class="inline-flex items-center gap-2 rounded-xl border border-neutral-300 bg-white px-4 py-2 text-sm font-medium text-neutral-900 hover:bg-neutral-50 focus:ring-2 focus:ring-neutral-300">
          <i class="ph ph-compass"></i> Coach
        </a>
      </div>
    </article>
  </div>

  <!-- Roadmap + Explore -->
  <div class="mt-10 md:mt-12 flex flex-col items-center gap-4 text-center">
    <p class="text-[14px] leading-6 text-neutral-600 max-w-[760px]">
      New Cores arrive regularly for focused tasks—writing, law, stats, design, trading, and more.
      Each Core updates in place, so your toolkit gets better over time.
    </p>
    <div class="flex flex-wrap items-center justify-center gap-3">
      <button id="openCoresLibrary"
              class="inline-flex items-center gap-2 rounded-2xl px-5 py-3 text-sm font-semibold text-white
                     shadow-xl shadow-black/15 hover:shadow-2xl hover:shadow-black/25 transition-all duration-300 ease-out
                     g-grad grad-anim focus:outline-none focus-visible:ring-4 focus-visible:ring-white/60"
              style="--from:#0B1B2Bcc; --via:#0E6F5Ccc; --to:#00CFFFcc; --speed:16s; --angle:135deg;">
        <i class="ph ph-grid-four text-base"></i> Explore all Cores
      </button>
      <a href="download.html"
         class="inline-flex items-center gap-2 rounded-2xl border border-neutral-300 bg-white px-5 py-3 text-sm font-medium text-neutral-900 hover:bg-neutral-50 focus:ring-2 focus:ring-neutral-300">
        <i class="ph ph-download-simple"></i> Get OC
      </a>
    </div>
  </div>
</section>

<!-- ===============================
     CORES LIBRARY MODAL (roomy, not squished)
     =============================== -->
<div id="coresModal"
     class="fixed inset-0 z-[70] hidden"
     role="dialog" aria-modal="true" aria-labelledby="coresModalTitle">
  <!-- Scrim -->
  <div class="cores-scrim absolute inset-0 bg-black/20 backdrop-blur-sm opacity-0 transition-opacity duration-300"></div>

  <!-- Panel -->
  <div class="cores-panel absolute left-1/2 top-1/2 w-[min(92vw,1080px)] max-h-[min(82vh,760px)] -translate-x-1/2 -translate-y-1/2
              rounded-3xl border border-black/10 bg-white/92 shadow-[0_24px_70px_rgba(10,13,16,.18)] backdrop-blur
              opacity-0 scale-[.98] transition-all duration-300 ease-out overflow-hidden">
    <!-- Top chrome -->
    <div class="flex items-center justify-between px-5 md:px-7 pt-5">
      <div class="flex items-center gap-3">
        <span class="h-9 w-9 rounded-2xl bg-neutral-900 text-white flex items-center justify-center shadow"><i class="ph ph-grid-four"></i></span>
        <h3 id="coresModalTitle" class="text-lg md:text-xl font-semibold tracking-tight text-neutral-900">Cores Library</h3>
      </div>
      <button id="closeCoresLibrary" class="drawer-close rounded-xl border border-black/10 bg-white/80 w-10 h-10 flex items-center justify-center hover:bg-white focus:ring-2 focus:ring-black/10" aria-label="Close">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M6 6l12 12M18 6L6 18" stroke="#0A0D10" stroke-width="2" stroke-linecap="round"/></svg>
      </button>
    </div>

    <!-- Content area (scrollable) -->
    <div class="mt-4 md:mt-5 px-5 md:px-7 pb-6 overflow-y-auto"
         style="max-height: calc(min(82vh,760px) - 64px);">
      <!-- Search / filters -->
      <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
        <div class="col-span-2">
          <label class="sr-only" for="coresSearch">Search cores</label>
          <div class="flex items-center gap-2 rounded-xl border border-neutral-200 bg-white px-3 py-2">
            <i class="ph ph-magnifying-glass text-neutral-500"></i>
            <input id="coresSearch" type="search" placeholder="Search cores"
                   class="w-full bg-transparent outline-none text-[15px] placeholder:text-neutral-400" />
          </div>
        </div>
        <div class="flex items-center gap-2">
          <button data-filter="all" class="core-filter chip !px-3 !py-2">All</button>
          <button data-filter="now" class="core-filter chip !px-3 !py-2">Available</button>
          <button data-filter="soon" class="core-filter chip !px-3 !py-2">Coming Soon</button>
        </div>
      </div>

      <!-- Library grid -->
      <ul id="coresGrid"
          class="mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-5">
        <!-- Items injected by script (see data below) -->
      </ul>

      <!-- Footer note -->
      <div class="mt-6 text-center text-[12px] text-neutral-500">
        New Cores are released and updated frequently. Your library updates in place.
      </div>
    </div>
  </div>
</div>

<!-- ===============================
     LOCAL STYLES (scoped-ish to #oc-cores & modal)
     =============================== -->
<style>
  /* Prevent any squish in modal content */
  #coresModal .cores-panel { will-change: transform, opacity; }
  #coresModal .cores-scrim { will-change: opacity; }

  /* Progressive reveal for cards */
  @media (prefers-reduced-motion: no-preference) {
    #oc-cores .oc-core-card { opacity: 0; transform: translateY(14px) scale(.985); }
    #oc-cores .oc-core-card.in { opacity: 1; transform: translateY(0) scale(1); transition: opacity .6s ease, transform .6s ease; }
    #oc-cores .tilt { transition: transform .25s ease; }
    #oc-cores .tilt:hover { transform: translateY(-2px) scale(1.01); }
  }

  /* Utility: chip already defined globally; ensure small variant inside modal */
  #coresModal .chip { font-size: 11px; padding: 5px 9px; }
</style>

<!-- ===============================
     SCRIPT: Modal + Focus trap + Grid populate + Search/Filter
     =============================== -->
<script>
(() => {
  // ---------- Data ----------
  const CORE_DATA = [
    {
      id: 'oc-core',
      title: 'OC-Core',
      status: 'now',
      icon: 'ph-cpu',
      desc: 'Your everyday engine for drafting, structuring, and decisions — fully local.',
      tags: ['On-device','Citations','PDF/DOCX'],
      link: 'download.html'
    },
    {
      id: 'oc-research-core',
      title: 'OC-Research-Core',
      status: 'now',
      icon: 'ph-magnifying-glass',
      desc: 'Rapid literature scans with linked sources, notes, and exports you can cite.',
      tags: ['RAG','Sources','Snapshots'],
      link: 'download.html'
    },
    {
      id: 'oc-coach-core',
      title: 'OC-Coach-Core',
      status: 'now',
      icon: 'ph-target',
      desc: 'Structured routines and feedback loops for learning, fitness, and execution.',
      tags: ['Routines','Check-ins','Progress'],
      link: 'download.html'
    },
    // Coming soon examples — feel free to adjust names later
    {
      id: 'oc-law-core',
      title: 'OC-Law-Core',
      status: 'soon',
      icon: 'ph-scales',
      desc: 'Case extraction, argument scaffolds, and citation drafting.',
      tags: ['Templates','Citations'],
      link: '#'
    },
    {
      id: 'oc-stats-core',
      title: 'OC-Stats-Core',
      status: 'soon',
      icon: 'ph-chart-line',
      desc: 'Hypothesis tests, power, and visualizations — no spreadsheets required.',
      tags: ['A/B','Power','Plots'],
      link: '#'
    },
    {
      id: 'oc-design-core',
      title: 'OC-Design-Core',
      status: 'soon',
      icon: 'ph-paint-brush-broad',
      desc: 'Briefs, palettes, and component specs for production UI.',
      tags: ['Specs','Assets'],
      link: '#'
    }
  ];

  // ---------- Elements ----------
  const section = document.getElementById('oc-cores');
  const cards   = section ? Array.from(section.querySelectorAll('.oc-core-card')) : [];
  const openBtn = document.getElementById('openCoresLibrary');
  const modal   = document.getElementById('coresModal');
  const scrim   = modal?.querySelector('.cores-scrim');
  const panel   = modal?.querySelector('.cores-panel');
  const closeBtn= document.getElementById('closeCoresLibrary');
  const grid    = document.getElementById('coresGrid');
  const search  = document.getElementById('coresSearch');
  const filters = modal ? Array.from(modal.querySelectorAll('.core-filter')) : [];

  // ---------- Helpers ----------
  const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

  function lockScroll(lock) { document.documentElement.classList.toggle('overflow-hidden', lock); document.body.classList.toggle('overflow-hidden', lock); }

  function animateInModal() {
    if (!modal) return;
    modal.style.display = 'block';
    void modal.offsetWidth; // force reflow
    scrim.classList.remove('opacity-0');
    panel.classList.remove('opacity-0','scale-[.98]');
  }
  function animateOutModal(cb) {
    if (!modal) return;
    scrim.classList.add('opacity-0');
    panel.classList.add('opacity-0','scale-[.98]');
    const done = () => { modal.style.display = 'none'; cb && cb(); };
    if (prefersReduced) { done(); return; }
    setTimeout(done, 260);
  }

  // Basic focus trap
  let lastFocus = null;
  function trapFocus(e){
    if (!modal || modal.classList.contains('hidden')) return;
    const FOCUSABLE = modal.querySelectorAll('a, button, input, textarea, select, [tabindex]:not([tabindex="-1"])');
    const list = Array.from(FOCUSABLE).filter(el => !el.hasAttribute('disabled') && el.offsetParent !== null);
    if (!list.length) return;
    const first = list[0], last = list[list.length - 1];

    if (e.key === 'Tab') {
      if (e.shiftKey && document.activeElement === first) { e.preventDefault(); last.focus(); }
      else if (!e.shiftKey && document.activeElement === last) { e.preventDefault(); first.focus(); }
    } else if (e.key === 'Escape') {
      closeModal();
    }
  }

  function openModal(){
    if (!modal) return;
    lastFocus = document.activeElement;
    modal.classList.remove('hidden');
    animateInModal();
    lockScroll(true);
    document.addEventListener('keydown', trapFocus);
    // focus first interactive
    setTimeout(() => (search?.focus?.()), 30);
  }

  function closeModal(){
    if (!modal) return;
    animateOutModal(() => {
      modal.classList.add('hidden');
      lockScroll(false);
      document.removeEventListener('keydown', trapFocus);
      if (lastFocus && lastFocus.focus) lastFocus.focus();
    });
  }

  // Populate grid
  function renderGrid(term = '', mode = 'all'){
    if (!grid) return;
    const q = (term || '').trim().toLowerCase();
    const items = CORE_DATA.filter(c => {
      const matchesQ = !q || c.title.toLowerCase().includes(q) || c.desc.toLowerCase().includes(q) || c.tags.join(' ').toLowerCase().includes(q);
      const matchesF = (mode === 'all') || (mode === 'now' && c.status === 'now') || (mode === 'soon' && c.status === 'soon');
      return matchesQ && matchesF;
    });

    grid.innerHTML = items.map(c => `
      <li class="rounded-2xl border border-neutral-200 bg-white p-5 flex flex-col">
        <div class="flex items-center gap-3">
          <div class="h-9 w-9 rounded-xl bg-neutral-900 text-white flex items-center justify-center shadow"><i class="ph ${c.icon}"></i></div>
          <div class="flex items-center gap-2">
            <p class="font-semibold text-neutral-900">${c.title}</p>
            ${c.status === 'soon' ? '<span class="chip text-[11px]">Coming soon</span>' : '<span class="chip text-[11px]">Available</span>'}
          </div>
        </div>
        <p class="mt-2 text-[14px] leading-6 text-neutral-600">${c.desc}</p>
        <div class="mt-3 flex flex-wrap gap-2 text-xs text-neutral-600">
          ${c.tags.map(t => `<span class="chip">${t}</span>`).join('')}
        </div>
        <div class="mt-5">
          <a href="${c.link}" class="inline-flex items-center gap-2 rounded-xl border border-neutral-300 bg-white px-3 py-2 text-sm font-medium text-neutral-900 hover:bg-neutral-50 focus:ring-2 focus:ring-neutral-300 ${c.status==='soon' ? 'pointer-events-none opacity-50' : ''}">
            <i class="ph ph-arrow-right"></i> ${c.status==='soon' ? 'Soon' : 'Open'}
          </a>
        </div>
      </li>
    `).join('');
  }

  // Filters
  let currentFilter = 'all';
  function setFilter(mode){
    currentFilter = mode;
    filters.forEach(b => b.classList.toggle('bg-neutral-900', b.dataset.filter === mode));
    filters.forEach(b => b.classList.toggle('text-white', b.dataset.filter === mode));
    filters.forEach(b => b.classList.toggle('border', b.dataset.filter === mode));
    renderGrid(search?.value || '', currentFilter);
  }

  // Wire up
  openBtn?.addEventListener('click', openModal);
  closeBtn?.addEventListener('click', closeModal);
  scrim?.addEventListener('click', (e) => { if (e.target === scrim) closeModal(); });

  search?.addEventListener('input', () => renderGrid(search.value, currentFilter));
  filters.forEach(btn => btn.addEventListener('click', () => setFilter(btn.dataset.filter)));

  // Initial render
  renderGrid();

  // ---------- Card reveal on view ----------
  if (cards.length) {
    const io = new IntersectionObserver((entries) => {
      for (const e of entries) {
        if (e.isIntersecting) {
          e.target.classList.add('in');
          io.unobserve(e.target);
        }
      }
    }, { threshold: .25, rootMargin: "0px 0px -8% 0px" });
    cards.forEach(c => io.observe(c));
  }
})();
</script>



<!-- ===============================
     OC CORES — DROP-IN SECTION
     Paste anywhere inside <body>. Tailwind + Phosphor already on page.
     =============================== -->
<section id="oc-cores" class="section-clip relative mx-auto max-w-[1200px] oc-container reveal">
  <!-- Soft background glows (subtle, Apple-y) -->
  <div aria-hidden="true" class="pointer-events-none absolute inset-0 -z-10">
    <div class="absolute left-1/2 top-[-5rem] h-[22rem] w-[42rem] -translate-x-1/2 rounded-full blur-3xl"
         style="background: radial-gradient(60% 60% at 50% 40%, rgba(160,228,212,.20), rgba(160,228,212,0) 70%);"></div>
    <div class="absolute right-[-8%] bottom-[-12%] h-[18rem] w-[18rem] rounded-full blur-3xl"
         style="background: radial-gradient(55% 55% at 50% 50%, rgba(0,207,255,.14), rgba(0,207,255,0) 70%);"></div>
  </div>

  <!-- Header -->
  <div class="w-full py-20 md:py-28 text-center">
    <div class="mx-auto w-fit rounded-full border border-black/10 bg-white/70 px-3 py-1 text-[11px] font-medium uppercase tracking-wide text-neutral-700">OC Cores</div>
    <h2 class="mt-4 text-3xl md:text-5xl lg:text-6xl font-semibold tracking-tight text-oc-ink">
      The Core system—simple, fast, private.
    </h2>
    <p class="mx-auto mt-3 max-w-[820px] text-[15px] md:text-[16px] leading-7 text-neutral-600">
      Each Core is a focused, on-device capability—designed to do one job exceptionally well.
      Start with the three pillars below. More Cores ship continuously, and you’ll have a dedicated space to explore them all.
    </p>

    <div class="mx-auto mt-8 h-px w-24 bg-gradient-to-r from-transparent via-neutral-300 to-transparent"></div>
  </div>

  <!-- Cards -->
  <div class="grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-5">
    <!-- Card: OC-Core -->
    <article class="oc-core-card group relative rounded-2xl border border-neutral-200 bg-white/80 p-6 md:p-7 shadow-soft hover:shadow-[0_14px_40px_rgba(10,13,16,.10)] transition-all duration-300 ease-out tilt overflow-hidden">
      <div class="pointer-events-none absolute -top-16 -right-16 h-40 w-40 rounded-full blur-3xl opacity-70"
           style="background: radial-gradient(60% 60% at 50% 40%, rgba(0,207,255,.18), rgba(0,0,0,0) 70%);"></div>
      <div class="flex items-center gap-3">
        <div class="h-10 w-10 rounded-xl bg-neutral-900 text-white flex items-center justify-center shadow-md">
          <i class="ph ph-cpu text-[20px]"></i>
        </div>
        <h3 class="text-lg font-semibold tracking-tight text-neutral-900">OC-Core</h3>
      </div>
      <p class="mt-3 text-[15px] leading-6 text-neutral-600">
        Your everyday engine. Draft, summarize, structure, and decide—without sending your data to the cloud.
      </p>

      <!-- Apple-like micro spec row -->
      <ul class="mt-5 flex flex-wrap gap-2 text-xs text-neutral-600">
        <li class="chip">On-device</li>
        <li class="chip">Citations</li>
        <li class="chip">PDF/DOCX export</li>
      </ul>

      <div class="mt-6">
        <a href="download.html" class="inline-flex items-center gap-2 rounded-xl border border-neutral-300 bg-white px-4 py-2 text-sm font-medium text-neutral-900 hover:bg-neutral-50 focus:ring-2 focus:ring-neutral-300">
          <i class="ph ph-rocket-launch"></i> Launch
        </a>
      </div>
    </article>

    <!-- Card: OC-Research-Core -->
    <article class="oc-core-card group relative rounded-2xl border border-neutral-200 bg-white/80 p-6 md:p-7 shadow-soft hover:shadow-[0_14px_40px_rgba(10,13,16,.10)] transition-all duration-300 ease-out tilt overflow-hidden">
      <div class="pointer-events-none absolute -top-16 -right-16 h-40 w-40 rounded-full blur-3xl opacity-70"
           style="background: radial-gradient(60% 60% at 50% 40%, rgba(14,111,92,.18), rgba(0,0,0,0) 70%);"></div>
      <div class="flex items-center gap-3">
        <div class="h-10 w-10 rounded-xl bg-neutral-900 text-white flex items-center justify-center shadow-md">
          <i class="ph ph-magnifying-glass text-[20px]"></i>
        </div>
        <h3 class="text-lg font-semibold tracking-tight text-neutral-900">OC-Research-Core</h3>
      </div>
      <p class="mt-3 text-[15px] leading-6 text-neutral-600">
        Trust, then verify. Rapid literature scans with linked sources, notes, and exports you can cite.
      </p>

      <ul class="mt-5 flex flex-wrap gap-2 text-xs text-neutral-600">
        <li class="chip">RAG</li>
        <li class="chip">Source links</li>
        <li class="chip">Snapshot exports</li>
      </ul>

      <div class="mt-6">
        <a href="download.html" class="inline-flex items-center gap-2 rounded-xl border border-neutral-300 bg-white px-4 py-2 text-sm font-medium text-neutral-900 hover:bg-neutral-50 focus:ring-2 focus:ring-neutral-300">
          <i class="ph ph-books"></i> Research
        </a>
      </div>
    </article>

    <!-- Card: OC-Coach-Core -->
    <article class="oc-core-card group relative rounded-2xl border border-neutral-200 bg-white/80 p-6 md:p-7 shadow-soft hover:shadow-[0_14px_40px_rgba(10,13,16,.10)] transition-all duration-300 ease-out tilt overflow-hidden">
      <div class="pointer-events-none absolute -top-16 -right-16 h-40 w-40 rounded-full blur-3xl opacity-70"
           style="background: radial-gradient(60% 60% at 50% 40%, rgba(231,231,255,.30), rgba(0,0,0,0) 70%);"></div>
      <div class="flex items-center gap-3">
        <div class="h-10 w-10 rounded-xl bg-neutral-900 text-white flex items-center justify-center shadow-md">
          <i class="ph ph-target text-[20px]"></i>
        </div>
        <h3 class="text-lg font-semibold tracking-tight text-neutral-900">OC-Coach-Core</h3>
      </div>
      <p class="mt-3 text-[15px] leading-6 text-neutral-600">
        Structured prompts and feedback loops for learning, fitness, and execution—objective, practical, yours.
      </p>

      <ul class="mt-5 flex flex-wrap gap-2 text-xs text-neutral-600">
        <li class="chip">Routines</li>
        <li class="chip">Check-ins</li>
        <li class="chip">Progress exports</li>
      </ul>

      <div class="mt-6">
        <a href="download.html" class="inline-flex items-center gap-2 rounded-xl border border-neutral-300 bg-white px-4 py-2 text-sm font-medium text-neutral-900 hover:bg-neutral-50 focus:ring-2 focus:ring-neutral-300">
          <i class="ph ph-compass"></i> Coach
        </a>
      </div>
    </article>
  </div>

  <!-- Roadmap + Explore -->
  <div class="mt-10 md:mt-12 flex flex-col items-center gap-4 text-center">
    <p class="text-[14px] leading-6 text-neutral-600 max-w-[760px]">
      New Cores arrive regularly for focused tasks—writing, law, stats, design, trading, and more.
      Each Core updates in place, so your toolkit gets better over time.
    </p>
    <div class="flex flex-wrap items-center justify-center gap-3">
      <button id="openCoresLibrary"
              class="inline-flex items-center gap-2 rounded-2xl px-5 py-3 text-sm font-semibold text-white
                     shadow-xl shadow-black/15 hover:shadow-2xl hover:shadow-black/25 transition-all duration-300 ease-out
                     g-grad grad-anim focus:outline-none focus-visible:ring-4 focus-visible:ring-white/60"
              style="--from:#0B1B2Bcc; --via:#0E6F5Ccc; --to:#00CFFFcc; --speed:16s; --angle:135deg;">
        <i class="ph ph-grid-four text-base"></i> Explore all Cores
      </button>
      <a href="download.html"
         class="inline-flex items-center gap-2 rounded-2xl border border-neutral-300 bg-white px-5 py-3 text-sm font-medium text-neutral-900 hover:bg-neutral-50 focus:ring-2 focus:ring-neutral-300">
        <i class="ph ph-download-simple"></i> Get OC
      </a>
    </div>
  </div>
</section>

<!-- ===============================
     CORES LIBRARY MODAL (roomy, not squished)
     =============================== -->
<div id="coresModal"
     class="fixed inset-0 z-[70] hidden"
     role="dialog" aria-modal="true" aria-labelledby="coresModalTitle">
  <!-- Scrim -->
  <div class="cores-scrim absolute inset-0 bg-black/20 backdrop-blur-sm opacity-0 transition-opacity duration-300"></div>

  <!-- Panel -->
  <div class="cores-panel absolute left-1/2 top-1/2 w-[min(92vw,1080px)] max-h-[min(82vh,760px)] -translate-x-1/2 -translate-y-1/2
              rounded-3xl border border-black/10 bg-white/92 shadow-[0_24px_70px_rgba(10,13,16,.18)] backdrop-blur
              opacity-0 scale-[.98] transition-all duration-300 ease-out overflow-hidden">
    <!-- Top chrome -->
    <div class="flex items-center justify-between px-5 md:px-7 pt-5">
      <div class="flex items-center gap-3">
        <span class="h-9 w-9 rounded-2xl bg-neutral-900 text-white flex items-center justify-center shadow"><i class="ph ph-grid-four"></i></span>
        <h3 id="coresModalTitle" class="text-lg md:text-xl font-semibold tracking-tight text-neutral-900">Cores Library</h3>
      </div>
      <button id="closeCoresLibrary" class="drawer-close rounded-xl border border-black/10 bg-white/80 w-10 h-10 flex items-center justify-center hover:bg-white focus:ring-2 focus:ring-black/10" aria-label="Close">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M6 6l12 12M18 6L6 18" stroke="#0A0D10" stroke-width="2" stroke-linecap="round"/></svg>
      </button>
    </div>

    <!-- Content area (scrollable) -->
    <div class="mt-4 md:mt-5 px-5 md:px-7 pb-6 overflow-y-auto"
         style="max-height: calc(min(82vh,760px) - 64px);">
      <!-- Search / filters -->
      <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
        <div class="col-span-2">
          <label class="sr-only" for="coresSearch">Search cores</label>
          <div class="flex items-center gap-2 rounded-xl border border-neutral-200 bg-white px-3 py-2">
            <i class="ph ph-magnifying-glass text-neutral-500"></i>
            <input id="coresSearch" type="search" placeholder="Search cores"
                   class="w-full bg-transparent outline-none text-[15px] placeholder:text-neutral-400" />
          </div>
        </div>
        <div class="flex items-center gap-2">
          <button data-filter="all" class="core-filter chip !px-3 !py-2">All</button>
          <button data-filter="now" class="core-filter chip !px-3 !py-2">Available</button>
          <button data-filter="soon" class="core-filter chip !px-3 !py-2">Coming Soon</button>
        </div>
      </div>

      <!-- Library grid -->
      <ul id="coresGrid"
          class="mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-5">
        <!-- Items injected by script (see data below) -->
      </ul>

      <!-- Footer note -->
      <div class="mt-6 text-center text-[12px] text-neutral-500">
        New Cores are released and updated frequently. Your library updates in place.
      </div>
    </div>
  </div>
</div>

<!-- ===============================
     LOCAL STYLES (scoped-ish to #oc-cores & modal)
     =============================== -->
<style>
  /* Prevent any squish in modal content */
  #coresModal .cores-panel { will-change: transform, opacity; }
  #coresModal .cores-scrim { will-change: opacity; }

  /* Progressive reveal for cards */
  @media (prefers-reduced-motion: no-preference) {
    #oc-cores .oc-core-card { opacity: 0; transform: translateY(14px) scale(.985); }
    #oc-cores .oc-core-card.in { opacity: 1; transform: translateY(0) scale(1); transition: opacity .6s ease, transform .6s ease; }
    #oc-cores .tilt { transition: transform .25s ease; }
    #oc-cores .tilt:hover { transform: translateY(-2px) scale(1.01); }
  }

  /* Utility: chip already defined globally; ensure small variant inside modal */
  #coresModal .chip { font-size: 11px; padding: 5px 9px; }
</style>

<!-- ===============================
     SCRIPT: Modal + Focus trap + Grid populate + Search/Filter
     =============================== -->
<script>
(() => {
  // ---------- Data ----------
  const CORE_DATA = [
    {
      id: 'oc-core',
      title: 'OC-Core',
      status: 'now',
      icon: 'ph-cpu',
      desc: 'Your everyday engine for drafting, structuring, and decisions — fully local.',
      tags: ['On-device','Citations','PDF/DOCX'],
      link: 'download.html'
    },
    {
      id: 'oc-research-core',
      title: 'OC-Research-Core',
      status: 'now',
      icon: 'ph-magnifying-glass',
      desc: 'Rapid literature scans with linked sources, notes, and exports you can cite.',
      tags: ['RAG','Sources','Snapshots'],
      link: 'download.html'
    },
    {
      id: 'oc-coach-core',
      title: 'OC-Coach-Core',
      status: 'now',
      icon: 'ph-target',
      desc: 'Structured routines and feedback loops for learning, fitness, and execution.',
      tags: ['Routines','Check-ins','Progress'],
      link: 'download.html'
    },
    // Coming soon examples — feel free to adjust names later
    {
      id: 'oc-law-core',
      title: 'OC-Law-Core',
      status: 'soon',
      icon: 'ph-scales',
      desc: 'Case extraction, argument scaffolds, and citation drafting.',
      tags: ['Templates','Citations'],
      link: '#'
    },
    {
      id: 'oc-stats-core',
      title: 'OC-Stats-Core',
      status: 'soon',
      icon: 'ph-chart-line',
      desc: 'Hypothesis tests, power, and visualizations — no spreadsheets required.',
      tags: ['A/B','Power','Plots'],
      link: '#'
    },
    {
      id: 'oc-design-core',
      title: 'OC-Design-Core',
      status: 'soon',
      icon: 'ph-paint-brush-broad',
      desc: 'Briefs, palettes, and component specs for production UI.',
      tags: ['Specs','Assets'],
      link: '#'
    }
  ];

  // ---------- Elements ----------
  const section = document.getElementById('oc-cores');
  const cards   = section ? Array.from(section.querySelectorAll('.oc-core-card')) : [];
  const openBtn = document.getElementById('openCoresLibrary');
  const modal   = document.getElementById('coresModal');
  const scrim   = modal?.querySelector('.cores-scrim');
  const panel   = modal?.querySelector('.cores-panel');
  const closeBtn= document.getElementById('closeCoresLibrary');
  const grid    = document.getElementById('coresGrid');
  const search  = document.getElementById('coresSearch');
  const filters = modal ? Array.from(modal.querySelectorAll('.core-filter')) : [];

  // ---------- Helpers ----------
  const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

  function lockScroll(lock) { document.documentElement.classList.toggle('overflow-hidden', lock); document.body.classList.toggle('overflow-hidden', lock); }

  function animateInModal() {
    if (!modal) return;
    modal.style.display = 'block';
    void modal.offsetWidth; // force reflow
    scrim.classList.remove('opacity-0');
    panel.classList.remove('opacity-0','scale-[.98]');
  }
  function animateOutModal(cb) {
    if (!modal) return;
    scrim.classList.add('opacity-0');
    panel.classList.add('opacity-0','scale-[.98]');
    const done = () => { modal.style.display = 'none'; cb && cb(); };
    if (prefersReduced) { done(); return; }
    setTimeout(done, 260);
  }

  // Basic focus trap
  let lastFocus = null;
  function trapFocus(e){
    if (!modal || modal.classList.contains('hidden')) return;
    const FOCUSABLE = modal.querySelectorAll('a, button, input, textarea, select, [tabindex]:not([tabindex="-1"])');
    const list = Array.from(FOCUSABLE).filter(el => !el.hasAttribute('disabled') && el.offsetParent !== null);
    if (!list.length) return;
    const first = list[0], last = list[list.length - 1];

    if (e.key === 'Tab') {
      if (e.shiftKey && document.activeElement === first) { e.preventDefault(); last.focus(); }
      else if (!e.shiftKey && document.activeElement === last) { e.preventDefault(); first.focus(); }
    } else if (e.key === 'Escape') {
      closeModal();
    }
  }

  function openModal(){
    if (!modal) return;
    lastFocus = document.activeElement;
    modal.classList.remove('hidden');
    animateInModal();
    lockScroll(true);
    document.addEventListener('keydown', trapFocus);
    // focus first interactive
    setTimeout(() => (search?.focus?.()), 30);
  }

  function closeModal(){
    if (!modal) return;
    animateOutModal(() => {
      modal.classList.add('hidden');
      lockScroll(false);
      document.removeEventListener('keydown', trapFocus);
      if (lastFocus && lastFocus.focus) lastFocus.focus();
    });
  }

  // Populate grid
  function renderGrid(term = '', mode = 'all'){
    if (!grid) return;
    const q = (term || '').trim().toLowerCase();
    const items = CORE_DATA.filter(c => {
      const matchesQ = !q || c.title.toLowerCase().includes(q) || c.desc.toLowerCase().includes(q) || c.tags.join(' ').toLowerCase().includes(q);
      const matchesF = (mode === 'all') || (mode === 'now' && c.status === 'now') || (mode === 'soon' && c.status === 'soon');
      return matchesQ && matchesF;
    });

    grid.innerHTML = items.map(c => `
      <li class="rounded-2xl border border-neutral-200 bg-white p-5 flex flex-col">
        <div class="flex items-center gap-3">
          <div class="h-9 w-9 rounded-xl bg-neutral-900 text-white flex items-center justify-center shadow"><i class="ph ${c.icon}"></i></div>
          <div class="flex items-center gap-2">
            <p class="font-semibold text-neutral-900">${c.title}</p>
            ${c.status === 'soon' ? '<span class="chip text-[11px]">Coming soon</span>' : '<span class="chip text-[11px]">Available</span>'}
          </div>
        </div>
        <p class="mt-2 text-[14px] leading-6 text-neutral-600">${c.desc}</p>
        <div class="mt-3 flex flex-wrap gap-2 text-xs text-neutral-600">
          ${c.tags.map(t => `<span class="chip">${t}</span>`).join('')}
        </div>
        <div class="mt-5">
          <a href="${c.link}" class="inline-flex items-center gap-2 rounded-xl border border-neutral-300 bg-white px-3 py-2 text-sm font-medium text-neutral-900 hover:bg-neutral-50 focus:ring-2 focus:ring-neutral-300 ${c.status==='soon' ? 'pointer-events-none opacity-50' : ''}">
            <i class="ph ph-arrow-right"></i> ${c.status==='soon' ? 'Soon' : 'Open'}
          </a>
        </div>
      </li>
    `).join('');
  }

  // Filters
  let currentFilter = 'all';
  function setFilter(mode){
    currentFilter = mode;
    filters.forEach(b => b.classList.toggle('bg-neutral-900', b.dataset.filter === mode));
    filters.forEach(b => b.classList.toggle('text-white', b.dataset.filter === mode));
    filters.forEach(b => b.classList.toggle('border', b.dataset.filter === mode));
    renderGrid(search?.value || '', currentFilter);
  }

  // Wire up
  openBtn?.addEventListener('click', openModal);
  closeBtn?.addEventListener('click', closeModal);
  scrim?.addEventListener('click', (e) => { if (e.target === scrim) closeModal(); });

  search?.addEventListener('input', () => renderGrid(search.value, currentFilter));
  filters.forEach(btn => btn.addEventListener('click', () => setFilter(btn.dataset.filter)));

  // Initial render
  renderGrid();

  // ---------- Card reveal on view ----------
  if (cards.length) {
    const io = new IntersectionObserver((entries) => {
      for (const e of entries) {
        if (e.isIntersecting) {
          e.target.classList.add('in');
          io.unobserve(e.target);
        }
      }
    }, { threshold: .25, rootMargin: "0px 0px -8% 0px" });
    cards.forEach(c => io.observe(c));
  }
})();
</script>


































  <!-- Built. For. Real. Work. -->
<section id="sly" class="section-clip relative mx-auto max-w-[1200px] oc-container reveal">
  <!-- Soft background glows (subtle, Apple-y) -->
  <div aria-hidden="true" class="pointer-events-none absolute inset-0 -z-10">
    <div class="absolute left-1/2 top-[-6rem] h-[22rem] w-[42rem] -translate-x-1/2 rounded-full blur-3xl"
         style="background: radial-gradient(60% 60% at 50% 40%, rgba(160,228,212,.22), rgba(160,228,212,0) 70%);"></div>
    <div class="absolute right-[-8%] bottom-[-12%] h-[18rem] w-[18rem] rounded-full blur-3xl"
         style="background: radial-gradient(55% 55% at 50% 50%, rgba(0,207,255,.14), rgba(0,207,255,0) 70%);"></div>
  </div>

  <div class="w-full py-24 md:py-32">
    <div class="mx-auto max-w-[900px] text-center">
      <h2
        class="sly-title text-oc-ink text-4xl md:text-6xl lg:text-7xl font-semibold tracking-tight"
      >
        <span class="inline-block">Built.</span>
        <span class="inline-block opacity-90">For.</span>
        <span class="inline-block opacity-90">Real.</span>
        <span class="inline-block opacity-90">Work.</span>
      </h2>

      <div class="mx-auto mt-6 h-px w-24 bg-gradient-to-r from-transparent via-neutral-300 to-transparent"></div>

      <p
        class="sly-sub mt-6 text-[11px] md:text-xs uppercase tracking-[0.32em] grad-text grad-move-left"
        style="--from:#0B1B2Bcc; --via:#0E6F5Ccc; --to:#00CFFFcc; --speed:16s; --angle:90deg;"
      >
        Without Limits
      </p>
    </div>
  </div>
</section>

<!-- ===== LIVE CHAT DEMO — FIXED "VIDEO-LIKE" STAGE ===== -->
<section id="chat-demo" class="section-clip mx-auto max-w-[1200px] oc-container reveal mb-0 md:mb-0">
  <!-- Soft glows behind the device frame -->
  <div aria-hidden="true" class="pointer-events-none absolute inset-0 -z-10">
    <div class="absolute left-1/2 top-[-3rem] h-56 w-[36rem] -translate-x-1/2 rounded-full blur-3xl"
         style="background: radial-gradient(60% 60% at 50% 40%, rgba(231,231,255,.24), rgba(231,231,255,0) 70%);"></div>
  </div>

  <div class="w-full flex items-center justify-center">
    <!-- Device-like frame (minimal, Apple-y) -->
    <div class="relative w-full max-w-[980px] rounded-[22px] border border-black/10 bg-white/70 shadow-[0_20px_60px_rgba(10,13,16,0.08)] backdrop-blur">
      <!-- Minimal window chrome -->
      <div class="flex items-center gap-2 px-4 pt-3 pb-2">
        <span class="h-2.5 w-2.5 rounded-full bg-[#ff5f57] border border-black/10"></span>
        <span class="h-2.5 w-2.5 rounded-full bg-[#ffbd2e] border border-black/10"></span>
        <span class="h-2.5 w-2.5 rounded-full bg-[#28c840] border border-black/10"></span>
      </div>

      <!-- Stage wrapper with comfy padding -->
      <div class="px-4 pb-4 md:px-6 md:pb-6">
        <div id="demoStage"
             class="demo-stage rounded-2xl !border !border-neutral-200 !bg-white shadow-[0_10px_30px_rgba(10,13,16,0.06)]">
          <!-- Scenes are injected here absolutely, one pair at a time -->
        </div>
      </div>
    </div>
  </div>

  <!-- bubble templates (unchanged, required by existing JS) -->
  <template id="demoTplUser">
    <div class="msg-row msg-user">
      <div class="bubble bubble-user font-semibold"></div>
    </div>
  </template>
  <template id="demoTplBot">
    <div class="msg-row msg-assistant">
      <div class="bubble bubble-bot">
        <div class="ai-think think-stream">Thinking</div>
        <div class="ai-final hidden"></div>
      </div>
    </div>
  </template>
</section>
<!-- ===== END DEMO SECTION ===== -->





  <!-- Expertise -->
<section id="sly-2"
  class="section-clip relative mx-auto max-w-[1200px] oc-container reveal"
  style="background-color:#fff;">
  <!-- Solid white base behind any glows -->
  <div class="absolute inset-0 -z-20 bg-white"></div>

  <!-- Soft background glows (neutral white, no tint) -->
  <div aria-hidden="true" class="pointer-events-none absolute inset-0 -z-10">
    <div class="absolute left-1/2 top-[-6rem] h-[22rem] w-[42rem] -translate-x-1/2 rounded-full blur-3xl"
         style="background: radial-gradient(60% 60% at 50% 40%, rgba(255,255,255,.60), rgba(255,255,255,0) 70%);"></div>
    <div class="absolute right-[-8%] bottom-[-12%] h-[18rem] w-[18rem] rounded-full blur-3xl"
         style="background: radial-gradient(55% 55% at 50% 50%, rgba(255,255,255,.50), rgba(255,255,255,0) 70%);"></div>
  </div>

  <div class="w-full py-24 md:py-32">
    <div class="mx-auto max-w-[900px] text-center">
      <h2 class="sly-title text-oc-ink text-4xl md:text-6xl lg:text-7xl font-semibold tracking-tight">
        <span class="inline-block">Uncensored</span>
        <!--<span class="inline-block opacity-90">Expertise.</span> -->
      </h2>

      <div class="mx-auto mt-6 h-px w-24 bg-gradient-to-r from-transparent via-neutral-300 to-transparent"></div>

      <p
        class="sly-sub mt-6 text-[11px] md:text-xs uppercase tracking-[0.32em] grad-text grad-move-left"
        style="--from:#0B1B2Bcc; --via:#0E6F5Ccc; --to:#00CFFFcc; --speed:16s; --angle:90deg;">
        For Outliers
      </p>
    </div>
  </div>
</section>



  <!-- FEATURES (Apple-style, single premium card) -->
<section id="features"
  class="section-clip relative isolate mx-auto max-w-[1200px] oc-container reveal px-6 md:px-8">
  <!-- Exact white page background -->
  <div class="absolute inset-0 -z-10 bg-white"></div>

  <article
    class="relative overflow-hidden rounded-[28px] border border-white/15 g-grad grad-anim backdrop-blur-xl card-glass shadow-[0_16px_54px_rgba(0,0,0,.14)]">
    <!-- Subtle frame + top sheen -->
    <div class="pointer-events-none absolute inset-0 rounded-[28px] ring-1 ring-white/10"></div>
    <div class="pointer-events-none absolute inset-x-0 top-0 h-1/3 bg-gradient-to-b from-white/10 to-transparent"></div>

    <!-- Header -->
    <header class="px-8 md:px-12 pt-10 md:pt-12 text-center">
      <div class="mx-auto w-fit rounded-full border border-white/20 bg-white/10 px-3 py-1 text-[11px] font-medium tracking-wide text-white/80">
        Features
      </div>
      <h2 class="mt-4 text-2xl md:text-3xl font-semibold tracking-tight text-white">
        The limitless workspace—on your device.
      </h2>
      <p class="mx-auto mt-2 max-w-[760px] text-[15px] leading-6 text-white/80">
        OC is private, polished, and powerful—blending local AI with verifiable research, drafting, and export.
      </p>
    </header>

    <!-- Grid -->
    <div class="mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 divide-y sm:divide-y-0 sm:divide-x divide-white/10">
      <!-- Private by Design -->
      <div class="p-8 md:p-10">
        <div class="flex items-start gap-4">
          <div class="h-11 w-11 shrink-0 rounded-2xl bg-white/12 ring-1 ring-white/25 flex items-center justify-center">
            <i class="ph ph-lock text-white text-[20px]"></i>
          </div>
          <div>
            <h3 class="font-semibold text-white tracking-tight">Private by Design</h3>
            <p class="mt-2 text-sm leading-relaxed text-white/80">
              On-device models and search. No cloud send. Your work never leaves your hands.
            </p>
          </div>
        </div>
      </div>

      <!-- Built for Research -->
      <div class="p-8 md:p-10">
        <div class="flex items-start gap-4">
          <div class="h-11 w-11 shrink-0 rounded-2xl bg-white/12 ring-1 ring-white/25 flex items-center justify-center">
            <i class="ph-light ph-magnifying-glass text-white text-[20px]"></i>
          </div>
          <div>
            <h3 class="font-semibold text-white tracking-tight">Built for Research</h3>
            <p class="mt-2 text-sm leading-relaxed text-white/80">
              Ask in plain language. Get linked case law, statutes, and summaries you can trust.
            </p>
          </div>
        </div>
      </div>

      <!-- Robust Knowledge Base -->
      <div class="p-8 md:p-10">
        <div class="flex items-start gap-4">
          <div class="h-11 w-11 shrink-0 rounded-2xl bg-white/12 ring-1 ring-white/25 flex items-center justify-center">
            <i class="ph ph-brain text-white text-[20px]"></i>
          </div>
          <div>
            <h3 class="font-semibold text-white tracking-tight">Robust Knowledge</h3>
            <p class="mt-2 text-sm leading-relaxed text-white/80">
              Curated sources and guardrails minimize hallucinations and surface what matters.
            </p>
          </div>
        </div>
      </div>

      <!-- Verifiable Outputs -->
      <div class="p-8 md:p-10">
        <div class="flex items-start gap-4">
          <div class="h-11 w-11 shrink-0 rounded-2xl bg-white/12 ring-1 ring-white/25 flex items-center justify-center">
            <i class="ph ph-shield-check text-white text-[20px]"></i>
          </div>
          <div>
            <h3 class="font-semibold text-white tracking-tight">Verifiable Outputs</h3>
            <p class="mt-2 text-sm leading-relaxed text-white/80">
              Every answer cites its sources. Tap to inspect methods, links, and quotes.
            </p>
          </div>
        </div>
      </div>

      <!-- Custom Databases -->
      <div class="p-8 md:p-10">
        <div class="flex items-start gap-4">
          <div class="h-11 w-11 shrink-0 rounded-2xl bg-white/12 ring-1 ring-white/25 flex items-center justify-center">
            <i class="ph ph-plug-charging text-white text-[20px]"></i>
          </div>
          <div>
            <h3 class="font-semibold text-white tracking-tight">Custom Databases</h3>
            <p class="mt-2 text-sm leading-relaxed text-white/80">
              Bring your own casebooks, contracts, PDFs—securely indexed for instant recall.
            </p>
          </div>
        </div>
      </div>

      <!-- Your Local Library -->
      <div class="p-8 md:p-10">
        <div class="flex items-start gap-4">
          <div class="h-11 w-11 shrink-0 rounded-2xl bg-white/12 ring-1 ring-white/25 flex items-center justify-center">
            <i class="ph ph-database text-white text-[20px]"></i>
          </div>
          <div>
            <h3 class="font-semibold text-white tracking-tight">Your Local Library</h3>
            <p class="mt-2 text-sm leading-relaxed text-white/80">
              Drag-and-drop files. Semantic search across everything—fast and offline.
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- Feature chips -->
    <div class="px-8 md:px-12 pb-8 md:pb-12 pt-4 border-t border-white/10">
      <ul class="flex flex-wrap justify-center gap-2">
        <li class="rounded-full border border-white/20 bg-white/10 px-3 py-1 text-xs text-white/85">Offline</li>
        <li class="rounded-full border border-white/20 bg-white/10 px-3 py-1 text-xs text-white/85">Semantic Search</li>
        <li class="rounded-full border border-white/20 bg-white/10 px-3 py-1 text-xs text-white/85">RAG</li>
        <li class="rounded-full border border-white/20 bg-white/10 px-3 py-1 text-xs text-white/85">Citations</li>
        <li class="rounded-full border border-white/20 bg-white/10 px-3 py-1 text-xs text-white/85">Drafting</li>
        <li class="rounded-full border border-white/20 bg-white/10 px-3 py-1 text-xs text-white/85">PDF / DOCX Export</li>
        <li class="rounded-full border border-white/20 bg-white/10 px-3 py-1 text-xs text-white/85">Notepad & Prompt Faves</li>
        <li class="rounded-full border border-white/20 bg-white/10 px-3 py-1 text-xs text-white/85">Local Databases</li>

      </ul>
    </div>
  </article>
</section>

<!-- Brand strip — Apple-style, drop-in anywhere -->
<section class="oc-brand-strip mx-auto max-w-[1200px] px-6 py-10 mt-12 mb-12">
  <!-- Microcopy -->
  <p class="mb-6 text-center text-[11px] leading-none tracking-[.24em] uppercase
             text-neutral-600 dark:text-white/60">
    Built on the platforms you trust
  </p>

  <!-- Logos row -->
  <ul class="grid grid-cols-3 items-center justify-items-center gap-10 md:gap-12"
      aria-label="Technology foundations">
    <li>
      <img data-oc-brand="google" alt="Google"
           class="h-10 md:h-12 lg:h-14 w-auto object-contain
                  opacity-0 transition-opacity duration-500
                  filter grayscale contrast-125 brightness-95
                  hover:grayscale-0 hover:brightness-100"
      />
    </li>
    <li>
      <img data-oc-brand="openai" alt="OpenAI"
           class="h-10 md:h-12 lg:h-14 w-auto object-contain
                  opacity-0 transition-opacity duration-500
                  filter grayscale contrast-125 brightness-95
                  hover:grayscale-0 hover:brightness-100"
      />
    </li>
    <li>
      <img data-oc-brand="meta" alt="Meta"
           class="h-10 md:h-12 lg:h-14 w-auto object-contain
                  opacity-0 transition-opacity duration-500
                  filter grayscale contrast-125 brightness-95
                  hover:grayscale-0 hover:brightness-100"
      />
    </li>
  </ul>
</section>

<!-- Optional tiny loader (auto-wires [data-oc-brand] if no src is set) -->
<script>
(() => {
  const srcMap = {
    google: '/assets/brands/google.svg',
    openai: '/assets/brands/openai.svg',
    meta: '/assets/brands/meta.svg'
  };

  document.querySelectorAll('img[data-oc-brand]').forEach(img => {
    const key = (img.getAttribute('data-oc-brand') || '').toLowerCase();
    const ensureFadeIn = () => requestAnimationFrame(() => img.style.opacity = '0.9');

    // Set src if missing
    if (!img.getAttribute('src') && srcMap[key]) img.src = srcMap[key];

    // Fade in once loaded
    if (img.complete) ensureFadeIn();
    else img.addEventListener('load', ensureFadeIn, { once: true });
  });
})();
</script>

<!-- Centered animated logo 
  <div class="mx-auto my-0 md:my-0 flex items-center justify-center">
    <span class="logo-anim LargeAniLogo" aria-label="OC" style="--logo-size: clamp(56px, 30vw, 500px);"></span>
  </div> -->

  <!-- DOWNLOAD CTA (kept on home but header points to dedicated page) -->
  <section id="download" class="section-clip mx-auto max-w-[1200px] oc-container mt-12 reveal">
    <div class="scroll-fade g-grad grad-anim rounded-3xl overflow-hidden border border-oc-line">
      <div class="p-8 md:p-12 flex flex-col gap-6 md:flex-row md:items-center md:justify-between">
        <div>
          <h2 class="text-2xl md:text-3xl font-semibold text-white">Get OC</h2>
          <p class="mt-2 text-white/80 max-w-xl">The limitless workspace for outliers.</p>
        </div>
        <div class="flex flex-wrap items-center gap-3">
          <a href="download.html" class="btn inline-flex items-center gap-2 rounded-xl bg-white text-oc-ink px-4 py-2 font-medium hover:bg-gray-100 focus:ring-2 focus:ring-white/50"><i class="ph ph-apple-logo"></i> Download for macOS</a>
          <a href="download.html" class="btn inline-flex items-center gap-2 rounded-xl border border-white/30 bg-white/10 text-white px-4 py-2 font-medium hover:bg-white/20 focus:ring-2 focus:ring-white/40"><i class="ph ph-windows-logo"></i> Download for Windows</a>
          <a href="download.html" class="btn inline-flex items-center gap-2 rounded-xl border border-white/30 bg-white/10 text-white px-4 py-2 font-medium hover:bg-white/20 focus:ring-2 focus:ring-white/40"><i class="ph ph-linux-logo"></i> Linux (AppImage)</a>
        </div>
      </div>
    </div>
  </section>

  

  <!-- FOOTER -->
  <footer>
    <div class="mx-auto max-w-[1200px] oc-container py-12 flex items-center flex-col gap-6 text-oc-ink/60 text-sm">
      <div class="text-center">
        <span class="font-semibold text-black">OC</span> © <span id="yr"></span> OC
      </div>
      <div class="flex items-center gap-4">
        <a class="hover:text-oc-ink" href="#">Privacy</a>
        <a class="hover:text-oc-ink" href="#">Terms</a>
        <a class="hover:text-oc-ink" href="download.html">Download</a>
      </div>
    </div>
  </footer>

  <script>
    // ================================
    // GLOBAL DEMO SETTINGS
    // ================================
    window.OC_DEMO_STREAM_SPEED = (typeof window.OC_DEMO_STREAM_SPEED === 'number' && window.OC_DEMO_STREAM_SPEED > 0)
      ? window.OC_DEMO_STREAM_SPEED : 1.0;

    window.OC_DEMO_DWELL_MS = (typeof window.OC_DEMO_DWELL_MS === 'number' && window.OC_DEMO_DWELL_MS >= 0)
      ? window.OC_DEMO_DWELL_MS : 2000;

    window.OC_DEMO_SOUND = Object.assign({
      enabled: true,
      url: 'bass-drop.mp3',
      volume: 0.9
    }, window.OC_DEMO_SOUND || {});

    // ================================
    // BRAND LOGO PATHS (global, easy to swap)
    // ================================
    window.OC_BRANDS = Object.assign({
      openai: 'OAILogo.png',
      google: 'googleLogo.svg',
      meta:   'metaLogo.svg'
    }, window.OC_BRANDS || {});

    // ================================
    // HERO TYPE-IN GLOBALS
    // ================================
    window.OC_HERO = Object.assign({
      enabled: true,
      startOnView: true,
      waitForBlur: true,
      startDelayMs: 200,
      staggerMs: 50,
      streamSpeed: 1.0,
      titleCharMin: 60,
      titleCharMax: 60,
      // Title delete timing (for reverse-typing out the brand before logo swap)
      titleDeleteMin: 20,
      titleDeleteMax: 30,
      titleDwellMs: 500,
      // Slower for "Your Counsel.", normal for "For "
      line1CharMin: 44,
      line1CharMax: 50,
      line2CharMin: 18,
      line2CharMax: 22,
      // Fallbacks for other sections using generic line speeds
      lineCharMin: 18,
      lineCharMax: 22,
      buttonCharMin: 5,
      buttonCharMax: 10
    }, window.OC_HERO || {});

    // ================================
    // HERO LOGO GLOW (global toggle)
    // ================================
    window.OC_HERO_GLOW = Object.assign({
      enabled: true,           // set to false to disable globally
      pulse: true,             // enable subtle breathing pulse
      pulseDur: '6s',          // pulse duration
      color1: 'rgba(0,207,255,.40)', // primary glow
      color2: 'rgba(14,111,92,.28)', // secondary glow
      opacity: 0.55,           // target opacity after reveal
      blurPx: 30,              // blur radius in px
      insetPct: 16             // how far glow extends beyond logo (% of size)
    }, window.OC_HERO_GLOW || {});

    // ================================
    // NEW: HERO ROTATING WORD CONFIG (easy knobs + caret controls + mobile split)
    // ================================
    window.OC_HERO_ROTATOR = Object.assign({
      /* Desktop single-line prefix */
      prefix: 'Your AI. For ',

      /* Mobile split behavior */
      mobileSplit: true,          // ← set to false to keep single line on mobile
      mobileBreakpoint: 768,      // ← Tailwind md breakpoint

      /* Mobile line texts (used only when mobileSplit === true) */
      prefixLine1: 'Your AI.',  // static top line on mobile
      prefixLine2: 'For ',           // second-line static prefix before rotating word

      /*words: [
        'everything.',
        'entrepreneurs.',
        'students.',
        'inventors.',
        'lawyers.',
        'designers.',
        'business owners.'
      ],*/

      words: [
  'everything.',
  'entrepreneurs.',
  'research.',
  'students.',
  'product R&D.',
  'business.',
  'law.',
  'inventors.',
  'designers.',
  'commerce.',
  'education.',
  'entrepreneurs.',
  'innovation.'
],


      dwellMs: 2000,          // wait after a word is fully typed
      typeMin: 50,            // typing speed range (ms/char)
      typeMax: 70,
      deleteMin: 20,          // backspace speed range (ms/char)
      deleteMax: 30,

      // Caret controls (CSS variables injected on the container)
      caretBlinkMs: 800,                 // slightly faster, smoother blink
      caretWidthPx: 2,                   // border width in px
      caretColor: 'rgba(255,255,255,.92)'// caret color
    }, window.OC_HERO_ROTATOR || {});

    // ================================
    // SECTION TYPE-IN GLOBALS
    // ================================
    window.OC_SLY = Object.assign({
      enabled: true,
      startOnView: true,
      startDelayMs: 0,
      staggerMs: 0,
      streamSpeed: 1.0,
      titleCharMin: 30,
      titleCharMax: 30,
      lineCharMin: 10,
      lineCharMax: 10
    }, window.OC_SLY || {});

    window.OC_TCT = Object.assign({
      enabled: true,
      startOnView: true,
      startDelayMs: 0,
      staggerMs: 0,
      streamSpeed: 1.0,
      titleCharMin: 30,
      titleCharMax: 30,
      lineCharMin: 10,
      lineCharMax: 10
    }, window.OC_TCT || {});

    let __OC_AUDIO = null;
    function playBassDrop(){
      if (!window.OC_DEMO_SOUND?.enabled) return;
      const vol = Math.max(0, Math.min(window.OC_DEMO_SOUND.volume ?? 1, 1));
      const url = (window.OC_DEMO_SOUND.url || '').trim();
      if (url){
        if (!__OC_AUDIO){
          __OC_AUDIO = new Audio(url);
          __OC_AUDIO.preload = 'auto';
          __OC_AUDIO.crossOrigin = 'anonymous';
        }
        try {
          __OC_AUDIO.currentTime = 0;
          __OC_AUDIO.volume = vol;
          __OC_AUDIO.play().catch(()=>{});
        } catch(e){}
        return;
      }
      try{
        const Ctx = window.AudioContext || window.webkitAudioContext;
        const ctx = new Ctx();
        const o = ctx.createOscillator();
        const g = ctx.createGain();
        o.type = 'sine';
        o.frequency.setValueAtTime(100, ctx.currentTime);
        o.frequency.exponentialRampToValueAtTime(28, ctx.currentTime + 0.85);
        g.gain.setValueAtTime(0.0001, ctx.currentTime);
        g.gain.exponentialRampToValueAtTime(vol, ctx.currentTime + 0.02);
        g.gain.exponentialRampToValueAtTime(0.0001, ctx.currentTime + 1.2);
        o.connect(g).connect(ctx.destination);
        o.start();
        o.stop(ctx.currentTime + 1.25);
        if (ctx.state === 'suspended') ctx.resume().catch(()=>{});
      }catch(e){}
    }

    // Year
    const yr = document.getElementById('yr');
    if (yr) yr.textContent = new Date().getFullYear();

    // Scroll reveal (one-shot)
    const io = new IntersectionObserver((entries)=>{
      for (const e of entries) {
        if (e.isIntersecting) { e.target.classList.add('in'); io.unobserve(e.target); }
      }
    },{threshold:.12});
    document.querySelectorAll('.reveal').forEach(el=>io.observe(el));

    // ===== MOBILE SLIDE-IN MENU =====
    const hamburgerBtn = document.getElementById('hamburgerBtn');
    const mobileMenu   = document.getElementById('mobileMenu');
    const closeMenuBtn = document.getElementById('closeMenuBtn');

    function openMenu() {
      if (window.matchMedia('(min-width: 768px)').matches) return;
      mobileMenu.style.display = 'block'; void mobileMenu.offsetWidth;
      mobileMenu.classList.add('active'); hamburgerBtn.classList.add('is-active');
      hamburgerBtn.setAttribute('aria-expanded', 'true'); mobileMenu.setAttribute('aria-hidden','false');
      document.body.classList.add('overflow-hidden');
    }
    function closeMenu() {
      mobileMenu.classList.remove('active'); hamburgerBtn.classList.remove('is-active');
      hamburgerBtn.setAttribute('aria-expanded', 'false'); mobileMenu.setAttribute('aria-hidden','true');
      document.body.classList.remove('overflow-hidden');
      setTimeout(()=>{ if(!mobileMenu.classList.contains('active')) mobileMenu.style.display = 'none'; }, 550);
    }

    hamburgerBtn?.addEventListener('click', ()=> mobileMenu.classList.contains('active') ? closeMenu() : openMenu());
    closeMenuBtn?.addEventListener('click', closeMenu);
    mobileMenu?.addEventListener('click', (e)=>{ if (e.target.classList.contains('menu-scrim')) closeMenu(); });

    const mq = window.matchMedia('(min-width: 768px)');
    function handleMQ(e){ if (e.matches) closeMenu(); }
    if (mq.addEventListener) mq.addEventListener('change', handleMQ); else mq.addListener(handleMQ);

    document.addEventListener('keydown', (e)=>{ if (e.key === 'Escape') closeMenu(); });

    window.addEventListener('load', () => {
      const pageBlur = document.getElementById('pageBlur');
      if (!pageBlur) return;
      pageBlur.classList.add('hide');
      document.dispatchEvent(new Event('oc:page-blur-fade'));
      setTimeout(() => pageBlur.remove(), 1300);
    });

    // ================================
    // BLUR-ON-SCROLL OBSERVER (ONE-SHOT, PERSISTS UNTIL REFRESH)
    // ================================
    const sbo = new IntersectionObserver((entries) => {
      for (const e of entries) {
        if (e.isIntersecting) {
          e.target.classList.add('in-view');
          sbo.unobserve(e.target);
        }
      }
    }, { threshold: 0.35, rootMargin: "-12% 0px -12% 0px" });
    document.querySelectorAll('.scroll-fade').forEach(el => sbo.observe(el));

    // ===== Helpers =====
    function sp(ms){
      const f = (typeof window.OC_DEMO_STREAM_SPEED === 'number' && window.OC_DEMO_STREAM_SPEED > 0)
        ? window.OC_DEMO_STREAM_SPEED : 1.0;
      return ms * f;
    }
    function rand(a,b){ return Math.floor(Math.random()*(b-a+1))+a; }

    // Typewriter for plain text into an element
    function typewriter(el, text, min=10, max=18){
      return new Promise((resolve)=>{
        let i = 0;
        el.textContent = '';
        const tn = document.createTextNode('');
        el.appendChild(tn);
        (function tick(){
          tn.textContent = text.slice(0, i++);
          if (i <= text.length) setTimeout(tick, sp(rand(min,max)));
          else resolve();
        })();
      });
    }

    // Stream HTML with structure preserved (safe DOM walk; types text nodes char-by-char)
    async function streamHTML(el, html, charMin=10, charMax=18){
      const container = document.createElement('div');
      container.innerHTML = html.trim();

      async function walk(srcNode, dstParent){
        const children = Array.from(srcNode.childNodes);
        for (const child of children){
          if (child.nodeType === Node.TEXT_NODE){
            const text = child.textContent || '';
            await new Promise(res=>{
              let i=0;
              const tn = document.createTextNode('');
              dstParent.appendChild(tn);
              (function tick(){
                tn.textContent = text.slice(0, i++);
                if (i <= text.length) setTimeout(tick, sp(rand(charMin,charMax)));
                else res();
              })();
            });
          } else if (child.nodeType === Node.ELEMENT_NODE){
            const clone = child.cloneNode(false);
            dstParent.appendChild(clone);
            await walk(child, clone);
          }
        }
      }
      el.innerHTML = '';
      await walk(container, el);
    }

    // ================================
    // HERO: Show logo immediately, then type refined single-line tagline
    // ================================
    (function heroTyping(){
      const cfg = window.OC_HERO || {};
      if (!cfg.enabled) return;

      const hero = document.getElementById('home');
      if (!hero) return;

      const titleEl = hero.querySelector('.hero-title');
      const sub1El  = hero.querySelector('.hero-sub1');
      const ctaTxt  = hero.querySelector('.hero-cta-text');
      const ctaBtn  = hero.querySelector('#heroCtaBtn');

      if (!titleEl || !ctaTxt || !ctaBtn) return;

      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

      const bTxt  = ctaTxt.textContent || '';

      // Refined Apple-style tagline (single line)
      const TAG1_BEFORE = 'The ';
      const TAG1_BOLD   = 'AI';
      const TAG1_AFTER  = ' Workspace. Without Limits.';
      const TAGLINE_FULL = TAG1_BEFORE + TAG1_BOLD + TAG1_AFTER;
      // Mobile split lines as requested
      const MOBILE_LINE1 = 'The AI Workspace.';
      const MOBILE_LINE2 = 'Without Limits.';
      const isMobile = window.matchMedia('(max-width: 767px)').matches;

      // Prepare hero: replace title with a wrapper containing the logo (and optional glow)
      titleEl.innerHTML = '';
      const wrapSpan = document.createElement('span');
      wrapSpan.className = 'hero-logo-wrap';
      titleEl.appendChild(wrapSpan);

      // Optional glow behind the logo (Apple-like), controlled by OC_HERO_GLOW
      const glowCfg = window.OC_HERO_GLOW || {};
      if (glowCfg.enabled) {
        const glow = document.createElement('span');
        glow.className = 'hero-logo-glow' + (glowCfg.pulse ? ' glow-pulse' : '');
        glow.style.setProperty('--glow-c1', String(glowCfg.color1 || 'rgba(0,207,255,.40)'));
        glow.style.setProperty('--glow-c2', String(glowCfg.color2 || 'rgba(14,111,92,.28)'));
        glow.style.setProperty('--glow-opacity', String(glowCfg.opacity ?? 0.55));
        glow.style.setProperty('--glow-blur', ((glowCfg.blurPx ?? 30)|0) + 'px');
        glow.style.setProperty('--glow-pulse-dur', String(glowCfg.pulseDur || '6s'));
        const inset = Math.max(0, Math.min(40, (glowCfg.insetPct ?? 16))) + '%';
        glow.style.inset = `-${inset}`;
        wrapSpan.appendChild(glow);
      }

      const logoSpanNow = document.createElement('span');
      logoSpanNow.className = 'hero-logo-white';
      logoSpanNow.setAttribute('role','img');
      logoSpanNow.setAttribute('aria-label','OC');
      wrapSpan.appendChild(logoSpanNow);

      if (prefersReduced) {
        // Reduced motion: static line(s), reveal CTA (no animation)
        if (sub1El) {
          if (isMobile) {
            sub1El.innerHTML = `
              <span class="hero-line1">${MOBILE_LINE1}</span>
              <span class="hero-line2">${MOBILE_LINE2}</span>`;
          } else {
            sub1El.innerHTML = `<span class="hero-line1">${TAGLINE_FULL}</span>`;
          }
        }
        ctaBtn.classList.add('cta-visible');
        document.dispatchEvent(new Event('oc:cta-text-done'));
        return;
      }

      // Prepare for typing
      if (sub1El) sub1El.textContent = '';
      ctaTxt.textContent = '';
      ctaBtn.classList.remove('cta-visible');

      // local speed helpers honoring OC_HERO.streamSpeed
      function spH(ms){
        const f = (typeof cfg.streamSpeed === 'number' && cfg.streamSpeed > 0) ? cfg.streamSpeed : 1.0;
        return ms * f;
      }
      function typeHero(el, text, min, max){
        return new Promise(resolve=>{
          let i=0;
          const tn = document.createTextNode('');
          el.textContent = '';
          el.appendChild(tn);
          (function tick(){
            tn.textContent = text.slice(0, ++i);
            if (i <= text.length) setTimeout(tick, spH(rand(min,max)));
            else resolve();
          })();
        });
      }
      const wait = (ms)=> new Promise(r=>setTimeout(r, ms));

      function afterTransition(el, fallbackMs = 900){
        return new Promise((resolve)=>{
          let done = false;
          const finish = ()=>{ if (done) return; done = true; resolve(); };
          const onEnd = (e)=>{ if (e.target === el) finish(); };
          el.addEventListener('transitionend', onEnd, { once: true });
          setTimeout(()=>{ el.removeEventListener('transitionend', onEnd); finish(); }, fallbackMs);
        });
      }
      async function run(){
        await wait(Math.max(0, cfg.startDelayMs|0));
        // Type the tagline: two-line on mobile, single shimmering line on desktop
        if (sub1El){
          const min = (cfg.line1CharMin ?? cfg.lineCharMin) | 0;
          const max = (cfg.line1CharMax ?? cfg.lineCharMax) | 0;
          if (isMobile) {
            sub1El.innerHTML = '<span class="hero-line1"><span class="seg-fullshine l1"></span></span>\
                                <span class="hero-line2"><span class="seg-fullshine l2"></span></span>';
            const l1 = sub1El.querySelector('.l1');
            const l2 = sub1El.querySelector('.l2');
            await typeHero(l1, MOBILE_LINE1, min, max);
            await typeHero(l2, MOBILE_LINE2, min, max);
          } else {
            sub1El.innerHTML = '<span class="hero-line1"><span class="seg-fullshine"></span></span>';
            const segFull = sub1El.querySelector('.seg-fullshine');
            await typeHero(segFull, TAGLINE_FULL, min, max);
          }
        }
        await wait(cfg.staggerMs|0);
        ctaBtn.classList.add('cta-visible');
        document.dispatchEvent(new Event('oc:cta-visible'));
        await afterTransition(ctaBtn, 900);
        await wait(60);
        document.dispatchEvent(new Event('oc:cta-text-start'));
        await typeHero(ctaTxt, bTxt, cfg.buttonCharMin|0, cfg.buttonCharMax|0);
        document.dispatchEvent(new Event('oc:cta-text-done'));
      }

      let started = false;
      let inView = !cfg.startOnView;
      let blurReady = !cfg.waitForBlur;

      function tryStart(){
        if (!started && inView && blurReady){
          started = true; run();
        }
      }

      if (cfg.startOnView){
        const ob = new IntersectionObserver((entries)=>{
          for (const e of entries){
            if (e.isIntersecting){
              inView = true; tryStart(); ob.disconnect();
            }
          }
        }, { threshold:.35 });
        ob.observe(hero);
      }

      if (cfg.waitForBlur){
        document.addEventListener('oc:page-blur-fade', () => { blurReady = true; tryStart(); }, { once:true });
      } else {
        blurReady = true; tryStart();
      }
    })();

    // ================================
    // Rotator moved to section below hero (#sly-4 .sly-sub)
    // ================================
    (function movedRotator(){
      const root = document.querySelector('#sly-4 .sly-sub');
      const rCfg = window.OC_HERO_ROTATOR || {};
      const cfg = window.OC_HERO || {};
      if (!root || !rCfg.words || !rCfg.words.length) return;

      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      const prefix = rCfg.prefix || 'Your AI. For ';
      const words = rCfg.words.slice();

      function spH(ms){
        const f = (typeof cfg.streamSpeed === 'number' && cfg.streamSpeed > 0) ? cfg.streamSpeed : 1.0;
        return ms * f;
      }
      function wait(ms){ return new Promise(r=>setTimeout(r, ms)); }
      function rand(a,b){ return Math.floor(Math.random()*(b-a+1))+a; }
      function type(el, text, min, max){
        return new Promise(resolve=>{
          let i=0; el.textContent=''; const tn=document.createTextNode(''); el.appendChild(tn);
          (function tick(){ tn.textContent=text.slice(0, ++i); if(i<=text.length) setTimeout(tick, spH(rand(min,max))); else resolve(); })();
        });
      }
      function del(el, min, max){
        return new Promise(resolve=>{
          const step=()=>{ const t=el.textContent||''; if(!t.length){ resolve(); return; } el.textContent=t.slice(0,-1); setTimeout(step, spH(rand(min,max))); };
          step();
        });
      }

      // Build simple single-line structure
      root.innerHTML = '<span class="rot-prefix"></span><span class="hero-word"></span><span class="hero-caret" aria-hidden="true"></span>';
      // caret styling reuse
      root.style.setProperty('--caret-blink', (rCfg.caretBlinkMs||800) + 'ms');
      root.style.setProperty('--caret-w', (rCfg.caretWidthPx||2) + 'px');
      root.style.setProperty('--caret-color', rCfg.caretColor || 'rgba(0,0,0,.85)');

      const pEl = root.querySelector('.rot-prefix');
      const wEl = root.querySelector('.hero-word');

      async function run(){
        if (prefersReduced){
          root.textContent = prefix + words[0];
          return;
        }
        await type(pEl, prefix, cfg.lineCharMin|0 || 12, cfg.lineCharMax|0 || 18);
        await type(wEl, words[0], rCfg.typeMin|0 || 40, rCfg.typeMax|0 || 70);

        let i = 1 % words.length;
        (async function loop(){
          await wait(spH(rCfg.dwellMs|0 || 2000));
          await del(wEl, rCfg.deleteMin|0 || 20, rCfg.deleteMax|0 || 30);
          await type(wEl, words[i], rCfg.typeMin|0 || 40, rCfg.typeMax|0 || 70);
          i = (i + 1) % words.length;
          loop();
        })();
      }

      // Start when section comes into view
      const ob = new IntersectionObserver((entries)=>{
        for (const e of entries){ if (e.isIntersecting){ run(); ob.disconnect(); } }
      }, { threshold: .35 });
      ob.observe(document.getElementById('sly-4'));
    })();

    // ================================
    // SECTION TYPERS
    // ================================
    function makeSectionTyper(rootSel, titleSel, subSel, cfg){
      const root  = document.querySelector(rootSel);
      if (!root || !cfg?.enabled) return;

      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      if (prefersReduced) return;

      const titleEl = root.querySelector(titleSel);
      const subEl   = root.querySelector(subSel);

      if (!titleEl && !subEl) return;

      const tText = titleEl ? (titleEl.textContent || '') : '';
      const sText = subEl   ? (subEl.textContent   || '') : '';

      if (titleEl) titleEl.textContent = '';
      if (subEl)   subEl.textContent   = '';

      function spLocal(ms){
        const f = (typeof cfg.streamSpeed === 'number' && cfg.streamSpeed > 0) ? cfg.streamSpeed : 1.0;
        return ms * f;
      }
      function typeLocal(el, text, min, max){
        return new Promise(resolve=>{
          let i=0;
          const tn = document.createTextNode('');
          el.appendChild(tn);
          (function tick(){
            tn.textContent = text.slice(0, ++i);
            if (i <= text.length) setTimeout(tick, spLocal(rand(min,max)));
            else resolve();
          })();
        });
      }
      const wait = (ms)=> new Promise(r=>setTimeout(r, ms));

      async function run(){
        await wait(Math.max(0, cfg.startDelayMs|0));
        if (titleEl) await typeLocal(titleEl, tText, cfg.titleCharMin|0, cfg.titleCharMax|0);
        if (subEl){ await wait(cfg.staggerMs|0); await typeLocal(subEl, sText, cfg.lineCharMin|0, cfg.lineCharMax|0); }
      }

      if (cfg.startOnView){
        let started = false;
        const ob = new IntersectionObserver((entries)=>{
          for (const e of entries){
            if (e.isIntersecting && !started){
              started = true;
              run();
              ob.disconnect();
            }
          }
        }, { threshold:.35 });
        ob.observe(root);
      } else {
        run();
      }
    }

    makeSectionTyper('#sly', '.sly-title', '.sly-sub', window.OC_SLY);
    makeSectionTyper('#sly-2', '.sly-title', '.sly-sub', window.OC_SLY);
    makeSectionTyper('#sly-3', '.sly-title', '.sly-sub', window.OC_SLY);
    // '#sly-4' now hosts the moved rotator; skip generic typer there
    makeSectionTyper('#tct', '.tct-title', '.tct-sub', window.OC_TCT);

    // ================================
// LIVE CHAT DEMO — ONE PAIR AT A TIME
// ================================
(function chatDemo(){
  const wrap    = document.getElementById('chat-demo');
  const stage   = document.getElementById('demoStage');
  const tplU    = document.getElementById('demoTplUser');
  const tplB    = document.getElementById('demoTplBot');

  const scenes = [
    // — Business Owners —
    {
      user: "Review this vendor agreement and highlight the top risks I should negotiate.",
      answer: `
        <strong>OC — Contract risk snapshot (Top 5):</strong>
        <ul class="list-disc ml-5 mt-2">
          <li><b>Auto-renewal:</b> Add 30–60 day notice and a clear opt-out.</li>
          <li><b>Indemnity (one-sided):</b> Make mutual; cap at fees or insurance limits.</li>
          <li><b>Scope creep:</b> Define deliverables, SLAs, and change-order process.</li>
          <li><b>Price escalators:</b> Tie increases to CPI with annual cap.</li>
          <li><b>Governing law/jurisdiction:</b> Move to your province/state.</li>
        </ul>
        <div class="mt-3 text-sm">Ready-to-paste redlines generated below. <em>General information — not legal advice.</em></div>
      `
    },

    // — Product R&D —
    {
      user: "Synthesize user feedback on v2.0 and propose 3 testable experiments with sample sizes.",
      answer: `
        <strong>OC R&D brief:</strong>
        <div class="mt-2"><b>Themes:</b> onboarding friction, battery life, price sensitivity.</div>
        <ol class="list-decimal ml-5 mt-2">
          <li><b>Guided onboarding (A/B):</b> Hypothesis: completion ↑. Metric: activation rate. <span class="text-xs">n≈800/arm.</span></li>
          <li><b>Power-saver mode:</b> Hypothesis: drain ↓ &gt;15%. Metric: avg. %/hr. <span class="text-xs">n≈200 devices.</span></li>
          <li><b>Price ladder test:</b> $19/$24/$29 with value copy. Metric: conversion/ARPU. <span class="text-xs">n≈1,200 sessions.</span></li>
        </ol>
        <div class="mt-3 text-sm">Includes KPI formulas and precomputed sample sizes.</div>
      `
    },

    // — Students —
    {
      user: "Explain quantum tunneling like I’m in first-year physics. Add 3 practice problems with answers.",
      answer: `
        <strong>OC study aid — Quantum tunneling:</strong>
        <div class="mt-2">Particles behave like waves; a wavefunction can extend through a barrier, giving a non-zero chance the particle appears on the other side.</div>
        <div class="mt-3"><b>Practice:</b></div>
        <ol class="list-decimal ml-5 mt-2">
          <li>Sketch barrier + wavefunction. <span class="text-xs">Ans: exponential decay inside barrier.</span></li>
          <li>What increases tunneling probability? <span class="text-xs">Ans: thinner/lower barrier, higher energy, lower mass.</span></li>
          <li>Name a device using tunneling. <span class="text-xs">Ans: STM or tunnel diode.</span></li>
        </ol>
      `
    },

    // — Research —
    {
      user: "Do a rapid literature scan on oral GLP-1 delivery (2021–2025). Summarize methods and note sample sizes.",
      answer: `
        <strong>OC literature snapshot:</strong>
        <ul class="list-disc ml-5 mt-2">
          <li><b>Approaches:</b> enteric coatings, enzyme inhibitors, permeation enhancers, nanoparticle carriers.</li>
          <li><b>Findings:</b> modest bioavailability; adherence ↑ vs injections; safety generally acceptable.</li>
          <li><b>Evidence base:</b> small–mid size trials; heterogeneity high.</li>
        </ul>
        <div class="mt-3 text-sm">Output: 6 key papers with one-line takeaways + BibTeX. <em>Informational summary — not medical advice.</em></div>
      `
    },

    // — Law & Lawyers —
    {
      user: "Draft a cease-and-desist for trademark misuse under Canadian law. Firm, professional tone.",
      answer: `
        <strong>OC draft scaffold:</strong>
        <ul class="list-disc ml-5 mt-2">
          <li>Parties and marks at issue</li>
          <li>Specific infringing uses (attach exhibits)</li>
          <li>Legal basis: confusion / passing off</li>
          <li>Demands: cease use, destroy materials, written confirmation within 7 days</li>
          <li>"Without prejudice" reservation</li>
        </ul>
        <div class="mt-3 text-sm">Editable paragraphs inserted for facts/proofs. <em>General information — not legal advice.</em></div>
      `
    }
  ];

  function elFromTpl(tpl){ return tpl.content.cloneNode(true); }

  function makeScenePair(userText, htmlAnswer){
    const scene = document.createElement('div');
    scene.className = 'scene';

    const uNode = elFromTpl(tplU);
    const uBubble = uNode.querySelector('.bubble-user');
    scene.appendChild(uNode);

    const bNode   = elFromTpl(tplB);
    const bBubble = bNode.querySelector('.bubble-bot');
    const thinkEl = bBubble.querySelector('.ai-think');
    const finalEl = bBubble.querySelector('.ai-final');
    scene.appendChild(bNode);

    scene.run = async () => {
      stage.appendChild(scene);
      requestAnimationFrame(()=> scene.classList.add('active'));

      await typewriter(uBubble, userText, 12, 18);

      let dots = 0;
      const dotsTimer = setInterval(()=>{ dots = (dots + 1) % 4; thinkEl.textContent = 'Thinking' + '.'.repeat(dots); }, sp(300));

      await new Promise((resolve)=>{
        setTimeout(async ()=>{
          clearInterval(dotsTimer);
          thinkEl.classList.add('fade-away');
          setTimeout(()=>{ thinkEl.remove(); }, 380);

          finalEl.classList.remove('hidden');
          finalEl.style.opacity = 0;
          requestAnimationFrame(()=> {
            finalEl.style.transition = 'opacity .28s ease';
            finalEl.style.opacity = 1;
          });

          await streamHTML(finalEl, htmlAnswer, 9, 16);
          resolve();
        }, sp(650 + Math.random()*500));
      });

      await new Promise(r => setTimeout(r, Math.max(0, window.OC_DEMO_DWELL_MS)));
    };

    scene.teardown = async () => {
      scene.classList.add('exit');
      await new Promise(r => setTimeout(r, 280));
      scene.remove();
    };

    return scene;
  }

  let looping = false;

  async function loopCarousel(){
    if (looping) return;
    looping = true;

    while (looping) {
      playBassDrop();
      for (let i=0; i<scenes.length; i++){
        const pair = makeScenePair(scenes[i].user, scenes[i].answer);
        await pair.run();
        await pair.teardown();
      }
    }
  }

  let started = false;
  const ob = new IntersectionObserver((entries)=>{
    for (const e of entries){
      if (e.isIntersecting && !started){
        started = true; loopCarousel(); ob.unobserve(wrap);
      }
    }
  }, { threshold:.35 });
  if (wrap) ob.observe(wrap);
})();


    // ===== Apply BRAND logo paths to <img data-oc-brand> =====
    (function applyBrandLogos(){
      const map = window.OC_BRANDS || {};
      document.querySelectorAll('img[data-oc-brand]').forEach(img=>{
        const key = img.getAttribute('data-oc-brand');
        if (map[key]) img.src = map[key];
      });
    })();

    // ===== Set HERO CTA icon based on OS (Windows ⇄ macOS) =====
    (function setHeroCtaIcon(){
      const el = document.getElementById('heroCtaIcon');
      if (!el) return;
      const os = (window.OC_OS || '').toLowerCase();
      el.classList.remove('ph-download','ph-apple-logo','ph-windows-logo');
      if (os === 'windows'){
        el.classList.add('ph-windows-logo');
        el.setAttribute('title','Windows');
        el.setAttribute('aria-label','Windows');
      } else {
        el.classList.add('ph-apple-logo');
        el.setAttribute('title','macOS');
        el.setAttribute('aria-label','macOS');
      }
    })();

(() => {
  class OCDownArrow extends HTMLElement {
    static get observedAttributes() {
      return [
        'dir','size','thickness','alpha',
        'amp','bounce','breathe',
        'from','via','to'
      ];
    }
    constructor(){ super(); this.attachShadow({mode:'open'}); }
    connectedCallback(){ this.render(); }
    attributeChangedCallback(){ this.render(); }

    render(){
      const dir       = (this.getAttribute('dir') || 'down').toLowerCase();
      const size      = Math.max(8, parseInt(this.getAttribute('size') || '72', 10));
      const thickness = Math.max(1, parseFloat(this.getAttribute('thickness') || '7'));
      const alpha     = Math.min(1, Math.max(0, parseFloat(this.getAttribute('alpha') ?? '0.85')));
      const amp       = (this.getAttribute('amp') || '14%').trim();
      const bounceDur = (this.getAttribute('bounce') || '1.8s').trim();
      const breatheDur= (this.getAttribute('breathe') || '3.6s').trim();

      const from = this.getAttribute('from') || '#ffffff';
      const via  = this.getAttribute('via')  || from;
      const to   = this.getAttribute('to')   || from;

      const reduce = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      const rotation = ({ right:0, down:90, left:180, up:-90 }[dir] ?? 90);
      const gid = 'grad_' + Math.random().toString(36).slice(2);

      const animateTag = reduce ? '' : `
        <animateTransform attributeName="gradientTransform"
                          type="translate"
                          from="0 -1" to="0 1"
                          dur="8s" repeatCount="indefinite" />`;

      this.shadowRoot.innerHTML = `
        <style>
          :host { display:inline-block; line-height:0; }
          .wrap {
            --amp: ${amp};
            opacity: ${alpha};
            will-change: transform, filter, opacity;
            ${reduce ? '' : `animation:
              oc-bounce ${bounceDur} ease-in-out infinite,
              oc-breathe ${breatheDur} ease-in-out infinite;`}
            backface-visibility: hidden; transform: translateZ(0);
          }

          @keyframes oc-bounce {
            0%, 100% { transform: translateY(0); }
            50%      { transform: translateY(var(--amp)); }
          }
          @keyframes oc-breathe {
            0%, 100% { filter: drop-shadow(0 2px 8px rgba(255,255,255,.22))
                             drop-shadow(0 10px 26px rgba(255,255,255,.15)); }
            50%      { filter: drop-shadow(0 6px 18px rgba(255,255,255,.40))
                             drop-shadow(0 16px 40px rgba(255,255,255,.22)); }
          }

          svg { width:${size}px; height:${size}px; overflow:visible; }
          .stroke {
            stroke: url(#${gid});
            stroke-width:${thickness};
            stroke-linecap: round;
            stroke-linejoin: round;
            fill: none;
          }
        </style>

        <div class="wrap" part="wrap" aria-hidden="true">
          <svg viewBox="0 0 64 64" role="img" aria-label="Down arrow" style="transform: rotate(${rotation}deg);">
            <defs>
              <linearGradient id="${gid}" x1="0" y1="0" x2="0" y2="1" gradientUnits="objectBoundingBox">
                <stop offset="0%"   stop-color="${from}" />
                <stop offset="50%"  stop-color="${via}" />
                <stop offset="100%" stop-color="${to}" />
                ${animateTag}
              </linearGradient>
            </defs>

            <path class="stroke" d="M12 32 H44" />
            <path class="stroke" d="M44 20 L56 32 L44 44" />
          </svg>
        </div>
      `;
    }
  }

  if (!customElements.get('oc-down-arrow')) {
    customElements.define('oc-down-arrow', OCDownArrow);
  }
})();
  </script>

  
</body>
</html>
