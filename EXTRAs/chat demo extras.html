
  <!--=======================================================================START===============================================================================================-->
<!--======================================================================CHAT SECTION================================================================================================-->
<!-- ===== Full-screen Chat Hero (Apple-minimal) — centered bubble + background word stream ===== -->
<section id="chat-hero" aria-label="Chat hero">
  <style>
    /* ---------------- Design tokens ---------------- */
    #chat-hero{
      --bg:#ffffff;
      --ink:#0B0B0C;
      --muted:#77808d;
      --line:#E6E8EC;

      --radius:28px;                 /* bubble radius (kept; bubble overrides to pill locally) */
      --bubbleH:78px;                /* initial min bubble height (auto-updates via JS) */
      --maxW:940px;                  /* max bubble width */
      --screenPadX:20px;             /* bubble -> viewport side padding */
      --titleGap:28px;               /* space between title and bubble */

      /* Animation timings */
      --fade:360ms;                  /* fade-out duration for sentence swap */

      /* === Chat controls (mobile & desktop) === */
      /* Mobile (default) */
      --padX-m:16px;
      --padY-m:14px;
      --sendScale-m:.50;

      /* Desktop (>=768px) */
      --padX-d:20px;
      --padY-d:18px;
      --sendScale-d:.75;

      /* Base + active mappings */
      --padX:var(--padX-m);
      --padY:var(--padY-m);
      --sendBase:56px;
      --sendScale:var(--sendScale-m);
      --sendSize:calc(var(--sendBase) * var(--sendScale));
      --sendIconRatio:.3928571429;   /* 22/56 */

      --shadowA:0 1px 0 rgba(0,0,0,.04);
      --shadowB:0 18px 40px rgba(0,0,0,.06);

      /* Word stream colors */
      --c1:#3f6768;
      --c2:#57c7d9;

      /* Track length for floating words */
      --trail: 2vh;

      /* Travel distance upward */
      --rise: calc(125vh + (var(--trail) * 0.5));

      /* START OFF-SCREEN to avoid pop-ins */
      --startTop: 105%;

      /* Title legibility shield (no visible plate; adaptive glow) */
      --titleStroke: .35px;
      --titleGlow1: .70;
      --titleGlow2: .55;
      --titleGlow3: .35;

      /* Section edge fades (Apple-style blend) */
      --fadeH-bottom: 14vh;
      --fadeH-top: 10vh;

      /* =============================
         DOWNLOAD BUTTON CONTROLS
         (edit these only)
         ============================= */
      /* Mobile defaults */
      --dlGap-m: 22px;               /* distance from bottom edge of chat bubble */
      --dlH-m:   46px;               /* button height */
      --dlPX-m:  22px;               /* horizontal padding */
      --dlFont-m: 15px;              /* font size */

      /* Desktop overrides (>=768px) */
      --dlGap-d: 26px;
      --dlH-d:   52px;
      --dlPX-d:  26px;
      --dlFont-d: 16px;

      /* Mappings (auto-switch with media query below) */
      --dlGap:  var(--dlGap-m);
      --dlH:    var(--dlH-m);
      --dlPX:   var(--dlPX-m);
      --dlFont: var(--dlFont-m);

      --dlRadius: 999px;             /* pill roundness */
      --dlSheenOpacity: .22;         /* intensity of sheen */
      --dlSheenSpeed: 3.2s;          /* sheen speed */

      /* =============================
         CHAT BAR (from CHAT BAR CODE)
         Scoped tokens for the embedded bar
         ============================= */
      --barH:64px;                   /* min bar height; container can grow with textarea */
      --btn:#0B0B0C;
      --radiusBar:9999px;
      --shadowBar:0 10px 30px rgba(0,0,0,.08),0 2px 8px rgba(0,0,0,.05);
      --shadowBar-focus:0 16px 44px rgba(0,0,0,.12),0 3px 12px rgba(0,0,0,.06);
      --gapBar:12px;                 /* gap between logo | field | send */
      --btnPad:10px;                 /* right padding cell for send sizing */
      --logoSize:70px;               /* global logo size */
      --logoLeftGap:-2px;            /* supports negatives to pull logo left */
      --logoToText:13px;             /* exact text offset from logo edge (± ok) */
    }

    @media (min-width:768px){
      #chat-hero{
        --padX:var(--padX-d);
        --padY:var(--padY-d);
        --sendScale:var(--sendScale-d);
        --sendSize:calc(var(--sendBase) * var(--sendScale));
        --fadeH-bottom: 16vh;
        --fadeH-top: 12vh;

        /* bind desktop download controls */
        --dlGap:  var(--dlGap-d);
        --dlH:    var(--dlH-d);
        --dlPX:   var(--dlPX-d);
        --dlFont: var(--dlFont-d);
      }
    }

    /* --------------- Section layout --------------- */
    #chat-hero{
      position:relative;
      min-height: calc(100vh + var(--trail));
      min-height: calc(100svh + var(--trail));
      background:var(--bg);
      box-sizing:border-box;
      isolation:isolate;
      -webkit-tap-highlight-color: transparent;
      font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "SF Pro Text",
                   "Segoe UI", Roboto, "Helvetica Neue", Arial, "Apple Color Emoji",
                   "Segoe UI Emoji";
      -webkit-font-smoothing:antialiased;
      text-rendering:optimizeLegibility;
      color:var(--ink);
      overflow:hidden;
    }

    /* ---- Apple-style edge fades (above words, below UI) ---- */
    #chat-hero::before,
    #chat-hero::after{
      content:"";
      position:absolute;
      left:0; right:0;
      pointer-events:none;
      z-index:1;
    }
    #chat-hero::before{
      top:0; height:var(--fadeH-top);
      background:linear-gradient(to bottom, var(--bg) 0%, rgba(255,255,255,0) 100%);
    }
    #chat-hero::after{
      bottom:0; height:var(--fadeH-bottom);
      background:linear-gradient(to top, var(--bg) 0%, rgba(255,255,255,0) 100%);
    }

    /* ---------------- Background word stream ---------------- */
    #chat-hero .word-stream{
      position:absolute; inset:0; z-index:0; pointer-events:none; overflow:hidden;
    }
    #chat-hero .ws-word{
      position:absolute; left:50%; top:var(--startTop);
      transform:translate3d(-50%,0,0) scale(var(--scale,1));
      margin-left:var(--x,0%); opacity:0; will-change:transform,opacity;
      animation:ws-rise var(--dur,10s) cubic-bezier(.22,.61,.36,1) var(--delay,0s) forwards;
    }
    @keyframes ws-rise{
      0%   { opacity:0; transform:translate3d(calc(-50% + var(--x,0%)), 0, 0) scale(var(--scale,1)); }
      10%  { opacity:1; }
      100% { opacity:1; transform:translate3d(calc(-50% + var(--x,0%)), calc(var(--rise) * -1), 0) scale(var(--scale,1)); }
    }
    #chat-hero .ws-sway{ display:inline-block; will-change:transform; animation:ws-sway var(--swaydur,8s) ease-in-out var(--delay,0s) infinite alternate; }
    @keyframes ws-sway{ from{transform:translateX(0)} to{transform:translateX(var(--sway,3%))} }
    #chat-hero .ws-text{
      display:block; font-family: Inter, -apple-system, system-ui, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      font-size:clamp(28px,8vw,72px); font-weight:500; letter-spacing:0.26em; line-height:1.15; text-transform:uppercase; white-space:nowrap;
      background:linear-gradient(120deg, var(--c1) 20%, var(--c2) 50%, var(--c1) 80%); background-size:220% 100%;
      -webkit-background-clip:text; background-clip:text; color:transparent;
      animation: ws-shimmer 8s ease-in-out infinite, ws-float 3.8s ease-in-out infinite alternate, ws-breathe 7s ease-in-out infinite;
      will-change:background-position, filter, transform; text-shadow:none;
    }
    @keyframes ws-shimmer{ 0%{background-position:0% 50%} 100%{background-position:200% 50%} }
    @keyframes ws-float  { from{transform:translateY(0)} to{transform:translateY(-2px)} }
    @keyframes ws-breathe{ 0%,100% { filter:brightness(1) saturate(1) } 50% { filter:brightness(1.06) saturate(1.03) } }

    /* ------------------ Foreground UI (above stream) --------------------- */
    #chat-hero .hero-title{ z-index:2; }
    #chat-hero .bubble-spot{ z-index:2; }

    /* ------------------ Title --------------------- */
    #chat-hero .hero-title{
      position:absolute;
      left:50%;
      top: calc(50vh - (var(--bubbleH) / 2) - var(--titleGap));
      transform: translate(-50%, -100%);
      margin:0; text-align:center; letter-spacing:-0.02em; line-height:1.1; font-weight:700;
      font-size:clamp(28px, 5.2vw, 54px); padding:0 12px;
    }
    /* Adaptive legibility shield */
    #chat-hero .hero-title .title-blur{
      -webkit-text-stroke: 0 transparent; text-shadow: none;
      filter: drop-shadow(0 0 10px rgba(255,255,255,.9)) drop-shadow(0 0 22px rgba(255,255,255,.6));
    }

    /* --------------- Bubble spot (center) ---------- */
    #chat-hero .bubble-spot{
      position:absolute; left:50%; top:50vh; transform:translate(-50%, -50%);
      width:min(calc(100vw - (var(--screenPadX)*2)), var(--maxW)); height:auto;
    }

    /* =======================
       CHAT BAR (embedded)
       ======================= */
    /* Neutralize old .bubble visuals; keep it as a measurement hook for --bubbleH */
    #chat-hero .bubble{ all:unset; display:block; }

    #chat-hero .chatbar{
      width:100%;
      min-height:var(--barH);                   /* grows if textarea expands */
      display:flex; align-items:center; gap:var(--gapBar);
      background:#fff; border-radius:var(--radiusBar);
      box-shadow:var(--shadowBar);
      padding-inline:16px var(--btnPad);
      /* keep container padding non-negative; allow negative logo pull via margin */
      padding-inline-start:max(0px,var(--logoLeftGap));
      transition:box-shadow .25s ease, transform .25s ease;
      box-sizing:border-box;
    }
    #chat-hero .chatbar:focus-within{ box-shadow:var(--shadowBar-focus); transform:translateY(-1px) }

    #chat-hero .chatbar .logo{
      width:var(--logoSize); height:var(--logoSize); flex:none; display:block; object-fit:contain;
      margin-inline-start:min(0px,var(--logoLeftGap)); /* negative pulls left */
    }

    /* Field (textarea to support your typewriter + autosize) */
    #chat-hero .chatbar input,
    #chat-hero .chatbar textarea{
      flex:1; min-height:1.35em; height:100%;
      border:0; background:transparent; color:var(--ink);
      font-size:18px; line-height:1.35; padding:0; margin:0;
      -webkit-appearance:none; appearance:none; outline:0; resize:none; overflow:hidden;
      /* shift only the text (placeholder + typed) in either direction */
      text-indent:calc(var(--logoToText) - var(--gapBar));
    }
    #chat-hero .chatbar input::placeholder,
    #chat-hero .chatbar textarea::placeholder{ color:var(--muted) }

    /* Send button (scoped override so it replaces old absolute .send) */
    #chat-hero .chatbar .send{
      position:static !important; transform:none;
      inline-size:calc(var(--barH) - 2*var(--btnPad));
      block-size:calc(var(--barH) - 2*var(--btnPad));
      flex:none; display:grid; place-items:center; cursor:pointer;
      border:0; border-radius:50%;
      background:var(--btn); color:#fff;
      box-shadow:0 12px 28px rgba(0,0,0,.22), inset 0 0 0 1px rgba(255,255,255,.1);
      transition:transform .18s ease, box-shadow .18s ease, filter .18s ease;
    }
    #chat-hero .chatbar .send:hover{ transform:translateY(-1px); box-shadow:0 16px 36px rgba(0,0,0,.28) }
    #chat-hero .chatbar .send:active{ transform:translateY(0); filter:brightness(.96) }
    #chat-hero .chatbar .send svg{ width:20px; height:20px; stroke:currentColor; stroke-width:2.5; fill:none }

    /* Keep your fade effect on the prompt */
    #chat-hero .prompt{ transition:opacity var(--fade) ease; opacity:1; }
    #chat-hero .prompt.is-fading{ opacity:0; }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce){
      #chat-hero .chatbar .send, #chat-hero .prompt{ transition:none; }
      #chat-hero .ws-word, #chat-hero .ws-sway, #chat-hero .ws-text{ animation:none !important; opacity:1 !important; transform:none !important; }
    }

    /* Audiowide, solid black (logo/title) */
    #chat-hero .hero-title .title-onx{
      font-family:"Audiowide", ui-sans-serif, system-ui, -apple-system, "SF Pro Text", "Segoe UI", Roboto, "Helvetica Neue", Arial;
      font-weight:400; color:#0B0B0C; background:none; -webkit-background-clip:initial; background-clip:initial; animation:none;
    }

    /* === Subtitle styling === */
    #hero-onx-title .hero-subtitle{
      display:block; margin-top:.45em; line-height:1.25; letter-spacing:0.01em;
      max-width: 38ch; margin-left:auto; margin-right:auto; text-align:center; text-wrap:balance;
      font-family: "SF Pro Text", -apple-system, system-ui, "Segoe UI", Roboto, Arial, sans-serif;
      font-weight:500; font-size:clamp(16px, 1.6vw, 24px); color:#5B6572;
    }
    @media (min-width: 400px){
      #hero-onx-title .hero-subtitle{ max-width:50ch; }
    }

    /* =========================
       DOWNLOAD BUTTON STYLES
       ========================== */
    #chat-hero .download-spot{
      position:absolute;
      left:50%;
      /* position exactly below bubble: center (50vh) + half bubble height + gap */
      top: calc(50vh + (var(--bubbleH) / 2) + var(--dlGap));
      transform: translateX(-50%);
      width: max-content;
      z-index: 2;
    }

    #chat-hero .dl-btn{
      position: relative;
      display: inline-flex;
      align-items: center;
      gap: 10px;
      height: var(--dlH);
      padding: 0 var(--dlPX);
      border-radius: var(--dlRadius);
      background: #0B0B0C;
      color: #fff;
      font-weight: 600;
      font-size: var(--dlFont);
      letter-spacing: .01em;
      border: 1px solid rgba(255,255,255,.12);
      box-shadow:
        inset 0 1px 0 rgba(255,255,255,.08),
        0 6px 18px rgba(0,0,0,.18),
        0 2px 6px rgba(0,0,0,.10);
      -webkit-font-smoothing:antialiased;
      cursor: pointer;
      user-select: none;
      -webkit-tap-highlight-color: transparent;
      transition: transform .12s ease, box-shadow .12s ease, background-color .12s ease;
      outline: none;
    }
    #chat-hero .dl-btn:hover{
      transform: translateY(-1px);
      box-shadow:
        inset 0 1px 0 rgba(255,255,255,.10),
        0 10px 28px rgba(0,0,0,.22),
        0 3px 8px rgba(0,0,0,.12);
    }
    #chat-hero .dl-btn:active{ transform: translateY(0); }

    /* Sheen (subtle Apple-style) */
    #chat-hero .dl-btn::after{
      content:"";
      position:absolute; inset:0;
      border-radius: inherit;
      background:
        linear-gradient(120deg,
          rgba(255,255,255,0) 0%,
          rgba(255,255,255,var(--dlSheenOpacity)) 12%,
          rgba(255,255,255,0) 26%) ;
      background-size: 200% 100%;
      mix-blend-mode: soft-light;
      pointer-events:none;
      animation: dl-sheen var(--dlSheenSpeed) linear infinite;
      opacity: .9;
    }
    @keyframes dl-sheen{
      0%   { background-position: -120% 0; }
      100% { background-position: 120% 0; }
    }

    #chat-hero .dl-ico{ width: 1.15em; height: 1.15em; display: inline-block; }
    #chat-hero .dl-ico svg{ width:100%; height:100%; display:block; fill:#fff; }

    /* OS switching: show only the detected icon */
    #chat-hero .ico-mac, #chat-hero .ico-win{ display:none; }
    #chat-hero.os-mac  .ico-mac{ display:inline-block; }
    #chat-hero.os-win  .ico-win{ display:inline-block; }

    /* Button text */
    #chat-hero .dl-label{ display:inline-block; line-height:1; }

    /* sr-only (for embedded chatbar label) */
    #chat-hero .sr-only{
      position:absolute; width:1px; height:1px; padding:0; margin:-1px;
      overflow:hidden; clip:rect(0 0 0 0); white-space:nowrap; border:0;
    }
  </style>

  <!-- Background floating words (starts ONLY after user scrolls) -->
  <div
    class="word-stream"
    data-rate="900"
    data-dmin="9"
    data-dmax="14"
    data-band="12"
    data-lanes="5"
    data-gap="1000"
    data-max="28"
    aria-hidden="true">
    <script>
      (() => {
        const STREAM_WORDS = [
          "CODE","CREATE","PLAN","EXECUTE","DESIGN","PRODUCE","MASTER","RESEARCH","INTELLIGENCE","PASSIVE INCOME",
          "BUILD","LAUNCH","SHIP","SCALE","AUTOMATE","OPTIMIZE","MONETIZE","DEPLOY","ANALYZE","STRATEGIZE",
          "REDEFINE","ITERATE","POLISH","EXCEL","FOCUS","SIMPLIFY","ELEVATE","ACCELERATE","GROW","LIMITLESS","UNSTOPPABLE",
          "DOMINATE","DISRUPT","CONQUER","COMMAND","OUTPERFORM","WIN","AMPLIFY","ASCEND","LEVERAGE","CONVERT",
          "CLOSE","SECURE","TRANSFORM","EVOLVE","PROFIT","LEAD","PREVAIL","OWN","CAPTURE","INNOVATE"
        ];

        const host = document.currentScript.parentElement;
        const RATE   = +(host.dataset.rate  || 900);
        const DMIN   = +(host.dataset.dmin  || 9);
        const DMAX   = +(host.dataset.dmax  || 14);
        const BAND   = +(host.dataset.band  || 12);
        const LANES  = Math.max(1, +(host.dataset.lanes || 5));
        const LANE_GAP = +(host.dataset.gap || 1000);
        const MAXN   = +(host.dataset.max   || 28);

        const EARLY_COUNT = 6;
        const EARLY_GAP   = Math.max(220, RATE * 0.35);
        const EARLY_DUR_MULT = 0.72;
        const SEED_BURST  = 4;

        const laneOffsets = Array.from({length: LANES}, (_, i) => (LANES === 1) ? 0 : ((i/(LANES-1))*2 - 1) * BAND);
        const laneReadyAt = new Array(LANES).fill(0);

        const shuffle = a => { for(let i=a.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j]] } return a; };
        let queue = shuffle([...STREAM_WORDS]);

        function pickLane(now){
          const free = [];
          for (let i=0;i<LANES;i++) if (now >= laneReadyAt[i]) free.push(i);
          return free.length ? free[Math.floor(Math.random()*free.length)] : -1;
        }

        function spawn(opts = { seed:false, early:false }){
          const now  = performance.now();
          const lane = pickLane(now);
          if (lane < 0) return;

          if (queue.length === 0) queue = shuffle([...STREAM_WORDS]);
          const phrase = queue.pop();

          let dur  = DMIN + Math.random()*(DMAX - DMIN);
          if (opts.early) dur *= EARLY_DUR_MULT;

          const scale  = 0.96 + Math.random()*0.14;
          const laneX  = laneOffsets[lane];

          const laneSpan = (LANES === 1) ? (BAND*2) : (2*BAND)/(LANES-1);
          const swayMax  = Math.max(0.6, (laneSpan*0.38));
          const sway     = (Math.random()<.5?-1:1) * (0.6 + Math.random()*(swayMax - 0.6));
          const swayDur  = 6 + Math.random()*6;

          const outer = document.createElement('span');
          outer.className = 'ws-word';
          outer.style.setProperty('--dur',   dur.toFixed(2)+'s');
          outer.style.setProperty('--x',     laneX.toFixed(2)+'%');
          outer.style.setProperty('--scale', scale.toFixed(2));
          const delaySeconds = opts.seed ? 0 : (opts.early ? Math.random()*0.15 : Math.random()*0.6);
          outer.style.setProperty('--delay', delaySeconds.toFixed(2) + 's');

          const sw = document.createElement('span'); sw.className = 'ws-sway';
          sw.style.setProperty('--sway', ( (Math.random()<.5?-1:1) * (0.6 + Math.random()*3) ).toFixed(2)+'%' );
          sw.style.setProperty('--swaydur', (6 + Math.random()*6).toFixed(2)+'s');

          const t = document.createElement('span'); t.className = 'ws-text'; t.textContent = phrase;

          sw.appendChild(t); outer.appendChild(sw); host.appendChild(outer);

          const nodes = host.querySelectorAll('.ws-word'); if (nodes.length > MAXN) nodes[0]?.remove();
          laneReadyAt[lane] = now + LANE_GAP;
          outer.addEventListener('animationend', () => outer.remove(), {once:true});
        }

        let started = false, earlyLeft = EARLY_COUNT, timerId = null;
        function scheduleNext(delay){
          timerId = setTimeout(() => {
            const useEarly = earlyLeft > 0;
            spawn({ early:useEarly });
            if (useEarly) earlyLeft--;
            scheduleNext( (earlyLeft > 0) ? EARLY_GAP : RATE );
          }, delay);
        }

        function start(){
          if (started) return;
          started = true;
          for (let i=0; i<SEED_BURST; i++) spawn({ seed:true, early:true });
          scheduleNext(0);
        }

        window.addEventListener('wheel', start, {once:true, passive:true});
        window.addEventListener('scroll', start, {once:true, passive:true});
        window.addEventListener('touchmove', start, {once:true, passive:true});

        const obs = new MutationObserver(() => {
          if (!document.body.contains(host) && timerId){ clearTimeout(timerId); obs.disconnect(); }
        });
        obs.observe(document.body, {childList:true, subtree:true});
      })();
    </script>
  </div>

  <!-- Title -->
  <h1 class="hero-title" id="hero-onx-title">
    <span class="title-blur">
      <span class="fit-line">Your Unfair Advantage.</span>
      <!-- Subtitle -->
    <span class="hero-subtitle">Superpowered AI—research, design, and execute without limits.</span>
    </span>

    <style>
      /* Keep existing mobile/desktop tweaks for title */
      #hero-onx-title .br-mobile { display: none; }
      @media (min-width:601px){
        #hero-onx-title{ --desktop-gap: 0.35em; }
        #hero-onx-title .title-onx{ display:inline-block; margin-right: var(--desktop-gap); }
      }
      @media (max-width:600px){
        #hero-onx-title .br-mobile { display: inline; }
        #hero-onx-title .title-onx{ margin-right: 0; }
      }
    </style>
  </h1>

  <style>
    /* Only affect this title on mobile */
    @media (max-width:600px){
      #hero-onx-title{
        --xpad: 60px; --ypad: 0px; --outer-top: 0px; --outer-bottom: 0px;
        margin: var(--outer-top) 0 var(--outer-bottom) !important;
      }
      #hero-onx-title .title-blur{
        display:block; width:100vw; padding: var(--ypad) var(--xpad); box-sizing:border-box; line-height:0;
      }
      #hero-onx-title .fit-line{
        display:block; white-space:nowrap; line-height:1.05; font-weight:700; font-size:120px; transform:none;
      }
    }
  </style>

  <script>
    /* Fit title on mobile and sync bubble height */
    (function(){
      const root  = document.getElementById('hero-onx-title');
      const line  = root?.querySelector('.fit-line');
      const shell = root?.querySelector('.title-blur');
      const mq    = window.matchMedia('(max-width: 600px)');
      const BASE  = 120;

      function fitOnce(){
        if(!root || !line || !shell) return;
        if(!mq.matches){ line.style.fontSize = ''; root.style.marginTop=''; return; }

        line.style.fontSize = BASE + 'px';
        const rectW = shell.getBoundingClientRect().width;
        const cs    = getComputedStyle(shell);
        const pad   = (parseFloat(cs.paddingLeft)||0) + (parseFloat(cs.paddingRight)||0);
        const available = Math.max(0, rectW - pad);
        const needed    = Math.max(1, line.scrollWidth);
        const scale     = Math.min(1, available / needed);
        line.style.fontSize = (BASE * scale) + 'px';

        const prev = root.previousElementSibling;
        if (prev){
          const gap = Math.round(root.getBoundingClientRect().top - prev.getBoundingClientRect().bottom);
          root.style.marginTop = (gap > 0 ? (-gap) : 0) + 'px';
        } else {
          root.style.marginTop = '0px';
        }
      }

      function fit(){ fitOnce(); requestAnimationFrame(fitOnce); }
      ['DOMContentLoaded','load','resize','orientationchange','pageshow'].forEach(ev=>{
        window.addEventListener(ev, fit, {passive:true});
      });
      if (document.fonts?.ready) document.fonts.ready.then(fit).catch(()=>{});
      fit();
    })();
  </script>

  <!-- The centered bubble (now hosts the embedded chatbar) -->
  <div class="bubble-spot">
    <form class="chatbar bubble" action="#" onsubmit="event.preventDefault()">
      <img class="logo" src="logo.svg" alt="Logo">
      <label class="sr-only" for="prompt-input">Message</label>
      <!-- textarea keeps your typewriter + autosize logic -->
      <textarea
        class="prompt"
        id="prompt-input"
        name="q"
        rows="1"
        autocomplete="off"
        autocapitalize="off"
        autocorrect="off"
        spellcheck="false"
        placeholder="Ask anything…"></textarea>

      <button class="send" type="submit" aria-label="Send">
        <svg viewBox="0 0 24 24" aria-hidden="true">
          <path d="M5 12h12" stroke-linecap="round"/>
          <path d="M13 7l5 5-5 5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </form>
  </div>

  <!-- ===== Download button (below the bubble) ===== -->
  <div class="download-spot">
    <button class="dl-btn" type="button" id="onx-download">
      <span class="dl-ico ico-mac" aria-hidden="true">
        <!-- Apple logo -->
        <svg viewBox="0 0 24 24"><path d="M16.365 13.246c.03 3.23 2.83 4.307 2.86 4.32-.023.074-.447 1.518-1.474 3-0.888 1.29-1.812 2.58-3.26 2.604-1.43.026-1.89-.84-3.52-.84-1.63 0-2.15.813-3.5.867-1.404.053-2.477-1.39-3.372-2.675-1.84-2.64-3.25-7.46-1.36-10.73.94-1.63 2.62-2.67 4.45-2.698 1.39-.027 2.71.93 3.52.93.81 0 2.43-1.15 4.11-0.98.7.03 2.66.28 3.92 2.11-.1.06-2.34 1.36-2.32 4.09zM13.9 3.6c.76-.92 1.27-2.2 1.13-3.49-1.09.044-2.41.72-3.2 1.64-.7.81-1.31 2.12-1.14 3.37 1.2.093 2.44-.61 3.21-1.52z"/></svg>
      </span>
      <span class="dl-ico ico-win" aria-hidden="true">
        <!-- Windows logo -->
        <svg viewBox="0 0 24 24"><path d="M2 3.5l9-1.3v9.1H2V3.5zm9 9.2v9.1l-9-1.3V12.7h9zM22 2v9.3h-9.5V3.3L22 2zm-9.5 10.7H22V22l-9.5-1.3v-8z"/></svg>
      </span>
      <span class="dl-label">Download</span>
    </button>
  </div>

  <script>
    document.getElementById("onx-download").addEventListener("click", function(e) {
      e.preventDefault();
      window.location.href = "SignUp.html";
    });
  </script>

  <script>
    /* ===== Hero type-in lines (edgy edition) ===== */
    const SUGGESTIONS = [
      "Design a ruthless—but legal—negotiation script that cuts supplier prices 25%.",
      "Turn $10k into $100k in 12 months: step-by-step arbitrage game plan.",
      "Find the fastest path to 1,000 paying users for an AI app—zero fluff.",
      "Reverse-engineer my top competitor’s funnel and out-convert them by 30%.",
      "Automate cold outreach that feels human—deliver 10 booked calls per day.",
      "Blueprint a content flywheel that prints $50k/month in inbound leads.",
      "Identify 3 undervalued micro-SaaS buys under $2M we can acquire now.",
      "Draft a no-BS investor memo that raises $1M with traction-light signals.",
      "Ship a viral ONX launch that hits #1 on Product Hunt within 48 hours.",
      "Audit pricing and add a premium tier that lifts ARPU by 40%."
    ];
    const TYPER = { startDelay:500, type:34, hold:1600, gap:650, loop:true };

    (function initTypewriter(){
      const input  = document.getElementById('prompt-input');
      const bubble = document.querySelector('#chat-hero .bubble');  // now the .chatbar form
      const hero   = document.getElementById('chat-hero');
      if (!input || !bubble || !hero) return;

      input.addEventListener('keydown', e => e.preventDefault());
      input.addEventListener('beforeinput', e => e.preventDefault());

      function autosize(){ input.style.height = 'auto'; input.style.height = input.scrollHeight + 'px'; }
      function syncBubbleH(){ hero.style.setProperty('--bubbleH', bubble.getBoundingClientRect().height + 'px'); }

      const ro = new ResizeObserver(syncBubbleH); ro.observe(bubble);

      const reduceMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      if (reduceMotion) { input.value = SUGGESTIONS[0] || ""; autosize(); syncBubbleH(); return; }

      let i = 0, j = 0;
      function typeNextChar(){
        const phrase = SUGGESTIONS[i] || "";
        input.classList.remove('is-fading');
        if (j < phrase.length){
          input.value += phrase[j++]; autosize(); syncBubbleH(); setTimeout(typeNextChar, TYPER.type);
        } else {
          setTimeout(() => fadeOutThenAdvance(), TYPER.hold);
        }
      }
      function fadeOutThenAdvance(){
        input.classList.add('is-fading');
        const onEnd = (e) => {
          if (e.propertyName && e.propertyName !== 'opacity') return;
          input.removeEventListener('transitionend', onEnd);
          input.value = ""; autosize(); syncBubbleH();
          i = (i + 1) % SUGGESTIONS.length; j = 0;
          setTimeout(typeNextChar, TYPER.gap);
        };
        input.addEventListener('transitionend', onEnd, { once:true });
        setTimeout(() => { if (input.classList.contains('is-fading')) input.dispatchEvent(new Event('transitionend')); }, 1000);
      }
      input.value = ""; autosize(); syncBubbleH(); setTimeout(typeNextChar, TYPER.startDelay);
      window.addEventListener('resize', () => { autosize(); syncBubbleH(); });
    })();

    /* ===== OS detection + button routing ===== */
    (function(){
      const host = document.getElementById('chat-hero');
      const btn  = document.getElementById('onx-download');
      if (!host || !btn) return;

      // very simple detection (good enough for icon swap)
      const ua = navigator.userAgent.toLowerCase();
      const isMac = ua.includes('mac os x') || ua.includes('macintosh') || ua.includes('mac');
      host.classList.add(isMac ? 'os-mac' : 'os-win');

      btn.addEventListener('click', () => {
        const mac = btn.getAttribute('data-mac-url') || '#';
        const win = btn.getAttribute('data-win-url') || '#';
        const url = isMac ? mac : win;
        window.location.href = url;
      });
    })();
  </script>
</section>
<!--======================================================================================================================================================================-->
<!--=====================================================================CHAT END=================================================================================================-->

















<!--======================================================================CHAT SECTION================================================================================================-->
<!-- ===== Full-screen Chat Hero (Apple-minimal) — centered bubble + background word stream ===== -->
<section id="chat-hero" aria-label="Chat hero">
  <style>
    /* ---------------- Design tokens ---------------- */
    #chat-hero{
      --bg:#ffffff;
      --ink:#0B0B0C;
      --muted:#77808d;
      --line:#E6E8EC;

      --radius:28px;                 /* bubble radius (kept; bubble overrides to pill locally) */
      --bubbleH:78px;                /* initial min bubble height (auto-updates via JS) */
      --maxW:940px;                  /* max bubble width */
      --screenPadX:20px;             /* bubble -> viewport side padding */
      --titleGap:28px;               /* space between title and bubble */

      /* Animation timings */
      --fade:360ms;                  /* fade-out duration for sentence swap */

      /* === Chat controls (mobile & desktop) === */
      /* Mobile (default) */
      --padX-m:16px;
      --padY-m:14px;
      --sendScale-m:.50;

      /* Desktop (>=768px) */
      --padX-d:20px;
      --padY-d:18px;
      --sendScale-d:.75;

      /* Base + active mappings */
      --padX:var(--padX-m);
      --padY:var(--padY-m);
      --sendBase:56px;
      --sendScale:var(--sendScale-m);
      --sendSize:calc(var(--sendBase) * var(--sendScale));
      --sendIconRatio:.3928571429;   /* 22/56 */

      --shadowA:0 1px 0 rgba(0,0,0,.04);
      --shadowB:0 18px 40px rgba(0,0,0,.06);

      /* Word stream colors */
      --c1:#3f6768;
      --c2:#57c7d9;

      /* Track length for floating words */
      --trail: 2vh;

      /* Travel distance upward */
      --rise: calc(125vh + (var(--trail) * 0.5));

      /* START OFF-SCREEN to avoid pop-ins */
      --startTop: 105%;

      /* Title legibility shield (no visible plate; adaptive glow) */
      --titleStroke: .35px;          /* micro stroke width */
      --titleGlow1: .70;             /* inner halo strength */
      --titleGlow2: .55;             /* mid halo */
      --titleGlow3: .35;             /* outer halo */

      /* Section edge fades (Apple-style blend) */
      --fadeH-bottom: 14vh;          /* bottom reveal fade height */
      --fadeH-top: 10vh;             /* top dissolve fade height */

      /* =============================
         DOWNLOAD BUTTON CONTROLS
         (edit these only)
         ============================= */
      /* Mobile defaults */
      --dlGap-m: 22px;               /* distance from bottom edge of chat bubble */
      --dlH-m:   46px;               /* button height */
      --dlPX-m:  22px;               /* horizontal padding */
      --dlFont-m: 15px;              /* font size */

      /* Desktop overrides (>=768px) */
      --dlGap-d: 26px;
      --dlH-d:   52px;
      --dlPX-d:  26px;
      --dlFont-d: 16px;

      /* Mappings (auto-switch with media query below) */
      --dlGap:  var(--dlGap-m);
      --dlH:    var(--dlH-m);
      --dlPX:   var(--dlPX-m);
      --dlFont: var(--dlFont-m);

      --dlRadius: 999px;             /* pill roundness */
      --dlSheenOpacity: .22;         /* intensity of sheen */
      --dlSheenSpeed: 3.2s;          /* sheen speed */
    }

    @media (min-width:768px){
      #chat-hero{
        --padX:var(--padX-d);
        --padY:var(--padY-d);
        --sendScale:var(--sendScale-d);
        --sendSize:calc(var(--sendBase) * var(--sendScale));
        --fadeH-bottom: 16vh;
        --fadeH-top: 12vh;

        /* bind desktop download controls */
        --dlGap:  var(--dlGap-d);
        --dlH:    var(--dlH-d);
        --dlPX:   var(--dlPX-d);
        --dlFont: var(--dlFont-d);
      }
    }

    /* --------------- Section layout --------------- */
    #chat-hero{
      position:relative;
      min-height: calc(100vh + var(--trail));
      min-height: calc(100svh + var(--trail));
      background:var(--bg);
      box-sizing:border-box;
      isolation:isolate;
      -webkit-tap-highlight-color: transparent;
      font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "SF Pro Text",
                   "Segoe UI", Roboto, "Helvetica Neue", Arial, "Apple Color Emoji",
                   "Segoe UI Emoji";
      -webkit-font-smoothing:antialiased;
      text-rendering:optimizeLegibility;
      color:var(--ink);
      overflow:hidden;
    }

    /* ---- Apple-style edge fades (above words, below UI) ---- */
    #chat-hero::before,
    #chat-hero::after{
      content:"";
      position:absolute;
      left:0; right:0;
      pointer-events:none;
      z-index:1;
    }
    #chat-hero::before{
      top:0; height:var(--fadeH-top);
      background:linear-gradient(to bottom, var(--bg) 0%, rgba(255,255,255,0) 100%);
    }
    #chat-hero::after{
      bottom:0; height:var(--fadeH-bottom);
      background:linear-gradient(to top, var(--bg) 0%, rgba(255,255,255,0) 100%);
    }

    /* ---------------- Background word stream ---------------- */
    #chat-hero .word-stream{
      position:absolute; inset:0; z-index:0; pointer-events:none; overflow:hidden;
    }
    #chat-hero .ws-word{
      position:absolute; left:50%; top:var(--startTop);
      transform:translate3d(-50%,0,0) scale(var(--scale,1));
      margin-left:var(--x,0%); opacity:0; will-change:transform,opacity;
      animation:ws-rise var(--dur,10s) cubic-bezier(.22,.61,.36,1) var(--delay,0s) forwards;
    }
    @keyframes ws-rise{
      0%   { opacity:0; transform:translate3d(calc(-50% + var(--x,0%)), 0, 0) scale(var(--scale,1)); }
      10%  { opacity:1; }
      100% { opacity:1; transform:translate3d(calc(-50% + var(--x,0%)), calc(var(--rise) * -1), 0) scale(var(--scale,1)); }
    }
    #chat-hero .ws-sway{ display:inline-block; will-change:transform; animation:ws-sway var(--swaydur,8s) ease-in-out var(--delay,0s) infinite alternate; }
    @keyframes ws-sway{ from{transform:translateX(0)} to{transform:translateX(var(--sway,3%))} }
    #chat-hero .ws-text{
      display:block; font-family: Inter, -apple-system, system-ui, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      font-size:clamp(28px,8vw,72px); font-weight:500; letter-spacing:0.26em; line-height:1.15; text-transform:uppercase; white-space:nowrap;
      background:linear-gradient(120deg, var(--c1) 20%, var(--c2) 50%, var(--c1) 80%); background-size:220% 100%;
      -webkit-background-clip:text; background-clip:text; color:transparent;
      animation: ws-shimmer 8s ease-in-out infinite, ws-float 3.8s ease-in-out infinite alternate, ws-breathe 7s ease-in-out infinite;
      will-change:background-position, filter, transform; text-shadow:none;
    }
    @keyframes ws-shimmer{ 0%{background-position:0% 50%} 100%{background-position:200% 50%} }
    @keyframes ws-float  { from{transform:translateY(0)} to{transform:translateY(-2px)} }
    @keyframes ws-breathe{ 0%,100% { filter:brightness(1) saturate(1) } 50% { filter:brightness(1.06) saturate(1.03) } }

    /* ------------------ Foreground UI (above stream) --------------------- */
    #chat-hero .hero-title{ z-index:2; }
    #chat-hero .bubble-spot{ z-index:2; }

    /* ------------------ Title --------------------- */
    #chat-hero .hero-title{
      position:absolute;
      left:50%;
      top: calc(50vh - (var(--bubbleH) / 2) - var(--titleGap));
      transform: translate(-50%, -100%);
      margin:0; text-align:center; letter-spacing:-0.02em; line-height:1.1; font-weight:700;
      font-size:clamp(28px, 5.2vw, 54px); padding:0 12px;
    }
    /* Adaptive legibility shield */
    #chat-hero .hero-title .title-blur{
      -webkit-text-stroke: 0 transparent; text-shadow: none;
      filter: drop-shadow(0 0 10px rgba(255,255,255,.9)) drop-shadow(0 0 22px rgba(255,255,255,.6));
    }

    /* --------------- Bubble spot (center) ---------- */
    #chat-hero .bubble-spot{
      position:absolute; left:50%; top:50vh; transform:translate(-50%, -50%);
      width:min(calc(100vw - (var(--screenPadX)*2)), var(--maxW)); height:auto;
    }

    /* --------------- Chat bubble shell (RESTYLED to match photo) ------------- */
    #chat-hero .bubble{
      position:relative;
      width:100%;
      min-height:var(--bubbleH);
      height:auto;
      display:flex;
      align-items:center;

      /* Apple-style pill with chrome border + soft fill */
      border:1px solid transparent;
      border-radius:999px; /* pill */
      background:
        linear-gradient(180deg,#FCFDFE 0%,#F6F8FB 100%) padding-box,
        linear-gradient(180deg,rgba(255,255,255,.85),rgba(0,0,0,.06)) border-box;

      /* subtle inner + outer depth */
      box-shadow:
        inset 0 1px 0 rgba(255,255,255,.85),
        inset 0 -1px 0 rgba(0,0,0,.04),
        0 2px 6px rgba(0,0,0,.08),
        0 10px 24px rgba(0,0,0,.06);

      /* roomy horizontal padding + reserved space for send */
      padding-left:calc(var(--padX) + 2px);
      padding-right:calc(var(--padX) + var(--sendSize) + 16px);
      padding-top:calc(var(--padY) - 2px);
      padding-bottom:calc(var(--padY) - 2px);

      transition:box-shadow .12s ease, transform .12s ease;
      box-sizing:border-box;
    }
    /* Focused state: crisp ring + lift */
    #chat-hero .bubble:has(.prompt:focus-visible){
      box-shadow:
        0 0 0 3px rgba(59,130,246,.20),
        inset 0 1px 0 rgba(255,255,255,.85),
        inset 0 -1px 0 rgba(0,0,0,.04),
        0 6px 22px rgba(0,0,0,.10);
      transform: translateY(-1px);
    }

    /* ---------------- Multiline input (restyled) ------------- */
    #chat-hero .prompt{
      flex:1 1 auto;
      display:block;
      width:100%;
      min-height:1.35em;
      font-size:clamp(16px, 2.2vw, 20px);
      line-height:1.4;
      color:#0b0b0c;

      /* no borders—clean pill interior */
      border:0;
      background:transparent;
      outline:0;
      caret-color:#0b0b0c;
      resize:none;
      overflow:hidden;
      padding:2px 0 0 0;

      white-space:pre-wrap;
      word-break:break-word;
      overflow-wrap:anywhere;
      -webkit-appearance:none; appearance:none;

      transition:opacity var(--fade) ease;
      opacity:1;
    }
    #chat-hero .prompt.is-fading{ opacity:0; }
    #chat-hero .prompt::placeholder{
      color:#99A2AF; /* softer muted */
      opacity:.95;
    }

    /* ------------------ Send button (kept logic, refined look) ---------- */
    #chat-hero .send{
      position:absolute;
      right:8px;
      top:50%;
      transform:translateY(-50%);
      width:var(--sendSize);
      height:var(--sendSize);
      border-radius:999px;
      border:1px solid #0b0b0c;
      background:#0b0b0c;
      display:grid;
      place-items:center;
      cursor:pointer;
      transition:transform .12s ease, background-color .12s ease, box-shadow .12s ease, border-color .12s ease;
      box-shadow:
        0 2px 6px rgba(0,0,0,.14),
        0 10px 24px rgba(0,0,0,.10);
      touch-action:manipulation;
      z-index:3;
    }
    #chat-hero .send:hover{
      background:#111315;
      transform:translateY(calc(-50% - 1px));
      box-shadow:
        0 4px 10px rgba(0,0,0,.16),
        0 16px 32px rgba(0,0,0,.12);
    }
    #chat-hero .send:active{ transform:translateY(-50%); }
    #chat-hero .send svg{
      width:calc(var(--sendSize) * var(--sendIconRatio));
      height:calc(var(--sendSize) * var(--sendIconRatio));
      display:block;
      fill:none;
      stroke:#fff;
      stroke-width:2;
      stroke-linecap:round;
      stroke-linejoin:round;
    }

    /* ------------------ Reduced motion ------------------ */
    @media (prefers-reduced-motion: reduce){
      #chat-hero .send, #chat-hero .prompt{ transition:none; }
      #chat-hero .ws-word, #chat-hero .ws-sway, #chat-hero .ws-text{ animation:none !important; opacity:1 !important; transform:none !important; }
    }

    /* Audiowide, solid black (logo/title) */
    #chat-hero .hero-title .title-onx{
      font-family:"Audiowide", ui-sans-serif, system-ui, -apple-system, "SF Pro Text", "Segoe UI", Roboto, "Helvetica Neue", Arial;
      font-weight:400; color:#0B0B0C; background:none; -webkit-background-clip:initial; background-clip:initial; animation:none;
    }

    /* === Subtitle styling === */
    #hero-onx-title .hero-subtitle{
      display:block; margin-top:.45em; line-height:1.25; letter-spacing:0.01em;
      max-width: 38ch; margin-left:auto; margin-right:auto; text-align:center; text-wrap:balance;
      font-family: "SF Pro Text", -apple-system, system-ui, "Segoe UI", Roboto, Arial, sans-serif;
      font-weight:500; font-size:clamp(16px, 1.6vw, 24px); color:#5B6572;
    }
    @media (min-width: 400px){
      #hero-onx-title .hero-subtitle{ max-width:50ch; }
    }

    /* =========================
       DOWNLOAD BUTTON STYLES
       ========================= */
    #chat-hero .download-spot{
      position:absolute;
      left:50%;
      /* position exactly below bubble: center (50vh) + half bubble height + gap */
      top: calc(50vh + (var(--bubbleH) / 2) + var(--dlGap));
      transform: translateX(-50%);
      width: max-content;
      z-index: 2;
    }

    #chat-hero .dl-btn{
      position: relative;
      display: inline-flex;
      align-items: center;
      gap: 10px;
      height: var(--dlH);
      padding: 0 var(--dlPX);
      border-radius: var(--dlRadius);
      background: #0B0B0C;
      color: #fff;
      font-weight: 600;
      font-size: var(--dlFont);
      letter-spacing: .01em;
      border: 1px solid rgba(255,255,255,.12);
      box-shadow:
        inset 0 1px 0 rgba(255,255,255,.08),
        0 6px 18px rgba(0,0,0,.18),
        0 2px 6px rgba(0,0,0,.10);
      -webkit-font-smoothing:antialiased;
      cursor: pointer;
      user-select: none;
      -webkit-tap-highlight-color: transparent;
      transition: transform .12s ease, box-shadow .12s ease, background-color .12s ease;
      outline: none;
    }
    #chat-hero .dl-btn:hover{
      transform: translateY(-1px);
      box-shadow:
        inset 0 1px 0 rgba(255,255,255,.10),
        0 10px 28px rgba(0,0,0,.22),
        0 3px 8px rgba(0,0,0,.12);
    }
    #chat-hero .dl-btn:active{ transform: translateY(0); }

    /* Sheen (subtle Apple-style) */
    #chat-hero .dl-btn::after{
      content:"";
      position:absolute; inset:0;
      border-radius: inherit;
      /* very soft diagonal sheen sweep */
      background:
        linear-gradient(120deg,
          rgba(255,255,255,0) 0%,
          rgba(255,255,255,var(--dlSheenOpacity)) 12%,
          rgba(255,255,255,0) 26%) ;
      background-size: 200% 100%;
      mix-blend-mode: soft-light;
      pointer-events:none;
      animation: dl-sheen var(--dlSheenSpeed) linear infinite;
      opacity: .9;
    }
    @keyframes dl-sheen{
      0%   { background-position: -120% 0; }
      100% { background-position: 120% 0; }
    }

    #chat-hero .dl-ico{
      width: 1.15em; height: 1.15em; display: inline-block;
    }
    #chat-hero .dl-ico svg{ width:100%; height:100%; display:block; fill:#fff; }

    /* OS switching: show only the detected icon */
    #chat-hero .ico-mac, #chat-hero .ico-win{ display:none; }
    #chat-hero.os-mac  .ico-mac{ display:inline-block; }
    #chat-hero.os-win  .ico-win{ display:inline-block; }

    /* Button text */
    #chat-hero .dl-label{ display:inline-block; line-height:1; }
  </style>

  <!-- Background floating words (starts ONLY after user scrolls) -->
  <div
    class="word-stream"
    data-rate="900"
    data-dmin="9"
    data-dmax="14"
    data-band="12"
    data-lanes="5"
    data-gap="1000"
    data-max="28"
    aria-hidden="true">
    <script>
      (() => {
        const STREAM_WORDS = [
          "CODE","CREATE","PLAN","EXECUTE","DESIGN","PRODUCE","MASTER","RESEARCH","INTELLIGENCE","PASSIVE INCOME",
          "BUILD","LAUNCH","SHIP","SCALE","AUTOMATE","OPTIMIZE","MONETIZE","DEPLOY","ANALYZE","STRATEGIZE",
          "REDEFINE","ITERATE","POLISH","EXCEL","FOCUS","SIMPLIFY","ELEVATE","ACCELERATE","GROW","LIMITLESS","UNSTOPPABLE",
          "DOMINATE","DISRUPT","CONQUER","COMMAND","OUTPERFORM","WIN","AMPLIFY","ASCEND","LEVERAGE","CONVERT",
          "CLOSE","SECURE","TRANSFORM","EVOLVE","PROFIT","LEAD","PREVAIL","OWN","CAPTURE","INNOVATE"
        ];

        const host = document.currentScript.parentElement;
        const RATE   = +(host.dataset.rate  || 900);
        const DMIN   = +(host.dataset.dmin  || 9);
        const DMAX   = +(host.dataset.dmax  || 14);
        const BAND   = +(host.dataset.band  || 12);
        const LANES  = Math.max(1, +(host.dataset.lanes || 5));
        const LANE_GAP = +(host.dataset.gap || 1000);
        const MAXN   = +(host.dataset.max   || 28);

        const EARLY_COUNT = 6;
        const EARLY_GAP   = Math.max(220, RATE * 0.35);
        const EARLY_DUR_MULT = 0.72;
        const SEED_BURST  = 4;

        const laneOffsets = Array.from({length: LANES}, (_, i) => (LANES === 1) ? 0 : ((i/(LANES-1))*2 - 1) * BAND);
        const laneReadyAt = new Array(LANES).fill(0);

        const shuffle = a => { for(let i=a.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j]] } return a; };
        let queue = shuffle([...STREAM_WORDS]);

        function pickLane(now){
          const free = [];
          for (let i=0;i<LANES;i++) if (now >= laneReadyAt[i]) free.push(i);
          return free.length ? free[Math.floor(Math.random()*free.length)] : -1;
        }

        function spawn(opts = { seed:false, early:false }){
          const now  = performance.now();
          const lane = pickLane(now);
          if (lane < 0) return;

          if (queue.length === 0) queue = shuffle([...STREAM_WORDS]);
          const phrase = queue.pop();

          let dur  = DMIN + Math.random()*(DMAX - DMIN);
          if (opts.early) dur *= EARLY_DUR_MULT;

          const scale  = 0.96 + Math.random()*0.14;
          const laneX  = laneOffsets[lane];

          const laneSpan = (LANES === 1) ? (BAND*2) : (2*BAND)/(LANES-1);
          const swayMax  = Math.max(0.6, (laneSpan*0.38));
          const sway     = (Math.random()<.5?-1:1) * (0.6 + Math.random()*(swayMax - 0.6));
          const swayDur  = 6 + Math.random()*6;

          const outer = document.createElement('span');
          outer.className = 'ws-word';
          outer.style.setProperty('--dur',   dur.toFixed(2)+'s');
          outer.style.setProperty('--x',     laneX.toFixed(2)+'%');
          outer.style.setProperty('--scale', scale.toFixed(2));
          const delaySeconds = opts.seed ? 0 : (opts.early ? Math.random()*0.15 : Math.random()*0.6);
          outer.style.setProperty('--delay', delaySeconds.toFixed(2) + 's');

          const sw = document.createElement('span'); sw.className = 'ws-sway';
          sw.style.setProperty('--sway', ( (Math.random()<.5?-1:1) * (0.6 + Math.random()*3) ).toFixed(2)+'%' );
          sw.style.setProperty('--swaydur', (6 + Math.random()*6).toFixed(2)+'s');

          const t = document.createElement('span'); t.className = 'ws-text'; t.textContent = phrase;

          sw.appendChild(t); outer.appendChild(sw); host.appendChild(outer);

          const nodes = host.querySelectorAll('.ws-word'); if (nodes.length > MAXN) nodes[0]?.remove();
          laneReadyAt[lane] = now + LANE_GAP;
          outer.addEventListener('animationend', () => outer.remove(), {once:true});
        }

        let started = false, earlyLeft = EARLY_COUNT, timerId = null;
        function scheduleNext(delay){
          timerId = setTimeout(() => {
            const useEarly = earlyLeft > 0;
            spawn({ early:useEarly });
            if (useEarly) earlyLeft--;
            scheduleNext( (earlyLeft > 0) ? EARLY_GAP : RATE );
          }, delay);
        }

        function start(){
          if (started) return;
          started = true;
          for (let i=0; i<SEED_BURST; i++) spawn({ seed:true, early:true });
          scheduleNext(0);
        }

        window.addEventListener('wheel', start, {once:true, passive:true});
        window.addEventListener('scroll', start, {once:true, passive:true});
        window.addEventListener('touchmove', start, {once:true, passive:true});

        const obs = new MutationObserver(() => {
          if (!document.body.contains(host) && timerId){ clearTimeout(timerId); obs.disconnect(); }
        });
        obs.observe(document.body, {childList:true, subtree:true});
      })();
    </script>
  </div>

  <!-- Title -->
  <h1 class="hero-title" id="hero-onx-title">
    <span class="title-blur">
      <span class="fit-line">Your Unfair Advantage.</span>
      <!-- Subtitle -->
    <span class="hero-subtitle">Superpowered AI—research, design, and execute without limits.</span>
    </span>
    

    <style>
      /* Keep existing mobile/desktop tweaks for title */
      #hero-onx-title .br-mobile { display: none; }
      @media (min-width:601px){
        #hero-onx-title{ --desktop-gap: 0.35em; }
        #hero-onx-title .title-onx{ display:inline-block; margin-right: var(--desktop-gap); }
      }
      @media (max-width:600px){
        #hero-onx-title .br-mobile { display: inline; }
        #hero-onx-title .title-onx{ margin-right: 0; }
      }
    </style>
  </h1>

  <style>
    /* Only affect this title on mobile */
    @media (max-width:600px){
      #hero-onx-title{
        --xpad: 60px; --ypad: 0px; --outer-top: 0px; --outer-bottom: 0px;
        margin: var(--outer-top) 0 var(--outer-bottom) !important;
      }
      #hero-onx-title .title-blur{
        display:block; width:100vw; padding: var(--ypad) var(--xpad); box-sizing:border-box; line-height:0;
      }
      #hero-onx-title .fit-line{
        display:block; white-space:nowrap; line-height:1.05; font-weight:700; font-size:120px; transform:none;
      }
    }
  </style>

  <script>
    /* Fit title on mobile and sync bubble height */
    (function(){
      const root  = document.getElementById('hero-onx-title');
      const line  = root?.querySelector('.fit-line');
      const shell = root?.querySelector('.title-blur');
      const mq    = window.matchMedia('(max-width: 600px)');
      const BASE  = 120;

      function fitOnce(){
        if(!root || !line || !shell) return;
        if(!mq.matches){ line.style.fontSize = ''; root.style.marginTop=''; return; }

        line.style.fontSize = BASE + 'px';
        const rectW = shell.getBoundingClientRect().width;
        const cs    = getComputedStyle(shell);
        const pad   = (parseFloat(cs.paddingLeft)||0) + (parseFloat(cs.paddingRight)||0);
        const available = Math.max(0, rectW - pad);
        const needed    = Math.max(1, line.scrollWidth);
        const scale     = Math.min(1, available / needed);
        line.style.fontSize = (BASE * scale) + 'px';

        const prev = root.previousElementSibling;
        if (prev){
          const gap = Math.round(root.getBoundingClientRect().top - prev.getBoundingClientRect().bottom);
          root.style.marginTop = (gap > 0 ? (-gap) : 0) + 'px';
        } else {
          root.style.marginTop = '0px';
        }
      }

      function fit(){ fitOnce(); requestAnimationFrame(fitOnce); }
      ['DOMContentLoaded','load','resize','orientationchange','pageshow'].forEach(ev=>{
        window.addEventListener(ev, fit, {passive:true});
      });
      if (document.fonts?.ready) document.fonts.ready.then(fit).catch(()=>{});
      fit();
    })();
  </script>

  <!-- The centered bubble -->
  <div class="bubble-spot">
    <form class="bubble" action="#" method="get" onsubmit="return false">
      <textarea
        class="prompt"
        id="prompt-input"
        rows="1"
        autocomplete="off"
        autocapitalize="off"
        autocorrect="off"
        spellcheck="false"
        aria-label="Ask something"
        placeholder="Tell me to build something legendary…"
      ></textarea>

      <button class="send" type="button" aria-label="Send">
        <svg viewBox="0 0 24 24" aria-hidden="true">
          <path d="M12 19V5M12 5l-6 6M12 5l6 6"/>
        </svg>
      </button>
    </form>
  </div>

 <!-- ===== Download button (below the bubble) ===== -->
<div class="download-spot">
  <button class="dl-btn" type="button" id="onx-download">
    <span class="dl-ico ico-mac" aria-hidden="true">
      <!-- Apple logo -->
      <svg viewBox="0 0 24 24"><path d="M16.365 13.246c.03 3.23 2.83 4.307 2.86 4.32-.023.074-.447 1.518-1.474 3-0.888 1.29-1.812 2.58-3.26 2.604-1.43.026-1.89-.84-3.52-.84-1.63 0-2.15.813-3.5.867-1.404.053-2.477-1.39-3.372-2.675-1.84-2.64-3.25-7.46-1.36-10.73.94-1.63 2.62-2.67 4.45-2.698 1.39-.027 2.71.93 3.52.93.81 0 2.43-1.15 4.11-0.98.7.03 2.66.28 3.92 2.11-.1.06-2.34 1.36-2.32 4.09zM13.9 3.6c.76-.92 1.27-2.2 1.13-3.49-1.09.044-2.41.72-3.2 1.64-.7.81-1.31 2.12-1.14 3.37 1.2.093 2.44-.61 3.21-1.52z"/></svg>
    </span>
    <span class="dl-ico ico-win" aria-hidden="true">
      <!-- Windows logo -->
      <svg viewBox="0 0 24 24"><path d="M2 3.5l9-1.3v9.1H2V3.5zm9 9.2v9.1l-9-1.3V12.7h9zM22 2v9.3h-9.5V3.3L22 2zm-9.5 10.7H22V22l-9.5-1.3v-8z"/></svg>
    </span>
    <span class="dl-label">Download</span>
  </button>
</div>

<script>
  document.getElementById("onx-download").addEventListener("click", function(e) {
    e.preventDefault(); // prevent default button behavior
    window.location.href = "SignUp.html"; // redirect to SignUp.html
  });
</script>


  <script>
    /* ===== Hero type-in lines (edgy edition) ===== */
    const SUGGESTIONS = [
      "Design a ruthless—but legal—negotiation script that cuts supplier prices 25%.",
      "Turn $10k into $100k in 12 months: step-by-step arbitrage game plan.",
      "Find the fastest path to 1,000 paying users for an AI app—zero fluff.",
      "Reverse-engineer my top competitor’s funnel and out-convert them by 30%.",
      "Automate cold outreach that feels human—deliver 10 booked calls per day.",
      "Blueprint a content flywheel that prints $50k/month in inbound leads.",
      "Identify 3 undervalued micro-SaaS buys under $2M we can acquire now.",
      "Draft a no-BS investor memo that raises $1M with traction-light signals.",
      "Ship a viral ONX launch that hits #1 on Product Hunt within 48 hours.",
      "Audit pricing and add a premium tier that lifts ARPU by 40%."
    ];
    const TYPER = { startDelay:500, type:34, hold:1600, gap:650, loop:true };

    (function initTypewriter(){
      const input  = document.getElementById('prompt-input');
      const bubble = document.querySelector('#chat-hero .bubble');
      const hero   = document.getElementById('chat-hero');
      if (!input || !bubble || !hero) return;

      input.addEventListener('keydown', e => e.preventDefault());
      input.addEventListener('beforeinput', e => e.preventDefault());

      function autosize(){ input.style.height = 'auto'; input.style.height = input.scrollHeight + 'px'; }
      function syncBubbleH(){ hero.style.setProperty('--bubbleH', bubble.getBoundingClientRect().height + 'px'); }

      const ro = new ResizeObserver(syncBubbleH); ro.observe(bubble);

      const reduceMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      if (reduceMotion) { input.value = SUGGESTIONS[0] || ""; autosize(); syncBubbleH(); return; }

      let i = 0, j = 0;
      function typeNextChar(){
        const phrase = SUGGESTIONS[i] || "";
        input.classList.remove('is-fading');
        if (j < phrase.length){
          input.value += phrase[j++]; autosize(); syncBubbleH(); setTimeout(typeNextChar, TYPER.type);
        } else {
          setTimeout(() => fadeOutThenAdvance(), TYPER.hold);
        }
      }
      function fadeOutThenAdvance(){
        input.classList.add('is-fading');
        const onEnd = (e) => {
          if (e.propertyName && e.propertyName !== 'opacity') return;
          input.removeEventListener('transitionend', onEnd);
          input.value = ""; autosize(); syncBubbleH();
          i = (i + 1) % SUGGESTIONS.length; j = 0;
          setTimeout(typeNextChar, TYPER.gap);
        };
        input.addEventListener('transitionend', onEnd, { once:true });
        setTimeout(() => { if (input.classList.contains('is-fading')) input.dispatchEvent(new Event('transitionend')); }, 1000);
      }
      input.value = ""; autosize(); syncBubbleH(); setTimeout(typeNextChar, TYPER.startDelay);
      window.addEventListener('resize', () => { autosize(); syncBubbleH(); });
    })();

    /* ===== OS detection + button routing ===== */
    (function(){
      const host = document.getElementById('chat-hero');
      const btn  = document.getElementById('onx-download');
      if (!host || !btn) return;

      // very simple detection (good enough for icon swap)
      const ua = navigator.userAgent.toLowerCase();
      const isMac = ua.includes('mac os x') || ua.includes('macintosh') || ua.includes('mac');
      host.classList.add(isMac ? 'os-mac' : 'os-win');

      btn.addEventListener('click', () => {
        const mac = btn.getAttribute('data-mac-url') || '#';
        const win = btn.getAttribute('data-win-url') || '#';
        const url = isMac ? mac : win;
        // Navigate to the proper installer URL
        window.location.href = url;
      });
    })();
  </script>
</section>
<!--======================================================================================================================================================================-->
<!--=====================================================================CHAT END=================================================================================================-->
