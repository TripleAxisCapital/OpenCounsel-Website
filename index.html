<!-- Sync Successful -->

<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>

  <!-- ───── OpenCounsel.ca (www): SEO + Favicon using logo1.svg ───── -->
<title>ONX - Limitless AI </title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<meta name="description" content="The AI Workspace. Without Limits. Private, polished, and powerful.">
<link rel="canonical" href="https://www.opencounsel.ca/">
<meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
<link rel="sitemap" type="application/xml" href="https://www.opencounsel.ca/sitemap.xml">
<!-- Internationalization -->
<link rel="alternate" href="https://www.opencounsel.ca/" hreflang="x-default">
<link rel="alternate" href="https://www.opencounsel.ca/en/" hreflang="en">

<!-- Performance & UX -->
<link rel="preconnect" href="https://cdn.opencounsel.ca" crossorigin>
<link rel="dns-prefetch" href="//cdn.opencounsel.ca">
<link rel="preload" as="font" href="/fonts/InterVariable.woff2" type="font/woff2" crossorigin>
<link rel="preload" as="image" href="/images/og/opencounsel-hero.jpg" fetchpriority="high">
<!-- Preload local mask logo to ensure instant swap -->
<meta http-equiv="x-dns-prefetch-control" content="on">
<meta name="theme-color" content="#0B1B2B">

<!-- Icons (use logo1.svg for favicon) -->
<link rel="icon" href="/Oicon.svg?v=20250927" type="image/svg+xml" sizes="any">



<!-- Open Graph / Facebook -->
<meta property="og:type" content="website">
<meta property="og:site_name" content="ONX">
<meta property="og:title" content="The AI Workspace. Without Limits.">
<meta property="og:description" content="The AI Workspace. Without Limits.">
<meta property="og:url" content="https://www.opencounsel.ca/">
<meta property="og:image" content="https://www.opencounsel.ca/images/og/opencounsel-1200x630.jpg">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">

<!-- Twitter / X -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@OpenCounselAI">
<meta name="twitter:title" content="ONX — The AI Workspace. Without Limits.">
<meta name="twitter:description" content="The AI Workspace. Without Limits.">
<meta name="twitter:image" content="https://www.opencounsel.ca/images/og/opencounsel-1200x630.jpg">

<!-- Structured Data (Organization/WebSite) — point logo to logo1.svg -->
<script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@graph":[
    {
      "@type":"Organization",
      "name":"ONX",
      "url":"https://www.opencounsel.ca/",
      "logo":"https://www.opencounsel.ca/icons/logo1.svg",
      "sameAs":[
        "https://x.com/OpenCounselAI",
        "https://www.linkedin.com/company/opencounsel",
        "https://github.com/opencounsel"
      ]
    },
    {
      "@type":"WebSite",
      "url":"https://www.opencounsel.ca/",
      "name":"ONX",
      "potentialAction":{
        "@type":"SearchAction",
        "target":"https://www.opencounsel.ca/search?q={query}",
        "query-input":"required name=query"
      }
    }
  ]
}
</script>
<!-- ─────────────────────────────────────────────────────────────── -->

<!-- Pretty URL (client-side mask) -->
<script>
  window.ONX = { base:"", slug:"Home", file:"/index.html" }; // ← change per page

  (function(L,C){try{
    var B=C.base||"", S="/"+(C.slug||"home"), F=C.file||"/index.html";
    var p=L.pathname.replace(/\/+$/,"");
    if(B && p.startsWith(B)) p=p.slice(B.length)||"/";
    if(p===F || p==="/") history.replaceState(null,"",B+S+L.search+L.hash);
  }catch(_){}})(location, window.ONX);
</script>

  <!-- iOS/Standalone (lets users hide Safari UI when launched from Home Screen) -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="ONX">
  <!-- Optional icons/manifest (add these files to fully enable the standalone PWA look) -->
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <link rel="manifest" href="/manifest.webmanifest">
  <meta name="theme-color" content="#0B1B2B">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <!-- Icons + Tailwind -->
  <script src="https://unpkg.com/@phosphor-icons/web"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: { sans: ['Inter','ui-sans-serif','system-ui'] },
          colors: {
            oc: { ink:'#0A0D10', soft:'#F5F7F9', line:'#E7EDF2', accent:'#5B8CFF', lilac:'#E7E7FF' }
          },
          boxShadow: {
            card:'0 6px 30px rgba(16,24,40,0.08)',
            glow:'0 0 0 1px rgba(255,255,255,.06), 0 10px 30px rgba(16,24,40,.18)'
          }
        }
      }
    }
  </script>

  <style>
    /* ================================
       GLOBAL CONTROLS
       ================================ */
    :root {
      --pad-mobile-x: 24px;
      --pad-desktop-x: 32px;
      --hamburger-inset: 13px;
      /* Global header roundness */
      --header-radius: 28px;
      /* Header inner padding (per side, per breakpoint) */
      --header-pad-left-mobile: calc(var(--pad-mobile-x) + 12px);
      --header-pad-right-mobile: calc(var(--pad-mobile-x) + 12px);
      --header-pad-left-desktop: calc(var(--pad-desktop-x) + 16px);
      --header-pad-right-desktop: calc(var(--pad-desktop-x) + 16px);

      /* ==== Global Scroll-Blur Controls (content inside cards) ==== */
      --scroll-blur-start: 16px;
      --scroll-blur-end: 0px;
      --scroll-blur-duration: 1100ms; /* smoother */
      --scroll-blur-ease: cubic-bezier(.16,1,.3,1); /* Apple-y ease-out */
      --scroll-blur-opacity-start: .65;
      --scroll-blur-opacity-end: 1;
      --scroll-blur-translate: 8px;

      /* ==== Card backdrop blur controls (the glass card itself) ==== */
      --card-blur-start: 12px;
      --card-blur-end: 0px;
      --card-blur-duration: 900ms;
      --card-blur-ease: cubic-bezier(.16,1,.3,1);
    }

    /* Kill horizontal scroll without breaking sticky */
    html, body { max-width: 100%; overflow-x: clip !important; }
    @supports not (overflow-x: clip) { html, body { overflow-x: hidden !important; } }
    .section-clip { position: relative; overflow-x: clip; }

    .oc-container { padding-left: var(--pad-mobile-x); padding-right: var(--pad-mobile-x); }
    @media (min-width: 1024px) { .oc-container { padding-left: var(--pad-desktop-x); padding-right: var(--pad-desktop-x); } }
    ::selection{background:#5B8CFF;color:#fff}

    @media (prefers-reduced-motion: no-preference) {
      .reveal { opacity:0; transform: translateY(18px) scale(.98); transition: opacity .6s ease, transform .6s ease; }
      .reveal.in { opacity:1; transform: translateY(0) scale(1); }
      .tilt:hover{ transform: translateY(-2px) scale(1.01); }
      .tilt{ transition: transform .25s ease; }
    }

    @keyframes logoIntro { from { transform: translateY(6px) scale(.92); opacity:0 } to { transform: translateY(0) scale(1); opacity:1 } }
    @keyframes gradientShift { 0%{background-position:0% 50%} 50%{background-position:100% 50%} 100%{background-position:0% 50%} }

    /* ========= PRIMITIVES ========= */
    .g-grad, .grad-anim{
      background: linear-gradient(var(--angle, 135deg), var(--from, #0a1f44cc), var(--via, #0b3d3dcc), var(--to, #064420cc));
      background-size: 300% 300%; animation: gradientShift var(--speed, 16s) ease-in-out infinite; will-change: background-position;
    }
    .animated-gradient { background-size:300% 300%; animation:gradientShift 16s ease-in-out infinite; will-change:background-position; }

    @keyframes heroLogoReveal {
      0%   { opacity: 0; filter: blur(8px); transform: translateY(6px) scale(.985); }
      60%  { opacity: 1; filter: blur(1.5px); transform: translateY(0) scale(1.000); }
      100% { opacity: 1; filter: blur(0); transform: translateY(0) scale(1); }
    }


    .grad-text{
      background: linear-gradient(var(--angle,135deg), var(--from,#0a1f44cc), var(--via,#0b3d3dcc), var(--to,#064420cc));
      background-size: 300% 300%; animation: gradientShift var(--speed,16s) ease-in-out infinite;
      -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; color: transparent;
    }

  </style>

<style>
  :root { --pad-top: 112px; }
  .padTop { padding-top: var(--pad-top); }
</style>
<link href="https://fonts.googleapis.com/css2?family=Audiowide&display=swap" rel="stylesheet">

</head>





<!--========================== BODY ========================== -->

<body class="bg-white text-oc-ink font-sans antialiased">

  <!-- Load the header component -->
  <script type="module" src="/assets/onx-header.js"></script>

  <!-- Place the header here -->
  <onx-header
    width-flat="75%"
    max-w="1200px"
    pad-flat-top="0rem"
    pad-flat-bottom="0rem"
    pad-float-top-mobile=".75rem"
    pad-float-bottom-mobile=".25rem"
    pad-float-top-desktop="1rem"
    pad-float-bottom-desktop=".25rem"
    threshold="8">

    <!-- Extra center nav links -->

    <!-- Extra right-side action -->
  </onx-header>

<!--=======================================================================START===============================================================================================-->
<!--======================================================================CHAT SECTION================================================================================================-->
<!-- ===== Full-screen Chat Hero (Apple-minimal) — centered bubble + background word stream ===== -->
<section id="chat-hero" aria-label="Chat hero">
  <style>
    /* ---------------- Design tokens ---------------- */
    #chat-hero{
      --bg:#ffffff;
      --ink:#0B0B0C;
      --muted:#77808d;
      --line:#E6E8EC;

      --radius:28px;                 /* bubble radius 28 */
      --bubbleH:78px;                /* initial min bubble height (auto-updates via JS) 78 */
      --maxW:940px;                  /* max bubble width */
      --screenPadX:20px;             /* bubble -> viewport side padding */
      --titleGap:28px;               /* space between title and bubble */

      /* Animation timings */
      --fade:360ms;                  /* fade-out duration for sentence swap */

      /* === Edit me (mobile & desktop controls) === */
      /* Mobile (default) */
      --padX-m:16px;
      --padY-m:14px;
      --sendScale-m:.50;

      /* Desktop (>=768px) */
      --padX-d:20px;
      --padY-d:18px;
      --sendScale-d:.75;

      /* Base + active mappings */
      --padX:var(--padX-m);
      --padY:var(--padY-m);
      --sendBase:56px;
      --sendScale:var(--sendScale-m);
      --sendSize:calc(var(--sendBase) * var(--sendScale));
      --sendIconRatio:.3928571429;   /* 22/56 */

      --shadowA:0 1px 0 rgba(0,0,0,.04);
      --shadowB:0 18px 40px rgba(0,0,0,.06);

      /* Word stream colors */
      --c1:#3f6768;
      --c2:#57c7d9;

      /* Track length for floating words */
      --trail: 2vh;

      /* Travel distance upward */
      --rise: calc(125vh + (var(--trail) * 0.5));

      /* START OFF-SCREEN to avoid pop-ins */
      --startTop: 105%;

      /* Title legibility shield (no visible plate; adaptive glow) */
      --titleStroke: .35px;          /* micro stroke width */
      --titleGlow1: .70;             /* inner halo strength */
      --titleGlow2: .55;             /* mid halo */
      --titleGlow3: .35;             /* outer halo */

      /* Section edge fades (Apple-style blend) */
      --fadeH-bottom: 14vh;          /* bottom reveal fade height */
      --fadeH-top: 10vh;             /* top dissolve fade height */
    }

    @media (min-width:768px){
      #chat-hero{
        --padX:var(--padX-d);
        --padY:var(--padY-d);
        --sendScale:var(--sendScale-d);
        --sendSize:calc(var(--sendBase) * var(--sendScale));
        --fadeH-bottom: 16vh;
        --fadeH-top: 12vh;
      }
    }

    /* --------------- Section layout --------------- */
    #chat-hero{
      position:relative;
      min-height: calc(100vh + var(--trail));
      min-height: calc(100svh + var(--trail));
      background:var(--bg);
      box-sizing:border-box;
      isolation:isolate;
      -webkit-tap-highlight-color: transparent;
      font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "SF Pro Text",
                   "Segoe UI", Roboto, "Helvetica Neue", Arial, "Apple Color Emoji",
                   "Segoe UI Emoji";
      -webkit-font-smoothing:antialiased;
      text-rendering:optimizeLegibility;
      color:var(--ink);
      overflow:hidden;
    }

    /* ---- Apple-style edge fades (above words, below UI) ---- */
    #chat-hero::before,
    #chat-hero::after{
      content:"";
      position:absolute;
      left:0; right:0;
      pointer-events:none;
      z-index:1; /* between word-stream (0) and UI (2) */
    }
    /* top dissolve */
    #chat-hero::before{
      top:0; height:var(--fadeH-top);
      background:linear-gradient(to bottom, var(--bg) 0%, rgba(255,255,255,0) 100%);
      /* Dark-mode friendly: var(--bg) adapts below */
    }
    /* bottom reveal */
    #chat-hero::after{
      bottom:0; height:var(--fadeH-bottom);
      background:linear-gradient(to top, var(--bg) 0%, rgba(255,255,255,0) 100%);
    }

    /* ---------------- Background word stream ---------------- */
    #chat-hero .word-stream{
      position:absolute;
      inset:0;
      z-index:0;                 /* stays behind everything */
      pointer-events:none;
      overflow:hidden;
    }

    /* rising word container */
    #chat-hero .ws-word{
      position:absolute;
      left:50%;
      top:var(--startTop);
      transform:translate3d(-50%,0,0) scale(var(--scale,1));
      margin-left:var(--x,0%);
      opacity:0;
      will-change:transform,opacity;
      animation:ws-rise var(--dur,10s) cubic-bezier(.22,.61,.36,1) var(--delay,0s) forwards;
    }
    @keyframes ws-rise{
      0%   { opacity:0; transform:translate3d(calc(-50% + var(--x,0%)), 0, 0) scale(var(--scale,1)); }
      10%  { opacity:1; }
      100% { opacity:1; transform:translate3d(calc(-50% + var(--x,0%)), calc(var(--rise) * -1), 0) scale(var(--scale,1)); }
    }

    /* lateral sway wrapper */
    #chat-hero .ws-sway{
      display:inline-block;
      will-change:transform;
      animation:ws-sway var(--swaydur,8s) ease-in-out var(--delay,0s) infinite alternate;
    }
    @keyframes ws-sway{
      from { transform:translateX(0); }
      to   { transform:translateX(var(--sway,3%)); }
    }

    /* gradient/shimmering text */
    #chat-hero .ws-text{
      display:block;
      font-family: Inter, -apple-system, system-ui, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      font-size:clamp(28px,8vw,72px);
      font-weight:500;
      letter-spacing:0.26em;
      line-height:1.15;
      text-transform:uppercase;
      white-space:nowrap;

      background:linear-gradient(120deg, var(--c1) 20%, var(--c2) 50%, var(--c1) 80%);
      background-size:220% 100%;
      -webkit-background-clip:text;
      background-clip:text;
      color:transparent;

      animation:
        ws-shimmer 8s ease-in-out infinite,
        ws-float   3.8s ease-in-out infinite alternate,
        ws-breathe 7s  ease-in-out infinite;
      will-change:background-position, filter, transform;
      text-shadow:none;
    }
    @keyframes ws-shimmer{ 0%{background-position:0% 50%} 100%{background-position:200% 50%} }
    @keyframes ws-float  { from{transform:translateY(0)} to{transform:translateY(-2px)} }
    @keyframes ws-breathe{
      0%,100% { filter:brightness(1) saturate(1); text-shadow:none; }
      50%     { filter:brightness(1.06) saturate(1.03); text-shadow:0 0 12px rgba(87,199,217,.12); }
    }

    /* ------------------ Foreground UI (above stream) --------------------- */
    #chat-hero .hero-title{ z-index:2; }
    #chat-hero .bubble-spot{ z-index:2; }

    /* ------------------ Title --------------------- */
    #chat-hero .hero-title{
      position:absolute;
      left:50%;
      top: calc(50vh - (var(--bubbleH) / 2) - var(--titleGap));
      transform: translate(-50%, -100%);
      margin:0;
      text-align:center;
      letter-spacing:-0.02em;
      line-height:1.1;
      font-weight:700;
      font-size:clamp(28px, 5.2vw, 54px);
      padding:0 12px;
    }

    /* Adaptive legibility shield (no plate; glow + micro stroke) */
    #chat-hero .hero-title .title-blur{
  -webkit-text-stroke: 0 transparent;   /* remove stroke that causes dots */
  text-shadow: none;                     /* kill inner glow */
  filter: drop-shadow(0 0 10px rgba(255,255,255,.9))
          drop-shadow(0 0 22px rgba(255,255,255,.6)); /* outside-only glow */
}


    /* --------------- Bubble spot (center) ---------- */
    #chat-hero .bubble-spot{
      position:absolute;
      left:50%;
      top:50vh;
      transform:translate(-50%, -50%);
      width:min(calc(100vw - (var(--screenPadX)*2)), var(--maxW));
      height:auto;
    }

    /* --------------- Chat bubble shell ------------- */
    #chat-hero .bubble{
      position:relative;
      width:100%;
      min-height:var(--bubbleH);
      height:auto;
      display:flex;
      align-items:center;
      border:1px solid var(--line);
      border-radius:var(--radius);
      background:#fff;
      box-shadow:var(--shadowA), var(--shadowB);
      padding-left:var(--padX);
      padding-right:calc(var(--padX) + var(--sendSize) + 14px);
      padding-top:var(--padY);
      padding-bottom:var(--padY);
      transition:box-shadow .15s ease;
      box-sizing:border-box;
    }

    /* Keyboard-only focus ring */
    #chat-hero .bubble:has(.prompt:focus-visible){
      box-shadow:0 0 0 2px #DBE3FF inset, var(--shadowA), var(--shadowB);
    }

    /* ---------------- Multiline input ------------- */
    #chat-hero .prompt{
      flex:1 1 auto;
      display:block;
      width:100%;
      min-height:1.35em;
      font-size:clamp(16px, 2.2vw, 22px);
      line-height:1.35;
      color:#0b0b0c;
      border:0; background:transparent; outline:0;
      caret-color:#0b0b0c;
      resize:none; overflow:hidden;
      padding:0;
      white-space:pre-wrap;
      word-break:break-word;
      overflow-wrap:anywhere;
      -webkit-appearance:none; appearance:none;
      transition:opacity var(--fade) ease;
      opacity:1;
    }
    #chat-hero .prompt.is-fading{ opacity:0; }
    #chat-hero .prompt::placeholder{ color:var(--muted); opacity:.95; }

    /* ---------------- Scalable Send button ---------- */
    #chat-hero .send{
      position:absolute;
      right:10px; top:50%; transform:translateY(-50%);
      width:var(--sendSize); height:var(--sendSize);
      border-radius:999px; border:1px solid #0b0b0c;
      background:#0b0b0c; display:grid; place-items:center;
      cursor:pointer;
      transition:transform .15s ease, background-color .15s ease, box-shadow .15s ease, border-color .15s ease;
      box-shadow:0 2px 6px rgba(0,0,0,.10), 0 10px 24px rgba(0,0,0,.08);
      touch-action:manipulation;
      z-index:3;
    }
    #chat-hero .send:hover{ background:#121212; transform:translateY(calc(-50% - 1px)); }
    #chat-hero .send:active{ transform:translateY(-50%); }
    #chat-hero .send svg{
      width:calc(var(--sendSize) * var(--sendIconRatio));
      height:calc(var(--sendSize) * var(--sendIconRatio));
      display:block; fill:none; stroke:#fff;
      stroke-width:2; stroke-linecap:round; stroke-linejoin:round;
    }

    /* ------------------ Dark mode ------------------ 
    @media (prefers-color-scheme: dark){
      #chat-hero{ --bg:#0B0B0C; --ink:#F3F6FB; --muted:#B8BFCA; --line:#22262D; }
      #chat-hero .bubble{ background:#0F1217; }
      #chat-hero .prompt{ color:#F3F6FB; caret-color:#F3F6FB; }
      #chat-hero .bubble:has(.prompt:focus-visible){
        box-shadow:0 0 0 2px #2A3550 inset, var(--shadowA), var(--shadowB);
      }
      /* Fades adapt automatically via var(--bg) */
      /* Title shield stays invisible yet effective on dark */
     /* #chat-hero .hero-title .title-blur{*/
  /*-webkit-text-stroke: 0 transparent;
  text-shadow: none;
  filter: drop-shadow(0 0 10px rgba(0,0,0,.9))
          drop-shadow(0 0 22px rgba(0,0,0,.6));
}

    } */

    /* ------------- Reduced motion ------------- */
    @media (prefers-reduced-motion: reduce){
      #chat-hero .send{ transition:none; }
      #chat-hero .prompt{ transition:none; }
      #chat-hero .ws-word, #chat-hero .ws-sway, #chat-hero .ws-text{
        animation:none !important; opacity:1 !important; transform:none !important;
      }
    }

    /* Audiowide, solid black (no breathing/shimmer) */
    #chat-hero .hero-title .title-onx{
      font-family:"Audiowide", ui-sans-serif, system-ui, -apple-system, "SF Pro Text", "Segoe UI", Roboto, "Helvetica Neue", Arial;
      font-weight:400;
      color:#0B0B0C;
      background:none;
      -webkit-background-clip:initial;
      background-clip:initial;
      animation:none;
    }
  </style>

  <!-- Background floating words (starts ONLY after user scrolls) -->
  <div
    class="word-stream"
    data-rate="900"
    data-dmin="9"
    data-dmax="14"
    data-band="12"
    data-lanes="5"
    data-gap="1000"
    data-max="28"
    aria-hidden="true">
    <script>
      (() => {
        const STREAM_WORDS = [
          "FOR ENTREPRENEURS","DESIGN","FOR INVESTORS",
          "FOR CREATORS","BUILD","FOR DEVELOPERS","AUTOMATE BUSINESS","CREATE",
          "FOR FOUNDERS","LAUNCH","FOR DESIGNERS","MARKETING",
          "SCALE","SHIP","INNOVATE","RESEARCH","OPTIMIZE","ANALYZE",
          "AUTOMATE","MONETIZE","SECURE","LIMITLESS","UNSTOPPABLE","DEPLOY","PROTOTYPE","ITERATE",
          "COLLABORATE","LEARN","FOCUS", "CODE", "SIMPLIFY","POLISH","ELEVATE",
          "REDEFINE","CRAFT","DISCOVER","STRATEGIZE","ORCHESTRATE",
          "ACCELERATE","EXCEL","MASTER",
          "FOR TRADERS","FOR HEDGE FUNDS","FOR EXECUTIVES","FOR PRODUCT TEAMS",
          "FOR SALES","FOR MARKETERS","FOR ANALYSTS","FOR ENGINEERS",
          "FOR WRITERS","FOR INVENTORS","FOR SCIENTISTS","FOR STUDENTS",
          "FOR EDUCATORS","FOR RESEARCHERS","FOR OPERATORS","FOR STARTUPS",
          "FOR ENTERPRISE","FOR LAW FIRMS","FOR LAWYERS","FOR AGENCIES",
          "FOR TEAMS","FOR SOLOPRENEURS","FOR BUILDERS"
        ];

        const host = document.currentScript.parentElement;
        const RATE   = +(host.dataset.rate  || 900);
        const DMIN   = +(host.dataset.dmin  || 9);
        const DMAX   = +(host.dataset.dmax  || 14);
        const BAND   = +(host.dataset.band  || 12);
        const LANES  = Math.max(1, +(host.dataset.lanes || 5));
        const LANE_GAP = +(host.dataset.gap || 1000);
        const MAXN   = +(host.dataset.max   || 28);

        /* Immediate, smooth start on first scroll */
        const EARLY_COUNT = 6;
        const EARLY_GAP   = Math.max(220, RATE * 0.35);
        const EARLY_DUR_MULT = 0.72;
        const SEED_BURST  = 4;  /* kick several words in right away */

        const laneOffsets = Array.from({length: LANES}, (_, i) => {
          return (LANES === 1) ? 0 : ((i/(LANES-1))*2 - 1) * BAND;
        });
        const laneReadyAt = new Array(LANES).fill(0);

        const shuffle = a => { for(let i=a.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]] } return a; };
        let queue = shuffle([...STREAM_WORDS]);

        function pickLane(now){
          const free = [];
          for (let i=0;i<LANES;i++) if (now >= laneReadyAt[i]) free.push(i);
          return free.length ? free[Math.floor(Math.random()*free.length)] : -1;
        }

        function spawn(opts = { seed:false, early:false }){
          const now  = performance.now();
          const lane = pickLane(now);
          if (lane < 0) return;

          if (queue.length === 0) queue = shuffle([...STREAM_WORDS]);
          const phrase = queue.pop();

          let dur  = DMIN + Math.random()*(DMAX - DMIN);
          if (opts.early) dur *= EARLY_DUR_MULT;

          const scale  = 0.96 + Math.random()*0.14;
          const laneX  = laneOffsets[lane];

          const laneSpan = (LANES === 1) ? (BAND*2) : (2*BAND)/(LANES-1);
          const swayMax  = Math.max(0.6, (laneSpan*0.38));
          const sway     = (Math.random()<.5?-1:1) * (0.6 + Math.random()*(swayMax - 0.6));
          const swayDur  = 6 + Math.random()*6;

          const outer = document.createElement('span');
          outer.className = 'ws-word';
          outer.style.setProperty('--dur',   dur.toFixed(2)+'s');
          outer.style.setProperty('--x',     laneX.toFixed(2)+'%');
          outer.style.setProperty('--scale', scale.toFixed(2));

          /* No negative delays; immediate entrance from bottom on scroll */
          const delaySeconds = opts.seed
            ? 0
            : (opts.early ? Math.random()*0.15 : Math.random()*0.6);
          outer.style.setProperty('--delay', delaySeconds.toFixed(2) + 's');

          const sw = document.createElement('span');
          sw.className = 'ws-sway';
          sw.style.setProperty('--sway',    sway.toFixed(2)+'%');
          sw.style.setProperty('--swaydur', swayDur.toFixed(2)+'s');

          const t = document.createElement('span');
          t.className = 'ws-text';
          t.textContent = phrase;

          sw.appendChild(t);
          outer.appendChild(sw);
          host.appendChild(outer);

          const nodes = host.querySelectorAll('.ws-word');
          if (nodes.length > MAXN) nodes[0]?.remove();

          laneReadyAt[lane] = now + LANE_GAP;
          outer.addEventListener('animationend', () => outer.remove(), {once:true});
        }

        let started = false, earlyLeft = EARLY_COUNT, timerId = null;
        function scheduleNext(delay){
          timerId = setTimeout(() => {
            const useEarly = earlyLeft > 0;
            spawn({ seed:false, early:useEarly });
            if (useEarly) earlyLeft--;
            const nextGap = (earlyLeft > 0) ? EARLY_GAP : RATE;
            scheduleNext(nextGap);
          }, delay);
        }

        function start(){
          if (started) return;
          started = true;

          /* Seed a few words immediately from bottom */
          for (let i=0; i<SEED_BURST; i++) spawn({ seed:true, early:true });

          /* Then continue at a quick cadence before normalizing */
          scheduleNext(0);
        }

        window.addEventListener('wheel', start, {once:true, passive:true});
        window.addEventListener('scroll', start, {once:true, passive:true});
        window.addEventListener('touchmove', start, {once:true, passive:true});

        const obs = new MutationObserver(() => {
          if (!document.body.contains(host) && timerId){
            clearTimeout(timerId);
            obs.disconnect();
          }
        });
        obs.observe(document.body, {childList:true, subtree:true});
      })();
    </script>
  </div>

 <!-- Title (mobile: single line, max size; auto-squash gap above; desktop unchanged) -->
<h1 class="hero-title" id="hero-onx-title">
  <span class="title-blur">
    <span class="fit-line">
      <span class="title-onx">ONX.</span><br class="br-mobile">Your Unfair Advantage.
    </span>
  </span>

  <style>
    /* Hide the mobile break by default (desktop) */
    #hero-onx-title .br-mobile { display: none; }

    /* Desktop only: add adjustable gap after "ONX." */
    @media (min-width:601px){
      #hero-onx-title{ --desktop-gap: 0.35em; } /* tweak this value */
      #hero-onx-title .title-onx{
        display: inline-block;          /* ensures margin applies cleanly */
        margin-right: var(--desktop-gap);
      }
    }

    /* Mobile only: show the break; remove right margin just in case */
    @media (max-width:600px){
      #hero-onx-title .br-mobile { display: inline; }
      #hero-onx-title .title-onx{ margin-right: 0; }
    }
  </style>
</h1>

  <style>
    /* Only affect this title on mobile */
    @media (max-width:600px){
      #hero-onx-title{
        /* tune inner/outer spacing here only */
        --xpad: 60px;          /* left/right padding of sentence */
        --ypad: 0px;           /* top/bottom padding inside the sentence */
        --outer-top: 0px;      /* space above this whole block (post-squash) */
        --outer-bottom: 0px;   /* space below this whole block */

        margin: var(--outer-top) 0 var(--outer-bottom) !important; /* kill default h1 margins */
      }
      #hero-onx-title .title-blur{
        display:block;
        width:100vw;
        padding: var(--ypad) var(--xpad);
        box-sizing:border-box;
        line-height:0; /* remove baseline gap */
      }
      #hero-onx-title .fit-line{
        display:block;
        white-space:nowrap;     /* force one line */
        line-height:1.05;
        font-weight:700;
        font-size:120px;        /* base; JS will shrink to fit width */
        transform: none;
      }
    }
  </style>

  <script>
    (function(){
      const root  = document.getElementById('hero-onx-title');
      const line  = root?.querySelector('.fit-line');
      const shell = root?.querySelector('.title-blur');
      const mq    = window.matchMedia('(max-width: 600px)');
      const BASE  = 120; // matches CSS

      function fitOnce(){
        if(!root || !line || !shell) return;
        if(!mq.matches){ line.style.fontSize = ''; root.style.marginTop=''; return; }

        // 1) Fit text to available width (no transforms → no phantom space)
        line.style.fontSize = BASE + 'px';
        const rectW = shell.getBoundingClientRect().width;
        const cs    = getComputedStyle(shell);
        const pad   = (parseFloat(cs.paddingLeft)||0) + (parseFloat(cs.paddingRight)||0);
        const available = Math.max(0, rectW - pad);
        const needed    = Math.max(1, line.scrollWidth);
        const scale     = Math.min(1, available / needed);
        line.style.fontSize = (BASE * scale) + 'px';

        // 2) Auto-squash any gap above (prev element margin or parent row-gap)
        const prev = root.previousElementSibling;
        if (prev){
          const gap = Math.round(root.getBoundingClientRect().top - prev.getBoundingClientRect().bottom);
          // If there’s visible space, pull the title up exactly that amount
          root.style.marginTop = (gap > 0 ? (-gap) : 0) + 'px';
        } else {
          root.style.marginTop = '0px';
        }
      }

      function fit(){ fitOnce(); requestAnimationFrame(fitOnce); } // double pass for font load
      ['DOMContentLoaded','load','resize','orientationchange','pageshow'].forEach(ev=>{
        window.addEventListener(ev, fit, {passive:true});
      });
      if (document.fonts?.ready) document.fonts.ready.then(fit).catch(()=>{});
      fit();
    })();
  </script>
</h1>


  <!-- The centered bubble -->
  <div class="bubble-spot">
    <form class="bubble" action="#" method="get" onsubmit="return false">
      <textarea
        class="prompt"
        id="prompt-input"
        rows="1"
        autocomplete="off"
        autocapitalize="off"
        autocorrect="off"
        spellcheck="false"
        aria-label="Ask something"
        placeholder="Tell me to build something legendary…"
      ></textarea>

      <button class="send" type="button" aria-label="Send">
        <svg viewBox="0 0 24 24" aria-hidden="true">
          <path d="M12 19V5M12 5l-6 6M12 5l6 6"/>
        </svg>
      </button>
    </form>
  </div>

  <script>


    /* ===== Hero type-in lines (edgy edition) ===== */
const SUGGESTIONS = [
  


//TOP ONES




//Origninal 
"Design a ruthless—but legal—negotiation script that cuts supplier prices 25%.",
      "Turn $10k into $100k in 12 months: step-by-step arbitrage game plan.",
      "Find the fastest path to 1,000 paying users for an AI app—zero fluff.",
      "Reverse-engineer my top competitor’s funnel and out-convert them by 30%.",
      "Automate cold outreach that feels human—deliver 10 booked calls per day.",
      "Blueprint a content flywheel that prints $50k/month in inbound leads.",
      "Identify 3 undervalued micro-SaaS buys under $2M we can acquire now.",
      "Draft a no-BS investor memo that raises $1M with traction-light signals.",
      "Ship a viral ONX launch that hits #1 on Product Hunt within 48 hours.",
      "Audit pricing and add a premium tier that lifts ARPU by 40%.",

// Growth & Launch
  "Engineer a launch that lands 10,000 signups in 48 hours—zero fluff.",
  "Rewrite my landing page to add +35% conversion—cut everything that doesn’t sell.",
  "Outrank our #1 competitor in 14 days with a white-hat SEO war plan.",
  "Turn one tweet thread into 100k impressions—systematize it.",
  "Design a referral loop that compounds daily—no discounts, only desire.",
  "Ship a Product Hunt #1 launch—minute-by-minute battle plan.",
  "Turn my homepage into a ‘shut up and take my money’ page—today.",
  "Make a creator collab engine that feeds us 1,000 leads/week.",
  "Crush churned-user winbacks with a 3-email sequence that feels irresistible.",
  "Give me a shocking before/after demo script that goes viral on X/LinkedIn.",

  // Sales & Pricing
  "Cold email that books 10 meetings/day—feels human, gets replies, scales.",
  "Rewrite my offer so ‘yes’ is the only sane answer.",
  "Design a 3-tier pricing that lifts ARPU by 40% without hurting conversion.",
  "Build a premium anchor that makes $199/mo feel like a steal.",
  "Create a discovery call script that closes in 20 minutes—no pressure, all pull.",
  "Turn testimonials into a money page—zero cringe, maximum proof.",
  "Build a no-risk guarantee that boosts buys and keeps refunds sane.",
  "Construct a sales objection map—one-liners that vaporize hesitations.",
  "Write the checkout microcopy that bumps take-rate by 10% overnight.",
  "Design a founder-led sales loop—repeatable, calendar-filling, fun to run.",

  // Fundraising & Narrative
  "Investor memo that forces a meeting in 60 seconds—tight, credible, bold.",
  "Craft a ‘why now’ story that makes our space feel inevitable.",
  "Pre-close 50% of the round before demo day—warm intro machine.",
  "Design a traction-light deck that screams momentum—without lying.",
  "Create a list of 25 partner funds that match our thesis like a glove.",
  "Write the ‘market secrets’ section that makes us look dangerous (and right).",
  "Build a monthly update template investors actually read—and forward.",

  // Product & Moats
  "Turn a messy backlog into a 2-week roadmap that prints revenue.",
  "Design a product hook that users can’t stop showing friends.",
  "Create a defensible moat—data, workflows, switching costs—pick two now.",
  "Add one feature that 10x’s perceived value without 10x’ing scope.",
  "Build a self-serve onboarding that converts 35% of trials to paid.",
  "Instrument the product: find the 3 events that predict churn early.",
  "Design an in-product upsell that feels like a gift, not a pitch.",
  "Kill 50% of our UI to feel premium—Apple-grade minimalism checklist.",

  // Ops & Automation
  "Automate 80% of ops with off-the-shelf tools—document the whole stack.",
  "Cut churn under 3% in 60 days—hard math, real levers.",
  "Turn support into sales with ‘one reply = one upgrade’ macros.",
  "Design a weekly operating cadence that compounds output, not meetings.",
  "Build a KPI cockpit the team actually checks—and acts on—daily.",

  // Competitive / Strategy
  "Reverse-engineer the competitor funnel and out-convert it by 30%—legally.",
  "Find 3 micro-SaaS buys under $2M with ugly metrics but fixable growth.",
  "Own one niche so hard the big guys can’t follow—pick it and plan it.",
  "Map the power players in our market and secure 5 unfair partnerships.",
  "Create a positioning line that makes competitors look outdated overnight.",

  // AI Edge (multi-model, ONX vibe)
  "Make every model mine—route tasks across GPT/Qwen/Gemma for cost + speed wins.",
  "Design a multi-model router that beats GPT-4 on latency by 50%.",
  "Build an onboarding agent that writes, demos, and closes—hands-free.",
  "Create a ‘cheat-code’ research flow that finds non-obvious opportunities fast.",
  "Draft a privacy-first AI policy so enterprises can say ‘yes’ without lawyers stalling.",
  "Replace 10 SaaS tools with one ONX workflow—document the savings.",
  "Write a brand voice that sounds like me on my best day—then automate it.",
  "Generate 30 days of content in 60 minutes—on-brand, zero filler.",
  "Design an AI QA harness so features ship twice as fast with half the bugs.",
  "Build a fine-tuning plan that makes our outputs feel handcrafted.",

  // Negotiation (ruthless—but legal)
  "Legal negotiation script that drops vendor costs 25% without burning bridges.",
  "Vendor scorecard that forces discounts—or upgrades—by next renewal.",
  "Rewrite our MSA to protect margin and speed contracts—deal-closing redlines.",
  "Build BATNAs for our top 3 deals so we never negotiate scared.",

  // Brand & Creative
  "Homepage headline that slaps: 10 edgy options, investor-safe variants included.",
  "Visual identity brief: Apple-clean, premium, unmistakably ours—deliver today.",
  "Write a manifesto that makes users feel like insiders from line one.",
  "Craft a viral demo script that says ‘ONX is the unfair advantage’.",
  "Design a launch video storyboard—60 seconds, goosebumps ending.",

  // Personal performance (founder edge)
  "Founder routine that unlocks 4 hours of deep work—no monk mode.",
  "Calendar purge: keep only what moves revenue—weekly ritual.",
  "Decision framework that kills dithering and ships faster.",
  "Build a recruiting magnet: top 1% candidates only—message, funnel, close.",

  // Direct-response heat
  "Write the ad that makes people feel late if they don’t buy now.",
  "Craft a ‘Buy the Edge’ landing—proof, tension, irresistible CTA.",
  "Turn AI into ROI: 90-day plan, week-by-week, no theory.",
  "Install my unfair advantage—step-by-step, today."
];


    const TYPER = { startDelay:500, type:34, hold:1600, gap:650, loop:true };

    (function initTypewriter(){
      const input  = document.getElementById('prompt-input');
      const bubble = document.querySelector('#chat-hero .bubble');
      const hero   = document.getElementById('chat-hero');
      if (!input || !bubble || !hero) return;

      input.addEventListener('keydown', e => e.preventDefault());
      input.addEventListener('beforeinput', e => e.preventDefault());

      function autosize(){
        input.style.height = 'auto';
        input.style.height = input.scrollHeight + 'px';
      }
      function syncBubbleH(){
        const h = bubble.getBoundingClientRect().height;
        hero.style.setProperty('--bubbleH', h + 'px');
      }

      const ro = new ResizeObserver(syncBubbleH);
      ro.observe(bubble);

      const reduceMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      if (reduceMotion) {
        input.value = SUGGESTIONS[0] || "";
        autosize(); syncBubbleH();
        return;
      }

      let i = 0, j = 0;
      function typeNextChar(){
        const phrase = SUGGESTIONS[i] || "";
        input.classList.remove('is-fading');

        if (j < phrase.length){
          input.value += phrase[j++];
          autosize(); syncBubbleH();
          setTimeout(typeNextChar, TYPER.type);
        } else {
          setTimeout(() => fadeOutThenAdvance(), TYPER.hold);
        }
      }

      function fadeOutThenAdvance(){
        input.classList.add('is-fading');

        const onEnd = (e) => {
          if (e.propertyName && e.propertyName !== 'opacity') return;
          input.removeEventListener('transitionend', onEnd);

          input.value = "";
          autosize(); syncBubbleH();

          i = (i + 1) % SUGGESTIONS.length;
          j = 0;

          setTimeout(typeNextChar, TYPER.gap);
        };

        input.addEventListener('transitionend', onEnd, { once:true });
        setTimeout(() => {
          if (input.classList.contains('is-fading')) input.dispatchEvent(new Event('transitionend'));
        }, 1000);
      }

      input.value = "";
      autosize(); syncBubbleH();
      setTimeout(typeNextChar, TYPER.startDelay);

      window.addEventListener('resize', () => { autosize(); syncBubbleH(); });
    })();
  </script>
</section>
<!--======================================================================================================================================================================-->
<!--=====================================================================CHAT END=================================================================================================-->





<!--=========================================================================SHOWCASE VIDEO SECTION=============================================================================================-->
<!-- ONX Card Reveal → "The Best AI" → Logos line (bigger) → Suck-into O (Audiowide) → Morph to white onxlogo.svg + "Unified AI" -->
<div id="onx-card-reveal" class="padTop"
     data-speed="1.6"
     data-menu-scale="1.5"
     data-overshoot-x-enabled="false"
     data-overshoot-y-enabled="true"
     data-overshoot-x="1.5"
     data-overshoot-y="1.5"
     data-peak-x="0.58"
     data-peak-y="0.60"
     style="max-width:100%; margin:0 auto;">

  <!-- Audiowide for O / headings -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Audiowide&display=swap" rel="stylesheet">

  <style>
    #onx-card-reveal * { box-sizing: border-box; }
    #onx-stage{
      position:relative; width:min(1100px,96vw); aspect-ratio:16/9; margin:0 auto;
      border-radius:32px; overflow:hidden;
      box-shadow:none;
      will-change:transform;
      transform-origin:center top;
    }
    #onx-stage canvas{ width:100%; height:100%; display:block; }
    #onx-controls{
      display:flex; gap:8px; justify-content:center; align-items:center; margin-top:14px;
      font-family: ui-sans-serif,-apple-system,BlinkMacSystemFont,"SF Pro Display",Inter,system-ui;
      touch-action: manipulation;
    }
    #onx-controls button{
      border:0; border-radius:999px; padding:10px 16px; cursor:pointer;
      background:#000; color:#fff; font-weight:600; letter-spacing:.2px;
      box-shadow:0 6px 18px rgba(0,0,0,.12);
      transition:transform .15s ease, box-shadow .2s ease;
    }
    #onx-controls button:hover{ transform:translateY(-1px); box-shadow:0 10px 26px rgba(0,0,0,.18); }
    #onx-controls button:disabled{ opacity:.45; cursor:not-allowed; transform:none; }

    @media (max-width: 640px){
      #onx-card-reveal{ overflow:hidden; margin:24px auto 28px; }
      #onx-controls{ margin-top:10px; }
      #onx-controls button{ padding:9px 14px; font-size:14px; }
    }
  </style>

  <!-- Stage with your gradient classes -->
  <div id="onx-stage" class="g-grad grad-animi"><canvas id="onx-canvas"></canvas></div>

  <div id="onx-controls"></div>
  <div id="onx-play" aria-hidden="true" style="display:none"></div>

  <script>
  (()=>{ 'use strict';

    /* ========================= GLOBAL SIZE CONTROLS (EDIT THESE) =========================
       All values are multipliers (1.00 = default). Safe range ~0.6 → 1.6.
       - SIZE.all        → Master multiplier for everything.
       - SIZE.menu       → Card/menu group overall (models list).
       - SIZE.menuTitle  → Row title (e.g., "ONX PRO") size.
       - SIZE.menuSub    → Row subtitle text size.
       - SIZE.padding    → Card inner padding & row gaps.
       - SIZE.cardWidth  → Card max width scaler.
       - SIZE.cardHeight → Card height scaler.
       - SIZE.logos      → Logos row height.
       - SIZE.bestAI     → "The Best AI" title size.
       - SIZE.O          → Big Audiowide "O".
       - SIZE.finalLogo  → Final ONX logo width.
       - SIZE.unified    → "Unified AI" subtitle size.
    ====================================================================================== */
    const SIZE = {
      all:        1.00,
      menu:       1.00,
      menuTitle:  1.00,
      menuSub:    1.00,
      padding:    1.00,
      cardWidth:  1.00,
      cardHeight: 1.00,
      logos:      2.0,
      bestAI:     2.00,
      O:          1.50,
      finalLogo:  1.50,
      unified:    2.00
    };

    // ======== ASSETS (with per-logo white tinting) ========
    const LOGOS = [
      { src: 'grokLogo.svg',   alt: 'Grok',   tint: '#fff' },
      { src: 'googleLogo.svg', alt: 'Google', tint: '#fff' },
      { src: 'metaLogo.svg',   alt: 'Meta',   tint: '#fff' },
      { src: 'OAILogo.png',    alt: 'OpenAI', tint: '#fff' },
    ];
    const FINAL_LOGO_SRC  = 'onxlogo.svg'; // drawn as high-DPI, tinted to white
    const FINAL_LOGO_TINT = '#ffffff';

    // ===== ELEMENTS =====
    const host    = document.getElementById('onx-card-reveal');
    const stageEl = document.getElementById('onx-stage');
    const canvas  = document.getElementById('onx-canvas');

    // ===== UTILS =====
    const toBool = v => ['1','true','on','yes'].includes(String(v).toLowerCase().trim());
    const ASPECT = 16/9;
    const isMobile = () => window.matchMedia('(max-width: 640px)').matches || ('ontouchstart' in window);
    const vp = () => {
      const vv = window.visualViewport;
      if (vv) return { vw: Math.max(320, vv.width), vh: Math.max(320, vv.height), top: vv.offsetTop||0, bottom: (window.innerHeight - vv.height - (vv.offsetTop||0)) };
      return { vw: Math.max(320, window.innerWidth || 360), vh: Math.max(320, window.innerHeight || 640), top: 0, bottom: 0 };
    };

    // ===== OPTIONS =====
    const TEMPO = {
      speed: parseFloat(host.dataset.speed) || 1.6,
      menuScale: parseFloat(host.dataset.menuScale) || 1.5,
      overshootXEnabled: host.dataset.overshootXEnabled !== undefined ? toBool(host.dataset.overshootXEnabled) : false,
      overshootYEnabled: host.dataset.overshootYEnabled !== undefined ? toBool(host.dataset.overshootYEnabled) : true,
      overshootX: parseFloat(host.dataset.overshootX) || 1.5,
      overshootY: parseFloat(host.dataset.overshootY) || 1.5,
      peakX: parseFloat(host.dataset.peakX) || 0.58,
      peakY: parseFloat(host.dataset.peakY) || 0.60
    };

    // ===== CANVAS (High-DPI backing store tied to visual scale) =====
    let CONFIG = isMobile() ? { w: 1152, h: 648 } : { w: 2048, h: 1152 }; // logical canvas size (16:9)
    let dpr = 1;
    let stageScale = 1;              // CSS transform scale applied to #onx-stage (mobile)
    const OVERSAMPLE = 1.5;          // extra crispness; 1.25–2.0 is reasonable

    const ctx = canvas.getContext('2d', { alpha: true, desynchronized: true });
    ctx.imageSmoothingEnabled = true;
    ctx.imageSmoothingQuality = 'high';

    function setBackingScale(){
      const raw = window.devicePixelRatio || 1;
      const eff = Math.min(4, raw * stageScale * OVERSAMPLE);   // cap to avoid huge textures
      dpr = eff;
      canvas.width  = CONFIG.w * dpr;
      canvas.height = CONFIG.h * dpr;
      ctx.setTransform(1,0,0,1,0,0);
      ctx.scale(dpr, dpr);
      ctx.imageSmoothingEnabled = true;
      ctx.imageSmoothingQuality = 'high';
    }

    // Transparent BG buffer (logical size)
    let BG_CANVAS = document.createElement('canvas');
    BG_CANVAS.width = CONFIG.w; BG_CANVAS.height = CONFIG.h;
    let BG_CTX = BG_CANVAS.getContext('2d');
    BG_CTX.clearRect(0,0,CONFIG.w,CONFIG.h);

    function clearStage(){
      ctx.setTransform(1,0,0,1,0,0);
      ctx.clearRect(0,0,CONFIG.w * dpr, CONFIG.h * dpr);
      ctx.setTransform(dpr,0,0,dpr,0,0);
    }

    // ===== STYLE / SIZING =====
    const DESIGN = {
      padX: 26, padY: 26, rowGap: 18, subGap: 8,
      titleSize: 36, subSize: 20, titleWeight: 800, subWeight: 500,
      minW: 420, maxW: 820, stageMargin: 56
    };
    const getMenuScale = () => isMobile() ? Math.min(TEMPO.menuScale, 1.25) : TEMPO.menuScale;

    let STYLE = buildStyle();
    function buildStyle(){
      const SCALE = getMenuScale();
      const ALL  = SIZE.all;
      const PAD  = SIZE.padding;
      const MENU = SIZE.menu;

      return {
        padX: Math.round(DESIGN.padX * SCALE * ALL * PAD),
        padY: Math.round(DESIGN.padY * SCALE * ALL * PAD),
        rowGap: Math.round(DESIGN.rowGap * SCALE * ALL * PAD),
        subGap: Math.max(2, Math.round(DESIGN.subGap * SCALE * ALL * PAD)),
        titleSize: DESIGN.titleSize * SCALE * ALL * MENU * SIZE.menuTitle,
        subSize: DESIGN.subSize * SCALE * ALL * MENU * SIZE.menuSub,
        titleWeight: DESIGN.titleWeight,
        subWeight: DESIGN.subWeight,
        minW: DESIGN.minW * ALL,
        maxW: DESIGN.maxW * ALL,
        stageMargin: isMobile() ? Math.max(20, Math.round(DESIGN.stageMargin * 0.8)) : DESIGN.stageMargin
      };
    }

    // Dynamic logo line height
    function computeLogoLineHeight(logoImgs){
      const pad = isMobile()? 24 : 36;
      const maxH = (isMobile()? 72 : 96) * SIZE.all * SIZE.logos;
      const minH = (isMobile()? 44 : 60) * SIZE.all * SIZE.logos;
      const sumAspect = logoImgs.reduce((s, img)=> s + (img.aspect || 1), 0);
      const fitH = ((CONFIG.w * 0.84) - pad*(logoImgs.length-1)) / Math.max(1, sumAspect);
      return Math.max(minH, Math.min(maxH, fitH));
    }

    // ===== CONTENT =====
    const rows = [
      { title:'ONX FAST', sub:'Fastest for instant answers' },
      { title:'ONX',      sub:'Default model' },
      { title:'ONX PRO',  sub:'Advanced agentic capabilities' },
    ];

    // ===== HELPERS =====
    const clamp=(v,lo=0,hi=1)=>Math.min(hi,Math.max(lo,v));
    const clampRange=(v,lo,hi)=>Math.min(hi,Math.max(lo,v));
    const lerp=(a,b,t)=>a+(b-a)*t;
    const easeOutCubic=t=>1-Math.pow(1-clamp(t,0,1),3);
    const easeInOutCubic=t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2;
    function boomerang(t, factor=1.10, peak=0.55){
      if (t <= 0) return 0;
      if (t >= 1) return 1;
      if (t < peak) return easeOutCubic(t/peak) * factor;
      const u = (t - peak) / (1 - peak);
      return 1 + (factor - 1) * (1 - easeOutCubic(u));
    }
    function setFont(weight,size,family='ui-sans-serif, -apple-system, BlinkMacSystemFont, "SF Pro Display", Inter, system-ui'){
      ctx.font = `${weight} ${size}px ${family}`;
    }
    function roundedRect(ctx,x,y,w,h,r){
      const rr=Math.min(r,w/2,h/2);
      ctx.beginPath();
      ctx.moveTo(x+rr,y);
      ctx.arcTo(x+w,y,x+w,y+h,rr);
      ctx.arcTo(x+w,y+h,x,y+h,rr);
      ctx.arcTo(x,y+h,x,y,rr);
      ctx.arcTo(x,y,x+w,y,rr);
      ctx.closePath();
    }

    // ===== TIMINGS =====
    const BASE = { widthGrow: 0.65, rowPop: 0.42, rowPause: 0.30, holdA: 0.34, holdB: 0.50, morph: 0.95 };
    const S = v => v / TEMPO.speed;

    // ===== LAYOUT =====
    function measureFinalLayout(){
      let maxTextW = 0;
      setFont(800, STYLE.titleSize);
      rows.forEach(r=>{ maxTextW = Math.max(maxTextW, ctx.measureText(r.title).width); });
      setFont(500, STYLE.subSize);
      rows.forEach(r=>{ if (r.sub) maxTextW = Math.max(maxTextW, ctx.measureText(r.sub).width); });

      const contentW = Math.ceil(maxTextW);
      const cardW0 = Math.min(
        Math.max(contentW + STYLE.padX*2, STYLE.minW),
        Math.min(STYLE.maxW, CONFIG.w - 2*STYLE.stageMargin)
      );
      const cardW = clampRange(cardW0 * SIZE.cardWidth, STYLE.minW*0.6, CONFIG.w - 2*STYLE.stageMargin);

      const rowHeights = rows.map(r => STYLE.titleSize + (r.sub ? (STYLE.subGap + STYLE.subSize) : 0));
      const contentH = rowHeights.reduce((a,b)=>a+b,0) + STYLE.rowGap*(rows.length-1);
      const cardH0 = Math.ceil(contentH + STYLE.padY*2);
      const cardH = Math.min(Math.ceil(cardH0 * SIZE.cardHeight), CONFIG.h - 2*STYLE.stageMargin);

      const radius = Math.max(22, Math.min(36, Math.round(Math.min(cardW, cardH) * 0.08)));
      return { cardW, cardH, rowHeights, radius };
    }
    let layout = measureFinalLayout();

    // Seed shape
    const seed = { w: 120, h: 80, r: 20 };

    // Row schedule
    const ROW_POP_DUR = S(BASE.rowPop);
    const ROW_PAUSE   = S(BASE.rowPause);
    const rowStartTimes = rows.map((_, i) => i * (ROW_POP_DUR + ROW_PAUSE));

    // Mobile tuning
    const MOBILE_SHADOW_SCALE = isMobile() ? 0.7 : 1.0;
    const MOBILE_BLUR_SCALE   = isMobile() ? 0.6 : 1.0;

    // ===== MOBILE AUTO-FIT SCALE (ties into high-DPI backing) =====
    function controlHeight(){
      const ctrl = document.getElementById('onx-controls');
      return ctrl ? Math.max(0, ctrl.offsetHeight || 44) : 44;
    }
    function applyMobileScale(){
      if (!isMobile()){
        stageEl.style.transform = '';
        stageEl.style.transformOrigin = 'center top';
        stageScale = 1;
        setBackingScale();
        return;
      }
      const { vw, vh, top, bottom } = vp();
      const safeSide = 16;
      const safeTop  = 16 + top;
      const safeBot  = 16 + bottom;
      const ctrlH    = controlHeight();
      const hostMargins = 24 + 28;

      const baseW = Math.min(1100, 0.96 * vw);
      const baseH = baseW / ASPECT;

      const availW = Math.max(240, vw - 2*safeSide);
      const availH = Math.max(200, vh - safeTop - safeBot - ctrlH - hostMargins);

      const scaleW = availW / baseW;
      const scaleH = availH / baseH;
      const desired = 2.0;
      const scale = Math.max(0.6, Math.min(desired, scaleW, scaleH));

      stageEl.style.transform = `scale(${scale})`;
      stageEl.style.transformOrigin = 'center top';
      stageScale = scale;
      setBackingScale(); // <-- bump backing DPI to match visual scale (prevents blur)
    }

    // -------------------- Phase A: Card (models) --------------------
    function renderCard(t){
      clearStage(); ctx.drawImage(BG_CANVAS, 0, 0);

      const widthEnd = S(BASE.widthGrow);
      const tw = clamp(t / widthEnd);
      const widthScale  = TEMPO.overshootXEnabled ? boomerang(tw, TEMPO.overshootX, TEMPO.peakX) : easeInOutCubic(tw);
      const w = lerp(seed.w, layout.cardW, Math.min(widthScale, TEMPO.overshootXEnabled ? TEMPO.overshootX : 1));

      let contentVisibleH = 0, visibleRows = 0, poppingIndex = -1, poppingProgress = 0;
      for (let i=0; i<rows.length; i++){
        const local = (t - rowStartTimes[i]) / ROW_POP_DUR;
        if (local <= 0) break;
        visibleRows++;
        if (local < 1){
          poppingIndex = i;
          poppingProgress = clamp(local);
          const rowScale = boomerang(poppingProgress, 1.08, 0.55);
          contentVisibleH += layout.rowHeights[i] * rowScale;
        } else {
          contentVisibleH += layout.rowHeights[i];
        }
      }
      if (visibleRows > 1) contentVisibleH += STYLE.rowGap * (visibleRows - 1);

      let springY = 1;
      if (poppingIndex >= 0) springY = boomerang(poppingProgress, 1.06, 0.5);

      const h = Math.max(seed.h, Math.min(Math.ceil(contentVisibleH * springY + STYLE.padY*2), CONFIG.h - 2*STYLE.stageMargin));

      const growT = clamp((w - seed.w) / Math.max(1, layout.cardW - seed.w));
      const r = lerp(seed.r, layout.radius, easeOutCubic(growT));
      const x = (CONFIG.w - w)/2, y = (CONFIG.h - h)/2;

      // Card
      ctx.shadowColor = `rgba(0,0,0,${lerp(.10,.17,growT)})`;
      ctx.shadowBlur = lerp(6, 26, growT) * MOBILE_SHADOW_SCALE;
      ctx.shadowOffsetY = lerp(6, 15, growT);
      ctx.fillStyle = '#ffffff';
      roundedRect(ctx, x, y, w, h, r); ctx.fill();
      ctx.shadowColor='transparent';
      ctx.lineWidth = 1; ctx.strokeStyle = 'rgba(0,0,0,0.06)'; ctx.stroke();

      // Content
      ctx.save(); roundedRect(ctx, x, y, w, h, r); ctx.clip();
      const contentX = x + STYLE.padX;
      let cursorY = y + STYLE.padY;

      for (let i=0; i<rows.length; i++){
        const local = (t - rowStartTimes[i]) / ROW_POP_DUR;
        if (local <= 0) break;

        const pr = clamp(local);
        const a  = easeOutCubic(pr);
        const s  = 1 - (1 - boomerang(pr, 1.08, 0.55)) * 0.06;
        const dy = lerp(10, 0, a);
        const blurPx = (1 - a) * 1.5 * MOBILE_BLUR_SCALE;

        ctx.save();
        ctx.translate(contentX, cursorY + dy);
        ctx.scale(s, s);
        ctx.textAlign = 'left'; ctx.textBaseline = 'alphabetic';
        ctx.globalAlpha = a;
        if (blurPx > 0.05) ctx.filter = `blur(${blurPx}px)`;

        setFont(STYLE.titleWeight, STYLE.titleSize);
        ctx.fillStyle = '#0b0b10';
        ctx.fillText(rows[i].title, 0, STYLE.titleSize);

        if (rows[i].sub){
          setFont(STYLE.subWeight, STYLE.subSize);
          ctx.fillStyle = 'rgba(0,0,0,0.58)';
          ctx.fillText(rows[i].sub, 0, STYLE.titleSize + STYLE.subGap + STYLE.subSize);
        }
        ctx.filter = 'none'; ctx.globalAlpha = 1; ctx.restore();

        cursorY += layout.rowHeights[i] + STYLE.rowGap;
      }
      ctx.restore();

      const lastEnd = rowStartTimes[rows.length - 1] + ROW_POP_DUR;
      const total = lastEnd + S(BASE.holdA) + S(BASE.holdB);
      return { total, x, y, w, h, r };
    }

    // -------------------- Phase B: Card → "The Best AI" (white, larger) --------------------
    function renderCardToBestAI(startBox, t){
      clearStage(); ctx.drawImage(BG_CANVAS, 0, 0);

      const out = easeInOutCubic(clamp(t));
      const inv = 1 - out;

      const w = lerp(startBox.w, startBox.w*0.9, out);
      const h = lerp(startBox.h, Math.max(100, startBox.h*0.6), out);
      const r = lerp(startBox.r, Math.min(startBox.r, h/2), out);
      const x = (CONFIG.w - w)/2, y = (CONFIG.h - h)/2;

      ctx.save();
      ctx.globalAlpha = Math.max(0, inv * 0.9);
      ctx.fillStyle = '#ffffff';
      ctx.shadowColor = `rgba(0,0,0,${0.08*inv})`;
      ctx.shadowBlur = 16 * inv * MOBILE_SHADOW_SCALE;
      ctx.shadowOffsetY = 12 * inv;
      roundedRect(ctx, x, y, w, h, r); ctx.fill();
      ctx.shadowColor='transparent'; ctx.restore();

      const scale = boomerang(t, 1.08, 0.55);
      const titleSize = Math.round( lerp(72, isMobile() ? 88 : 120, scale) * SIZE.all * SIZE.bestAI );
      setFont(900, titleSize, '"Inter", ui-sans-serif, system-ui');

      ctx.save();
      ctx.textAlign = 'center'; ctx.textBaseline = 'middle';
      ctx.translate(CONFIG.w/2, CONFIG.h/2);
      ctx.globalAlpha = easeOutCubic(clamp(t));
      ctx.fillStyle = '#ffffff';
      ctx.fillText('The Best AI', 0, 0);
      ctx.restore();
    }

    // -------------------- Phase C: "The Best AI" → Logos line --------------------
    function renderBestAIToLogos(t, logoImgs){
      clearStage(); ctx.drawImage(BG_CANVAS, 0, 0);

      const titleOut = clamp((t-0.35)/0.30);
      const titleIn  = 1 - titleOut;
      const titleSize = Math.round( (isMobile() ? 88 : 120) * SIZE.all * SIZE.bestAI );
      setFont(900, titleSize, '"Inter", ui-sans-serif, system-ui');
      ctx.save();
      ctx.textAlign = 'center'; ctx.textBaseline = 'middle';
      ctx.fillStyle = `rgba(255,255,255,${titleIn})`;
      ctx.fillText('The Best AI', CONFIG.w/2, CONFIG.h/2);
      ctx.restore();

      const inT = easeOutCubic(clamp((t-0.1)/0.7));
      const lineY = Math.round(CONFIG.h/2 + lerp(60, 0, inT));
      const pad = isMobile()? 24 : 36;
      const logoH = computeLogoLineHeight(logoImgs);
      const totalW = logoImgs.reduce((acc,img,i)=> acc + logoH * (img.aspect||1) + (i?pad:0), 0);
      let x = (CONFIG.w - totalW)/2;

      const positions = [];
      logoImgs.forEach((img, i) => {
        const w = logoH * (img.aspect||1);
        const appear = clamp((inT - i*0.06)/0.8);
        const a = easeOutCubic(appear);
        const s = 0.9 + 0.1 * boomerang(appear, 1.1, 0.55);
        const y = lineY;

        ctx.save();
        ctx.globalAlpha = a;
        const cx = x + w/2, cy = y;
        ctx.translate(cx, cy);
        ctx.scale(s, s);
        if (img.image){
          ctx.drawImage(img.image, -w/2, -logoH/2, w, logoH);
        } else {
          ctx.fillStyle = '#e9ecf2';
          roundedRect(ctx, -w/2, -logoH/2, w, logoH, Math.min(logoH/2, 12));
          ctx.fill();
        }
        ctx.restore();

        positions.push({ x: x + w/2, y, w, h: logoH });
        x += w + pad;
      });

      return positions;
    }

    // -------------------- Phase D: Logos → O (bigger, white) --------------------
    function renderLogosIntoO(t, logoImgs, startPositions){
      clearStage(); ctx.drawImage(BG_CANVAS, 0, 0);

      const centerX = CONFIG.w/2;
      const centerY = CONFIG.h/2 - (isMobile()? 6 : 10);
      const baseSize = (isMobile()? 180 : 260) * SIZE.all * SIZE.O;
      const size = Math.round( lerp(baseSize*0.9, baseSize*1.05, boomerang(clamp(t), 1.05, 0.55)) );

      ctx.save();
      setFont(900, size, '"Audiowide", ui-sans-serif, system-ui');
      ctx.textAlign = 'center'; ctx.textBaseline = 'middle';
      ctx.shadowColor = 'rgba(0,0,0,0.15)';
      ctx.shadowBlur = 18 * MOBILE_SHADOW_SCALE; ctx.shadowOffsetY = 10;
      ctx.fillStyle = '#ffffff';
      ctx.fillText('O', centerX, centerY);
      ctx.shadowColor = 'transparent';
      ctx.restore();

      const pull = easeInOutCubic(clamp(t));
      logoImgs.forEach((img, i) => {
        const p = startPositions[i];
        const delay = i * 0.06;
        const tt = clamp((pull - delay)/ (1 - delay));
        const a  = easeOutCubic(tt);

        const curX = lerp(p.x, centerX, a);
        const curY = lerp(p.y, centerY, a);
        const scale = 1 - 0.85*a;
        const opacity = 1 - a;

        const w = (p.w) * scale, h = (p.h) * scale;

        ctx.save();
        ctx.globalAlpha = Math.max(0, opacity);
        ctx.translate(curX, curY);
        if (img.image){ ctx.drawImage(img.image, -w/2, -h/2, w, h); }
        else { ctx.fillStyle = '#e9ecf2'; roundedRect(ctx, -w/2, -h/2, w, h, Math.min(h/2, 12)); ctx.fill(); }
        ctx.restore();
      });
    }

    // -------------------- Phase E: O → final ONX logo (white, correct aspect) + "Unified AI" --------------------
    function renderOToFinalLogo(t, finalLogoImg){
      clearStage(); ctx.drawImage(BG_CANVAS, 0, 0);

      const centerX = CONFIG.w/2;
      const centerY = CONFIG.h/2 - (isMobile()? 10 : 14);

      // Fade O
      const oSizeBaseFrom = (isMobile()? 180 : 260) * SIZE.all * SIZE.O;
      const oSizeBaseTo   = (isMobile()? 130 : 180) * SIZE.all * SIZE.O;
      const oOut = clamp(1 - t);
      const logoIn = easeOutCubic(clamp(t));
      const oSize = Math.round(lerp(oSizeBaseFrom, oSizeBaseTo, 1 - oOut));
      ctx.save();
      setFont(900, oSize, '"Audiowide", ui-sans-serif, system-ui');
      ctx.textAlign = 'center'; ctx.textBaseline = 'middle';
      ctx.globalAlpha = oOut;
      ctx.fillStyle = '#ffffff';
      ctx.fillText('O', centerX, centerY);
      ctx.restore();

      // Final logo – compute width relative to stage, preserve aspect
      const bounceScale = 0.92 + 0.08*boomerang(logoIn, 1.04, 0.52);
      const baseTargetW = Math.min(CONFIG.w * (isMobile()? 0.36 : 0.34), isMobile()? 280 : 420)
                          * SIZE.all * SIZE.finalLogo;
      const w = baseTargetW * bounceScale;
      const aspect = Math.max(0.01, finalLogoImg.aspect || 1); // width / height
      const h = w / aspect;                                    // correct ratio

      ctx.save();
      ctx.globalAlpha = logoIn;
      if (finalLogoImg.image){
        // Draw at full backing-store DPI (already handled by setBackingScale)
        ctx.drawImage(finalLogoImg.image, centerX - w/2, centerY - h/2, w, h);
      } else {
        // Fallback placeholder
        ctx.fillStyle = '#ffffff';
        ctx.beginPath(); ctx.arc(centerX, centerY, w/2, 0, Math.PI*2); ctx.fill();
      }
      ctx.restore();

      // Subtitle
      const subtitleA = easeOutCubic(clamp((t-0.25)/0.6));
      if (subtitleA > 0){
        const size = (isMobile()? 28 : 40) * SIZE.all * SIZE.unified;
        setFont(700, size, '"Inter", ui-sans-serif, system-ui');
        ctx.save();
        ctx.globalAlpha = subtitleA;
        ctx.textAlign = 'center'; ctx.textBaseline = 'top';
        ctx.fillStyle = '#ffffff';
        ctx.fillText('Unified AI', centerX, centerY + (isMobile()? (h/2 + 36) : (h/2 + 44)));
        ctx.restore();
      }
    }

    // =================== Orchestrator & Assets ===================
    let isAnimating = false;

    function loadImage(src){
      return new Promise(resolve=>{
        const img = new Image();
        img.crossOrigin = 'anonymous';
        img.onload = ()=>{
          const nw = img.naturalWidth || img.width || 1;
          const nh = img.naturalHeight || img.height || 1;
          resolve({ image: img, aspect: nw / nh });
        };
        img.onerror = ()=> resolve({ image: null, aspect: 1 });
        img.src = src;
      });
    }

    function tintImageToColor(img, color='#ffffff'){
      if (!img) return null;
      const nw = img.naturalWidth || img.width || 1;
      const nh = img.naturalHeight || img.height || 1;
      const off = document.createElement('canvas');
      off.width = nw; off.height = nh;
      const octx = off.getContext('2d');
      octx.imageSmoothingEnabled = true;
      octx.imageSmoothingQuality = 'high';
      octx.clearRect(0,0,nw,nh);
      // Draw original at native pixel size (lets SVG rasterize sharply)
      octx.drawImage(img, 0, 0, nw, nh);
      // Colorize: use alpha as mask
      octx.globalCompositeOperation = 'source-in';
      octx.fillStyle = color;
      octx.fillRect(0,0,nw,nh);
      octx.globalCompositeOperation = 'source-over';
      return off;
    }

    async function prepareAssets(){
      // Load & optionally tint each logo to white
      const rawLogoImgs = await Promise.all(LOGOS.map(l => loadImage(l.src)));
      const logoImgs = rawLogoImgs.map((r, i) => {
        const want = LOGOS[i].tint;
        if (r.image && want){
          const tinted = tintImageToColor(r.image, want);
          return { image: tinted, aspect: r.aspect || 1 };
        }
        return r;
      });
      logoImgs.forEach(v => { if (!isFinite(v.aspect) || v.aspect <= 0) v.aspect = 1; });

      // Final ONX logo → load, tint to white, keep aspect. If SVG, the browser rasterizes
      // it at draw time into the canvas backing store (already high-DPI via setBackingScale).
      const finalLogoRaw = await loadImage(FINAL_LOGO_SRC);
      let tinted = null;
      if (finalLogoRaw && finalLogoRaw.image){
        tinted = tintImageToColor(finalLogoRaw.image, FINAL_LOGO_TINT);
      }
      const finalLogo = { image: tinted || finalLogoRaw.image, aspect: finalLogoRaw.aspect || 1 };

      if (document.fonts && document.fonts.ready){
        try { await document.fonts.ready; } catch {}
      }
      return { logoImgs, finalLogo };
    }

    function playSequence(assets){
      if (isAnimating) return;
      isAnimating = true;

      // PHASE A
      const startA = performance.now();
      let cardBox = null;
      function stepA(now){
        const tSec = (now - startA)/1000;
        const layoutA = renderCard(tSec);
        if (!cardBox) cardBox = { x: layoutA.x, y: layoutA.y, w: layoutA.w, h: layoutA.h, r: layoutA.r };
        if (tSec < layoutA.total){ requestAnimationFrame(stepA); }
        else {
          // B
          const startB = performance.now();
          function stepB(now2){
            const t = clamp( ((now2 - startB)/1000) / S(0.85) );
            renderCardToBestAI(cardBox, t);
            if (t < 1) { requestAnimationFrame(stepB); }
            else {
              // C
              const startC = performance.now();
              let lastPositions = null;
              function stepC(now3){
                const tC = clamp( ((now3 - startC)/1000) / S(1.4) );
                lastPositions = renderBestAIToLogos(tC, assets.logoImgs);
                if (tC < 1){ requestAnimationFrame(stepC); }
                else {
                  // D
                  const startD = performance.now();
                  function stepD(now4){
                    const tD = clamp( ((now4 - startD)/1000) / S(1.6) );
                    renderLogosIntoO(tD, assets.logoImgs, lastPositions);
                    if (tD < 1){ requestAnimationFrame(stepD); }
                    else {
                      // E
                      const startE = performance.now();
                      function stepE(now5){
                        const tE = clamp( ((now5 - startE)/1000) / S(1.2) );
                        renderOToFinalLogo(tE, assets.finalLogo);
                        if (tE < 1){ requestAnimationFrame(stepE); }
                        else { isAnimating = false; }
                      }
                      requestAnimationFrame(stepE);
                    }
                  }
                  requestAnimationFrame(stepD);
                }
              }
              requestAnimationFrame(stepC);
            }
          }
          requestAnimationFrame(stepB);
        }
      }
      requestAnimationFrame(stepA);
    }

    // First-time DPI setup + static first frame
    setBackingScale();
    clearStage(); renderCard(0);

    // Autoplay when visible
    let autoplayed = false, prepared = null;
    function centerIsVisible(el){
      const rect = el.getBoundingClientRect();
      const vpH = window.visualViewport ? window.visualViewport.height : window.innerHeight;
      const vpCenterY = vpH / 2;
      return (vpCenterY >= rect.top && vpCenterY <= rect.bottom);
    }
    async function tryAutoplay(){
      if (autoplayed || isAnimating || !centerIsVisible(stageEl)) return;
      autoplayed = true;
      if (!prepared) prepared = await prepareAssets();
      playSequence(prepared);
    }
    const io = new IntersectionObserver((entries)=>{
      for (const e of entries){ if (e.isIntersecting) tryAutoplay(); }
    }, { root: null, threshold: 0.15 });
    io.observe(stageEl);

    // Manual trigger (hidden)
    const playBtn = document.getElementById('onx-play');
    if (playBtn){ playBtn.addEventListener('click', async ()=>{
      if (!prepared) prepared = await prepareAssets();
      playSequence(prepared);
    }, { passive: true }); }

    // Mobile fit + rebuild on resize
    applyMobileScale();
    let rid = null;
    function rebuildIfNeeded(){
      applyMobileScale(); // also refreshes backing DPI

      const NOW_MOBILE = isMobile();
      const newCONFIG = NOW_MOBILE ? { w:1152, h:648 } : { w:2048, h:1152 };

      if (newCONFIG.w !== CONFIG.w || newCONFIG.h !== CONFIG.h){
        CONFIG = newCONFIG;

        // Resize logical canvases and re-apply backing DPI
        BG_CANVAS.width = CONFIG.w; BG_CANVAS.height = CONFIG.h;
        BG_CTX = BG_CANVAS.getContext('2d');
        BG_CTX.clearRect(0,0,CONFIG.w,CONFIG.h);

        setBackingScale();
      }

      STYLE = buildStyle();
      layout = measureFinalLayout();

      clearStage();
      renderCard(0);
      if (!autoplayed) tryAutoplay();
    }

    window.addEventListener('resize', ()=>{
      cancelAnimationFrame(rid);
      rid = requestAnimationFrame(rebuildIfNeeded);
    }, { passive: true });

    if (window.visualViewport){
      window.visualViewport.addEventListener('resize', ()=>{
        cancelAnimationFrame(rid);
        rid = requestAnimationFrame(rebuildIfNeeded);
      }, { passive: true });
      window.visualViewport.addEventListener('scroll', ()=>{
        cancelAnimationFrame(rid);
        rid = requestAnimationFrame(applyMobileScale);
      }, { passive: true });
    }

    window.addEventListener('scroll', tryAutoplay, { passive: true });
  })();
  </script>
</div>
<!--======================================================================================================================================================================-->





<!-- ──────────────────────────Become Limitless Section───────────────────────────────────── -->

<!-- ===============================
     ONX Models — DROP-IN SECTION
     =============================== -->
<section id="oc-Models" class="padTop section-clip relative mx-auto max-w-[1200px] oc-container reveal">
  <!-- Soft background glows (subtle, Apple-y) -->
  <div aria-hidden="true" class="pointer-events-none absolute inset-0 -z-10">
  <div class="absolute inset-0 bg-white"></div>
</div>


  <!-- Header -->
  <div class="w-full text-center">
    <h2 class=" text-oc-ink text-4xl md:text-6xl lg:text-7xl font-semibold tracking-tight grad-text"
        style="--from:#0B1B2Bcc; --via:#0E6F5Ccc; --to:#00CFFFcc; --speed:16s; --angle:135deg;">
      Become Limitless
    </h2>

    <p class="mx-auto mt-4 max-w-[780px] text-[20px] leading-relaxed text-neutral-600">
      ONX keeps you sharp. ONX Pro makes you unstoppable.
      <!-- <button id="ocModelsOpenBtnTop" class="ml-1 underline decoration-neutral-300 underline-offset-4 hover:text-neutral-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-oc-accent rounded-sm">
        Models Library
      </button> -->
    </p>
  </div>

  <!-- Cards -->
  <!-- Centered, auto-fit columns with fixed track widths; items stretch to equal height -->
  <div class="mt-8 grid grid-cols-[repeat(auto-fit,minmax(280px,360px))] justify-center gap-4 md:gap-6 auto-rows-auto place-items-stretch">
    <!-- ONX (SWAPPED to white style like previous Coming Soon) -->
    <article
      class="group rounded-2xl border border-neutral-200 bg-white p-6 md:p-7 shadow-[0_10px_30px_rgba(0,0,0,.06)] scroll-fade tilt transition-shadow duration-300 hover:shadow-[0_14px_36px_rgba(0,0,0,.08)] flex flex-col">
      <div class="flex items-center gap-3">
        <h3 class="text-xl font-semibold tracking-tight text-neutral-900">ONX</h3>
      </div>
      <p class="mt-3 text-sm leading-relaxed text-neutral-700">
        Your essential AI — general reasoning, restrictions, and execution.
      </p>
      <ul class="mt-4 space-y-2 text-sm text-neutral-800/90">
        <li class="flex items-start gap-2"><i class="ph ph-check text-[18px] mt-[2px]" aria-hidden="true"></i><span>Limited cloud power.</span></li>
        <li class="flex items-start gap-2"><i class="ph ph-check text-[18px] mt-[2px]" aria-hidden="true"></i><span>Unlimited free local AI.</span></li>
        <li class="flex items-start gap-2"><i class="ph ph-check text-[18px] mt-[2px]" aria-hidden="true"></i><span>Local database creation.</span></li>
      </ul>
      <!-- CTA -->
      <div class="mt-6">
        <button
          id="ctaGetOC"
          type="button"
          aria-label="Get ONX"
          class="w-full h-11 inline-flex items-center justify-center rounded-xl bg-neutral-900 text-white text-sm font-medium tracking-tight shadow-sm ring-1 ring-black/10 hover:bg-neutral-800 hover:shadow-md active:bg-neutral-900/90 focus:outline-none focus-visible:ring-2 focus-visible:ring-neutral-900/40 transition">
          Get ONX
        </button>
      </div>
    </article>

    <!-- ONX PRO (black with white accents + Apple-grade sheen) -->
    <article
      class="group pro-card sheen rounded-2xl border border-white/10 bg-neutral-950 text-white p-6 md:p-7 shadow-[0_16px_54px_rgba(0,0,0,.30)] scroll-fade tilt transition-shadow duration-300 hover:shadow-[0_20px_64px_rgba(0,0,0,.40)] flex flex-col overflow-hidden">
      <div class="flex items-center gap-3">
        <h3 class="text-xl font-semibold tracking-tight">ONX PRO</h3>
      </div>
      <p class="mt-3 text-sm leading-relaxed text-white/85">
        Uncensored intelligence for pros — deeper reasoning, larger context, faster responses.
      </p>
      <ul class="mt-4 space-y-2 text-sm text-white/90">
        <li class="flex items-start gap-2"><i class="ph ph-check text-[18px] mt-[2px]" aria-hidden="true"></i><span>Utilize cloud power.</span></li>
        <li class="flex items-start gap-2"><i class="ph ph-check text-[18px] mt-[2px]" aria-hidden="true"></i><span>Private databases for accurate knowledge.</span></li>
        <li class="flex items-start gap-2"><i class="ph ph-check text-[18px] mt-[2px]" aria-hidden="true"></i><span>Uncensored to remove all limits.</span></li>
        <li class="flex items-start gap-2"><i class="ph ph-check text-[18px] mt-[2px]" aria-hidden="true"></i><span>Access to agentic assistant.</span></li>
      </ul>
      <!-- CTA -->
      <div class="mt-6">
        <button
          id="ctaGetOCPro"
          type="button"
          aria-label="Get ONX PRO"
          class="w-full h-11 inline-flex items-center justify-center rounded-xl bg-white text-neutral-950 text-sm font-medium tracking-tight shadow-sm ring-1 ring-white/20 hover:bg-white/90 hover:shadow-md active:bg-white/95 focus:outline-none focus-visible:ring-2 focus-visible:ring-white/40 transition">
          Get ONX PRO
        </button>
      </div>
    </article>
  </div> <!-- ✅ close grid -->
</section>

<!-- ===== Local styles for sheen/hover polish (scoped by #oc-Models) ===== -->
<style>
  #oc-Models .tilt { transition: transform .25s ease, box-shadow .25s ease; }
  @media (hover:hover){
    #oc-Models .tilt:hover { transform: translateY(-2px) scale(1.01); }
  }

  /* ---------- Apple-grade sheen for the dark (Pro) card ---------- */
  /* Structure: the card gets a super-soft ambient pass via ::before, and a brighter,
     thinner specular streak via ::after that accelerates + brightens on hover. */

  #oc-Models .pro-card {
    position: relative;
    background-image:
      linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0) 18%),
      linear-gradient(0deg, rgba(255,255,255,0.03), rgba(255,255,255,0) 60%),
      radial-gradient(120% 160% at 100% -20%, rgba(255,255,255,0.06), transparent 50%);
    /* subtle inner glow near the top-right to emulate polished finish */
  }

  #oc-Models .sheen {
    isolation: isolate;
    overflow: hidden;            /* clip sheen to rounded corners */
    --sheen-angle: 120deg;       /* diagonal direction of the pass */
    --sheen-w: 26%;              /* width of the bright streak */
    --sheen-soft: 44%;           /* feathered edges */
    --ambient-alpha: .055;       /* ambient softness level */
    --streak-alpha: .18;         /* specular streak brightness (idle) */
    --streak-speed: 7.5s;        /* idle speed */
  }

  /* Ambient glassy veil (very soft, continuous) */
  #oc-Models .sheen::before {
    content: "";
    position: absolute;
    inset: -12%;
    border-radius: inherit;
    background:
      linear-gradient(var(--sheen-angle),
        rgba(255,255,255,0) calc(50% - var(--sheen-soft)),
        rgba(255,255,255,var(--ambient-alpha)) 50%,
        rgba(255,255,255,0) calc(50% + var(--sheen-soft))
      );
    transform: translateX(-140%) skewX(-12deg);
    animation: ocSheenAmbient var(--streak-speed) linear infinite;
    pointer-events: none;
    z-index: 0;
  }

  /* Brighter specular streak (thin highlight) */
  #oc-Models .sheen::after {
    content: "";
    position: absolute;
    inset: -14%;
    border-radius: inherit;
    background:
      linear-gradient(var(--sheen-angle),
        rgba(255,255,255,0) calc(50% - var(--sheen-w)),
        rgba(255,255,255,var(--streak-alpha)) 50%,
        rgba(255,255,255,0) calc(50% + var(--sheen-w))
      );
    filter: blur(10px) saturate(110%);
    transform: translateX(-160%) skewX(-14deg);
    animation: ocSheenPass var(--streak-speed) cubic-bezier(.16,1,.3,1) infinite;
    pointer-events: none;
    z-index: 1; /* sits above ambient but below content */
  }

  /* Hover: speed up and brighten the specular streak */
  @media (hover:hover){
    #oc-Models .sheen:hover {
      --streak-speed: 2.1s;
      --streak-alpha: .28;
    }
  }

  /* Keyframes for the sheen motion */
  @keyframes ocSheenAmbient {
    from { transform: translateX(-140%) skewX(-12deg); }
    to   { transform: translateX(140%)  skewX(-12deg); }
  }
  @keyframes ocSheenPass {
    0%   { transform: translateX(-160%) skewX(-14deg); }
    48%  { transform: translateX(110%)  skewX(-14deg); }
    100% { transform: translateX(160%)  skewX(-14deg); }
  }

  /* Reduced motion: keep the polished look without motion */
  @media (prefers-reduced-motion: reduce){
    #oc-Models .sheen::before,
    #oc-Models .sheen::after {
      animation: none !important;
      opacity: .12; /* static soft sheen */
      transform: translateX(0) skewX(-12deg);
    }
  }

  /* Existing helpers */
  #oc-Models .grid-stretch > * { height: 100%; }
  #oc-Models .rows-equal { grid-auto-rows: 1fr; }
</style>

<!-- (Optional) Tiny helper to ensure reveal class is applied if your global observer is disabled -->
<script>
  (function(){
    try{
      const root = document.getElementById('oc-Models');
      if (!root) return;
      if (!('IntersectionObserver' in window)) {
        root.classList.add('in');
        root.querySelectorAll('.scroll-fade').forEach(el=>el.classList.add('in-view'));
      }
    }catch(_){}
  })();
</script>

<!-- ────────────────────────── Brand Strip Section───────────────────────────────────── -->
<section class="padTop oc-brand-strip mx-auto max-w-[1200px] px-6">
  <!-- Microcopy -->
  <p class="mb-6 text-center text-[11px] leading-none tracking-[.24em] uppercase
             text-neutral-600 dark:text-white/60">
    Built on the platforms you trust
  </p>

  <!-- Logos row -->
  <ul class="grid grid-cols-4 items-center justify-items-center gap-10 md:gap-12"
      aria-label="Technology foundations">
    <li>
      <img data-oc-brand="google" alt="Google"
           class="h-10 md:h-12 lg:h-14 w-auto object-contain
                  opacity-0 transition-opacity duration-500
                  filter grayscale contrast-125 brightness-95
                  hover:grayscale-0 hover:brightness-100"
      />
    </li>

    <li>
      <img data-oc-brand="grok" alt="Grok"
           class="h-10 md:h-12 lg:h-14 w-auto object-contain
                  opacity-0 transition-opacity duration-500
                  filter grayscale contrast-125 brightness-95
                  hover:grayscale-0 hover:brightness-100"
      />
    </li>

    <li>
      <img data-oc-brand="meta" alt="Meta"
           class="h-10 md:h-12 lg:h-14 w-auto object-contain
                  opacity-0 transition-opacity duration-500
                  filter grayscale contrast-125 brightness-95
                  hover:grayscale-0 hover:brightness-100"
      />
    </li>

    <li>
      <img data-oc-brand="openai" alt="OpenAI"
           class="h-10 md:h-12 lg:h-14 w-auto object-contain
                  opacity-0 transition-opacity duration-500
                  filter grayscale contrast-125 brightness-95
                  hover:grayscale-0 hover:brightness-100"
      />
    </li>

  </ul>
</section>

<!-- Optional tiny loader (auto-wires [data-oc-brand] if no src is set) -->
<script>
(() => {
  const srcMap = {
    google: '/assets/brands/google.svg',
    openai: '/assets/brands/openai.svg',
    meta: '/assets/brands/meta.svg',
    grok: '/assets/brands/grok.svg'
  };

  document.querySelectorAll('img[data-oc-brand]').forEach(img => {
    const key = (img.getAttribute('data-oc-brand') || '').toLowerCase();
    const ensureFadeIn = () => requestAnimationFrame(() => img.style.opacity = '0.9');

    // Set src if missing
    if (!img.getAttribute('src') && srcMap[key]) img.src = srcMap[key];

    // Fade in once loaded
    if (img.complete) ensureFadeIn();
    else img.addEventListener('load', ensureFadeIn, { once: true });
  });
})();
</script>

<!-- Centered animated logo 
  <div class="mx-auto my-0 md:my-0 flex items-center justify-center">
    <span class="logo-anim LargeAniLogo" aria-label="ONX" style="--logo-size: clamp(56px, 30vw, 500px);"></span>
  </div> -->

 <!-- ────────────────────────── Download CTA Section───────────────────────────────────── -->
  <section id="download" class="padTop section-clip mx-auto max-w-[1200px] oc-container reveal">
    <div class="scroll-fade g-grad grad-anim rounded-3xl overflow-hidden border border-oc-line">
      <div class="p-8 md:p-12 flex flex-col gap-6 md:flex-row md:items-center md:justify-between">
        <div>
          <h2 class="text-2xl md:text-3xl font-semibold text-white">Get ONX</h2>
          <p class="mt-2 text-white/80 max-w-xl">Limitless AI for everything.</p>
        </div>
        <div class="flex flex-wrap items-center gap-3">
          <a href="download.html" class="btn inline-flex items-center gap-2 rounded-xl bg-white text-oc-ink px-4 py-2 font-medium hover:bg-gray-100 focus:ring-2 focus:ring-white/50"><i class="ph ph-apple-logo"></i> Download for macOS</a>
          <a href="download.html" class="btn inline-flex items-center gap-2 rounded-xl border border-white/30 bg-white/10 text-white px-4 py-2 font-medium hover:bg-white/20 focus:ring-2 focus:ring-white/40"><i class="ph ph-windows-logo"></i> Download for Windows</a>
        </div>
      </div>
    </div>
  </section>

  

<!-- ────────────────────────── Footer Section───────────────────────────────────── -->
  <footer>
    <div class="padTop mx-auto max-w-[1200px] oc-container py-12 flex items-center flex-col gap-6 text-oc-ink/60 text-sm">
      <div class="text-center">
        <span class="font-semibold text-black">ONX</span> © <span id="yr"></span> ONX
      </div>
      <div class="flex items-center gap-4">
        <a class="hover:text-oc-ink" href="contact.html">Contact</a>
        <a class="hover:text-oc-ink" href="privacy.html">Privacy</a>
        <a class="hover:text-oc-ink" href="terms.html">Terms</a>
        <a class="hover:text-oc-ink" href="download.html">Download</a>
      </div>
    </div>
  </footer>

  
  <script>
   

    // ================================
    // BRAND LOGO PATHS (global, easy to swap)
    // ================================
    window.OC_BRANDS = Object.assign({
      openai: 'OAILogo.png',
      google: 'googleLogo.svg',
      meta:   'metaLogo.svg',
      grok:   'grokLogo.svg'
    }, window.OC_BRANDS || {});

    // ================================
    // HERO TYPE-IN GLOBALS
    // ================================
    window.OC_HERO = Object.assign({
      enabled: true,
      startOnView: true,
      waitForBlur: true,
      startDelayMs: 200,
      staggerMs: 50,
      streamSpeed: 1.0,
      titleCharMin: 60,
      titleCharMax: 60,
      // Title delete timing (for reverse-typing out the brand before logo swap)
      titleDeleteMin: 20,
      titleDeleteMax: 30,
      titleDwellMs: 500,
      // Slower for "Your Counsel.", normal for "For "
      line1CharMin: 44,
      line1CharMax: 50,
      line2CharMin: 18,
      line2CharMax: 22,
      // Fallbacks for other sections using generic line speeds
      lineCharMin: 18,
      lineCharMax: 22,
      buttonCharMin: 5,
      buttonCharMax: 10
    }, window.OC_HERO || {});

    // ================================
    // HERO LOGO GLOW (global toggle)
    // ================================
    window.OC_HERO_GLOW = Object.assign({
      enabled: !!window.OC_ENABLE_HERO_LOGO_GLOW, // single switch at top
      pulse: true,             // enable subtle breathing pulse
      pulseDur: '6s',          // pulse duration
      color1: 'rgba(0,207,255,.40)', // primary glow
      color2: 'rgba(14,111,92,.28)', // secondary glow
      opacity: 0.55,           // target opacity after reveal
      blurPx: 30,              // blur radius in px
      insetPct: 16             // how far glow extends beyond logo (% of size)
    }, window.OC_HERO_GLOW || {});

    // ================================
    // NEW: HERO ROTATING WORD CONFIG (easy knobs + caret controls + mobile split)
    // ================================
    window.OC_HERO_ROTATOR = Object.assign({
      /* Desktop single-line prefix */
      prefix: 'For ',

      /* Mobile split behavior */
      mobileSplit: true,          // ← set to false to keep single line on mobile
      mobileBreakpoint: 768,      // ← Tailwind md breakpoint

      /* Mobile line texts (used only when mobileSplit === true) */
      prefixLine1: 'Your AI.',  // static top line on mobile
      prefixLine2: 'For ',           // second-line static prefix before rotating word

      /*words: [
        'everything.',
        'entrepreneurs.',
        'students.',
        'inventors.',
        'lawyers.',
        'designers.',
        'business owners.'
      ],*/

      words: [
  'everything',
  'entrepreneurs',
  'research',
  'students',
  'product R&D',
  'business',
  'law',
  'inventors',
  'designers',
  'creators',
  'developers',
  'entrepreneurs',
  'innovation'
],



      dwellMs: 2000,          // wait after a word is fully typed
      typeMin: 50,            // typing speed range (ms/char)
      typeMax: 70,
      deleteMin: 20,          // backspace speed range (ms/char)
      deleteMax: 30,

      // Caret controls (CSS variables injected on the container)
      caretBlinkMs: 800,                 // slightly faster, smoother blink
      caretWidthPx: 2,                   // border width in px
      caretColor: 'rgba(255,255,255,.92)'// caret color
    }, window.OC_HERO_ROTATOR || {});

    // ================================
    // SECTION TYPE-IN GLOBALS
    // ================================
    window.OC_SLY = Object.assign({
      enabled: true,
      startOnView: true,
      startDelayMs: 0,
      staggerMs: 0,
      streamSpeed: 1.0,
      titleCharMin: 30,
      titleCharMax: 30,
      lineCharMin: 10,
      lineCharMax: 10
    }, window.OC_SLY || {});

    window.OC_TCT = Object.assign({
      enabled: true,
      startOnView: true,
      startDelayMs: 0,
      staggerMs: 0,
      streamSpeed: 1.0,
      titleCharMin: 30,
      titleCharMax: 30,
      lineCharMin: 10,
      lineCharMax: 10
    }, window.OC_TCT || {});

    

    // Year
    const yr = document.getElementById('yr');
    if (yr) yr.textContent = new Date().getFullYear();

    // Scroll reveal (one-shot)
    const io = new IntersectionObserver((entries)=>{
      for (const e of entries) {
        if (e.isIntersecting) { e.target.classList.add('in'); io.unobserve(e.target); }
      }
    },{threshold:.12});
    document.querySelectorAll('.reveal').forEach(el=>io.observe(el));

    // ===== MOBILE SLIDE-IN MENU =====
    const hamburgerBtn = document.getElementById('hamburgerBtn');
    const mobileMenu   = document.getElementById('mobileMenu');
    const closeMenuBtn = document.getElementById('closeMenuBtn');

    function openMenu() {
      if (window.matchMedia('(min-width: 768px)').matches) return;
      mobileMenu.style.display = 'block'; void mobileMenu.offsetWidth;
      mobileMenu.classList.add('active'); hamburgerBtn.classList.add('is-active');
      hamburgerBtn.setAttribute('aria-expanded', 'true'); mobileMenu.setAttribute('aria-hidden','false');
      document.body.classList.add('overflow-hidden');
    }
    function closeMenu() {
      mobileMenu.classList.remove('active'); hamburgerBtn.classList.remove('is-active');
      hamburgerBtn.setAttribute('aria-expanded', 'false'); mobileMenu.setAttribute('aria-hidden','true');
      document.body.classList.remove('overflow-hidden');
      setTimeout(()=>{ if(!mobileMenu.classList.contains('active')) mobileMenu.style.display = 'none'; }, 550);
    }

    hamburgerBtn?.addEventListener('click', ()=> mobileMenu.classList.contains('active') ? closeMenu() : openMenu());
    closeMenuBtn?.addEventListener('click', closeMenu);
    mobileMenu?.addEventListener('click', (e)=>{ if (e.target.classList.contains('menu-scrim')) closeMenu(); });

    const mq = window.matchMedia('(min-width: 768px)');
    function handleMQ(e){ if (e.matches) closeMenu(); }
    if (mq.addEventListener) mq.addEventListener('change', handleMQ); else mq.addListener(handleMQ);

    document.addEventListener('keydown', (e)=>{ if (e.key === 'Escape') closeMenu(); });

    window.addEventListener('load', () => {
      const pageBlur = document.getElementById('pageBlur');
      if (!pageBlur) return;
      pageBlur.classList.add('hide');
      document.dispatchEvent(new Event('oc:page-blur-fade'));
      setTimeout(() => pageBlur.remove(), 1300);
    });

    // ================================
    // BLUR-ON-SCROLL OBSERVER (ONE-SHOT, PERSISTS UNTIL REFRESH)
    // ================================
    const sbo = new IntersectionObserver((entries) => {
      for (const e of entries) {
        if (e.isIntersecting) {
          e.target.classList.add('in-view');
          sbo.unobserve(e.target);
        }
      }
    }, { threshold: 0.35, rootMargin: "-12% 0px -12% 0px" });
    document.querySelectorAll('.scroll-fade').forEach(el => sbo.observe(el));

    // ===== Helpers =====
  
    function rand(a,b){ return Math.floor(Math.random()*(b-a+1))+a; }

    // Typewriter for plain text into an element
    function typewriter(el, text, min=10, max=18){
      return new Promise((resolve)=>{
        let i = 0;
        el.textContent = '';
        const tn = document.createTextNode('');
        el.appendChild(tn);
        (function tick(){
          tn.textContent = text.slice(0, i++);
          if (i <= text.length) setTimeout(tick, sp(rand(min,max)));
          else resolve();
        })();
      });
    }

    // Stream HTML with structure preserved (safe DOM walk; types text nodes char-by-char)
    async function streamHTML(el, html, charMin=10, charMax=18){
      const container = document.createElement('div');
      container.innerHTML = html.trim();

      async function walk(srcNode, dstParent){
        const children = Array.from(srcNode.childNodes);
        for (const child of children){
          if (child.nodeType === Node.TEXT_NODE){
            const text = child.textContent || '';
            await new Promise(res=>{
              let i=0;
              const tn = document.createTextNode('');
              dstParent.appendChild(tn);
              (function tick(){
                tn.textContent = text.slice(0, i++);
                if (i <= text.length) setTimeout(tick, sp(rand(charMin,charMax)));
                else res();
              })();
            });
          } else if (child.nodeType === Node.ELEMENT_NODE){
            const clone = child.cloneNode(false);
            dstParent.appendChild(clone);
            await walk(child, clone);
          }
        }
      }
      el.innerHTML = '';
      await walk(container, el);
    }

    // ================================
    // HERO: Show logo immediately, then type refined single-line tagline
    // ================================
    (function heroTyping(){
      const cfg = window.OC_HERO || {};
      if (!cfg.enabled) return;

      const hero = document.getElementById('home');
      if (!hero) return;

      const titleEl = hero.querySelector('.hero-title');
      const sub1El  = hero.querySelector('.hero-sub1');
      const ctaTxt  = hero.querySelector('.hero-cta-text');
      const ctaBtn  = hero.querySelector('#heroCtaBtn');

      if (!titleEl || !ctaTxt || !ctaBtn) return;

      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

      const bTxt  = ctaTxt.textContent || '';

      // Refined Apple-style tagline (single line)
      const TAG1_BEFORE = '';
      const TAG1_BOLD   = '';
      const TAG1_AFTER  = '  AI Without Limits';
      const TAGLINE_FULL = TAG1_BEFORE + TAG1_BOLD + TAG1_AFTER;
      // Mobile split lines as requested
      const MOBILE_LINE1 = '';
      const MOBILE_LINE2 = 'AI Without Limits';
      const isMobile = window.matchMedia('(max-width: 767px)').matches;

      // Prepare hero: replace title with a wrapper containing the logo (and optional glow)
      titleEl.innerHTML = '';
      const wrapSpan = document.createElement('span');
      wrapSpan.className = 'hero-logo-wrap';
      titleEl.appendChild(wrapSpan);

      // Optional glow behind the logo (Apple-like), controlled by OC_HERO_GLOW
      const glowCfg = window.OC_HERO_GLOW || {};
      if (glowCfg.enabled) {
        const glow = document.createElement('span');
        glow.className = 'hero-logo-glow' + (glowCfg.pulse ? ' glow-pulse' : '');
        glow.style.setProperty('--glow-c1', String(glowCfg.color1 || 'rgba(0,207,255,.40)'));
        glow.style.setProperty('--glow-c2', String(glowCfg.color2 || 'rgba(14,111,92,.28)'));
        glow.style.setProperty('--glow-opacity', String(glowCfg.opacity ?? 0.55));
        glow.style.setProperty('--glow-blur', ((glowCfg.blurPx ?? 30)|0) + 'px');
        glow.style.setProperty('--glow-pulse-dur', String(glowCfg.pulseDur || '6s'));
        const inset = Math.max(0, Math.min(40, (glowCfg.insetPct ?? 16))) + '%';
        glow.style.inset = `-${inset}`;
        wrapSpan.appendChild(glow);
      }

      const logoSpanNow = document.createElement('span');
      logoSpanNow.className = 'hero-logo-white';
      logoSpanNow.setAttribute('role','img');
      logoSpanNow.setAttribute('aria-label','ONX');
      wrapSpan.appendChild(logoSpanNow);

      if (prefersReduced) {
        // Reduced motion: static line(s), reveal CTA (no animation)
        if (sub1El) {
          if (isMobile) {
            sub1El.innerHTML = `
              <span class="hero-line1">${MOBILE_LINE1}</span>
              <span class="hero-line2">${MOBILE_LINE2}</span>`;
          } else {
            sub1El.innerHTML = `<span class="hero-line1">${TAGLINE_FULL}</span>`;
          }
        }
        ctaBtn.classList.add('cta-visible');
        document.dispatchEvent(new Event('oc:cta-text-done'));
        return;
      }

      // Prepare for typing
      if (sub1El) sub1El.textContent = '';
      ctaTxt.textContent = '';
      ctaBtn.classList.remove('cta-visible');

      // local speed helpers honoring OC_HERO.streamSpeed
      function spH(ms){
        const f = (typeof cfg.streamSpeed === 'number' && cfg.streamSpeed > 0) ? cfg.streamSpeed : 1.0;
        return ms * f;
      }
      function typeHero(el, text, min, max){
        return new Promise(resolve=>{
          let i=0;
          const tn = document.createTextNode('');
          el.textContent = '';
          el.appendChild(tn);
          (function tick(){
            tn.textContent = text.slice(0, ++i);
            if (i <= text.length) setTimeout(tick, spH(rand(min,max)));
            else resolve();
          })();
        });
      }
      const wait = (ms)=> new Promise(r=>setTimeout(r, ms));

      function afterTransition(el, fallbackMs = 900){
        return new Promise((resolve)=>{
          let done = false;
          const finish = ()=>{ if (done) return; done = true; resolve(); };
          const onEnd = (e)=>{ if (e.target === el) finish(); };
          el.addEventListener('transitionend', onEnd, { once: true });
          setTimeout(()=>{ el.removeEventListener('transitionend', onEnd); finish(); }, fallbackMs);
        });
      }
      async function run(){
        await wait(Math.max(0, cfg.startDelayMs|0));
        // Type the tagline: two-line on mobile, single shimmering line on desktop
        if (sub1El){
          const min = (cfg.line1CharMin ?? cfg.lineCharMin) | 0;
          const max = (cfg.line1CharMax ?? cfg.lineCharMax) | 0;
          if (isMobile) {
            sub1El.innerHTML = '<span class="hero-line1"><span class="seg-fullshine l1"></span></span>\
                                <span class="hero-line2"><span class="seg-fullshine l2"></span></span>';
            const l1 = sub1El.querySelector('.l1');
            const l2 = sub1El.querySelector('.l2');
            await typeHero(l1, MOBILE_LINE1, min, max);
            await typeHero(l2, MOBILE_LINE2, min, max);
          } else {
            sub1El.innerHTML = '<span class="hero-line1"><span class="seg-fullshine"></span></span>';
            const segFull = sub1El.querySelector('.seg-fullshine');
            await typeHero(segFull, TAGLINE_FULL, min, max);
          }
        }
        await wait(cfg.staggerMs|0);
        ctaBtn.classList.add('cta-visible');
        document.dispatchEvent(new Event('oc:cta-visible'));
        await afterTransition(ctaBtn, 900);
        await wait(60);
        document.dispatchEvent(new Event('oc:cta-text-start'));
        await typeHero(ctaTxt, bTxt, cfg.buttonCharMin|0, cfg.buttonCharMax|0);
        document.dispatchEvent(new Event('oc:cta-text-done'));
      }

      let started = false;
      let inView = !cfg.startOnView;
      let blurReady = !cfg.waitForBlur;

      function tryStart(){
        if (!started && inView && blurReady){
          started = true; run();
        }
      }

      if (cfg.startOnView){
        const ob = new IntersectionObserver((entries)=>{
          for (const e of entries){
            if (e.isIntersecting){
              inView = true; tryStart(); ob.disconnect();
            }
          }
        }, { threshold:.35 });
        ob.observe(hero);
      }

      if (cfg.waitForBlur){
        document.addEventListener('oc:page-blur-fade', () => { blurReady = true; tryStart(); }, { once:true });
      } else {
        blurReady = true; tryStart();
      }
    })();

    // ================================
    // Rotator moved to section below hero (#sly-4 .sly-sub)
    // ================================
    (function movedRotator(){
      const root = document.querySelector('#sly-4 .sly-sub');
      const rCfg = window.OC_HERO_ROTATOR || {};
      const cfg = window.OC_HERO || {};
      if (!root || !rCfg.words || !rCfg.words.length) return;

      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      const prefix = rCfg.prefix || 'Your AI. For ';
      const words = rCfg.words.slice();

      function spH(ms){
        const f = (typeof cfg.streamSpeed === 'number' && cfg.streamSpeed > 0) ? cfg.streamSpeed : 1.0;
        return ms * f;
      }
      function wait(ms){ return new Promise(r=>setTimeout(r, ms)); }
      function rand(a,b){ return Math.floor(Math.random()*(b-a+1))+a; }
      function type(el, text, min, max){
        return new Promise(resolve=>{
          let i=0; el.textContent=''; const tn=document.createTextNode(''); el.appendChild(tn);
          (function tick(){ tn.textContent=text.slice(0, ++i); if(i<=text.length) setTimeout(tick, spH(rand(min,max))); else resolve(); })();
        });
      }
      function del(el, min, max){
        return new Promise(resolve=>{
          const step=()=>{ const t=el.textContent||''; if(!t.length){ resolve(); return; } el.textContent=t.slice(0,-1); setTimeout(step, spH(rand(min,max))); };
          step();
        });
      }

      // Build simple single-line structure
      root.innerHTML = '<span class="rot-prefix"></span><span class="hero-word"></span><span class="hero-caret" aria-hidden="true"></span>';
      // caret styling reuse
      root.style.setProperty('--caret-blink', (rCfg.caretBlinkMs||800) + 'ms');
      root.style.setProperty('--caret-w', (rCfg.caretWidthPx||2) + 'px');
      root.style.setProperty('--caret-color', rCfg.caretColor || 'rgba(0,0,0,.85)');

      const pEl = root.querySelector('.rot-prefix');
      const wEl = root.querySelector('.hero-word');

      async function run(){
        if (prefersReduced){
          root.textContent = prefix + words[0];
          return;
        }
        await type(pEl, prefix, cfg.lineCharMin|0 || 12, cfg.lineCharMax|0 || 18);
        await type(wEl, words[0], rCfg.typeMin|0 || 40, rCfg.typeMax|0 || 70);

        let i = 1 % words.length;
        (async function loop(){
          await wait(spH(rCfg.dwellMs|0 || 2000));
          await del(wEl, rCfg.deleteMin|0 || 20, rCfg.deleteMax|0 || 30);
          await type(wEl, words[i], rCfg.typeMin|0 || 40, rCfg.typeMax|0 || 70);
          i = (i + 1) % words.length;
          loop();
        })();
      }

      // Start when section comes into view
      const ob = new IntersectionObserver((entries)=>{
        for (const e of entries){ if (e.isIntersecting){ run(); ob.disconnect(); } }
      }, { threshold: .35 });
      ob.observe(document.getElementById('sly-4'));
    })();

    // ================================
    // SECTION TYPERS
    // ================================
    function makeSectionTyper(rootSel, titleSel, subSel, cfg){
      const root  = document.querySelector(rootSel);
      if (!root || !cfg?.enabled) return;

      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      if (prefersReduced) return;

      const titleEl = root.querySelector(titleSel);
      const subEl   = root.querySelector(subSel);

      if (!titleEl && !subEl) return;

      const tText = titleEl ? (titleEl.textContent || '') : '';
      const sText = subEl   ? (subEl.textContent   || '') : '';

      if (titleEl) titleEl.textContent = '';
      if (subEl)   subEl.textContent   = '';

      function spLocal(ms){
        const f = (typeof cfg.streamSpeed === 'number' && cfg.streamSpeed > 0) ? cfg.streamSpeed : 1.0;
        return ms * f;
      }
      function typeLocal(el, text, min, max){
        return new Promise(resolve=>{
          let i=0;
          const tn = document.createTextNode('');
          el.appendChild(tn);
          (function tick(){
            tn.textContent = text.slice(0, ++i);
            if (i <= text.length) setTimeout(tick, spLocal(rand(min,max)));
            else resolve();
          })();
        });
      }
      const wait = (ms)=> new Promise(r=>setTimeout(r, ms));

      async function run(){
        await wait(Math.max(0, cfg.startDelayMs|0));
        if (titleEl) await typeLocal(titleEl, tText, cfg.titleCharMin|0, cfg.titleCharMax|0);
        if (subEl){ await wait(cfg.staggerMs|0); await typeLocal(subEl, sText, cfg.lineCharMin|0, cfg.lineCharMax|0); }
      }

      if (cfg.startOnView){
        let started = false;
        const ob = new IntersectionObserver((entries)=>{
          for (const e of entries){
            if (e.isIntersecting && !started){
              started = true;
              run();
              ob.disconnect();
            }
          }
        }, { threshold:.35 });
        ob.observe(root);
      } else {
        run();
      }
    }

    makeSectionTyper('#sly', '.sly-title', '.sly-sub', window.OC_SLY);
    makeSectionTyper('#sly-2', '.sly-title', '.sly-sub', window.OC_SLY);
    makeSectionTyper('#sly-3', '.sly-title', '.sly-sub', window.OC_SLY);
    // '#sly-4' now hosts the moved rotator; skip generic typer there
    makeSectionTyper('#tct', '.tct-title', '.tct-sub', window.OC_TCT);



    // ===== Apply BRAND logo paths to <img data-oc-brand> =====
    (function applyBrandLogos(){
      const map = window.OC_BRANDS || {};
      document.querySelectorAll('img[data-oc-brand]').forEach(img=>{
        const key = img.getAttribute('data-oc-brand');
        if (map[key]) img.src = map[key];
      });
    })();

    // ===== Set HERO CTA icon based on OS (Windows ⇄ macOS) =====
    (function setHeroCtaIcon(){
      const el = document.getElementById('heroCtaIcon');
      if (!el) return;
      const os = (window.OC_OS || '').toLowerCase();
      el.classList.remove('ph-download','ph-apple-logo','ph-windows-logo');
      if (os === 'windows'){
        el.classList.add('ph-windows-logo');
        el.setAttribute('title','Windows');
        el.setAttribute('aria-label','Windows');
      } else {
        el.classList.add('ph-apple-logo');
        el.setAttribute('title','macOS');
        el.setAttribute('aria-label','macOS');
      }
    })();

(() => {
  class OCDownArrow extends HTMLElement {
    static get observedAttributes() {
      return [
        'dir','size','thickness','alpha',
        'amp','bounce','breathe',
        'from','via','to'
      ];
    }
    constructor(){ super(); this.attachShadow({mode:'open'}); }
    connectedCallback(){ this.render(); }
    attributeChangedCallback(){ this.render(); }

    render(){
      const dir       = (this.getAttribute('dir') || 'down').toLowerCase();
      const size      = Math.max(8, parseInt(this.getAttribute('size') || '72', 10));
      const thickness = Math.max(1, parseFloat(this.getAttribute('thickness') || '7'));
      const alpha     = Math.min(1, Math.max(0, parseFloat(this.getAttribute('alpha') ?? '0.85')));
      const amp       = (this.getAttribute('amp') || '14%').trim();
      const bounceDur = (this.getAttribute('bounce') || '1.8s').trim();
      const breatheDur= (this.getAttribute('breathe') || '3.6s').trim();

      const from = this.getAttribute('from') || '#ffffff';
      const via  = this.getAttribute('via')  || from;
      const to   = this.getAttribute('to')   || from;

      const reduce = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      const rotation = ({ right:0, down:90, left:180, up:-90 }[dir] ?? 90);
      const gid = 'grad_' + Math.random().toString(36).slice(2);

      const animateTag = reduce ? '' : `
        <animateTransform attributeName="gradientTransform"
                          type="translate"
                          from="0 -1" to="0 1"
                          dur="8s" repeatCount="indefinite" />`;

      this.shadowRoot.innerHTML = `
        <style>
          :host { display:inline-block; line-height:0; }
          .wrap {
            --amp: ${amp};
            opacity: ${alpha};
            will-change: transform, filter, opacity;
            ${reduce ? '' : `animation:
              oc-bounce ${bounceDur} ease-in-out infinite,
              oc-breathe ${breatheDur} ease-in-out infinite;`}
            backface-visibility: hidden; transform: translateZ(0);
          }

          @keyframes oc-bounce {
            0%, 100% { transform: translateY(0); }
            50%      { transform: translateY(var(--amp)); }
          }
          @keyframes oc-breathe {
            0%, 100% { filter: drop-shadow(0 2px 8px rgba(255,255,255,.22))
                             drop-shadow(0 10px 26px rgba(255,255,255,.15)); }
            50%      { filter: drop-shadow(0 6px 18px rgba(255,255,255,.40))
                             drop-shadow(0 16px 40px rgba(255,255,255,.22)); }
          }

          svg { width:${size}px; height:${size}px; overflow:visible; }
          .stroke {
            stroke: url(#${gid});
            stroke-width:${thickness};
            stroke-linecap: round;
            stroke-linejoin: round;
            fill: none;
          }
        </style>

        <div class="wrap" part="wrap" aria-hidden="true">
          <svg viewBox="0 0 64 64" role="img" aria-label="Down arrow" style="transform: rotate(${rotation}deg);">
            <defs>
              <linearGradient id="${gid}" x1="0" y1="0" x2="0" y2="1" gradientUnits="objectBoundingBox">
                <stop offset="0%"   stop-color="${from}" />
                <stop offset="50%"  stop-color="${via}" />
                <stop offset="100%" stop-color="${to}" />
                ${animateTag}
              </linearGradient>
            </defs>

            <path class="stroke" d="M12 32 H44" />
            <path class="stroke" d="M44 20 L56 32 L44 44" />
          </svg>
        </div>
      `;
    }
  }

  if (!customElements.get('oc-down-arrow')) {
    customElements.define('oc-down-arrow', OCDownArrow);
  }
})();
  </script>
</body>
</html>
